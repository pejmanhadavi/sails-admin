$(function(){altair_xeditable.x_ajax(),altair_xeditable.x_options(),altair_xeditable.x_plugins(),altair_xeditable.x_address()}),altair_xeditable={x_ajax:function(){function e(a,e){var t,i=[];for(var n in i.push(a.type.toUpperCase()+' url = "'+a.url+'"'),a.data){if(a.data[n]&&"object"==typeof a.data[n]){for(var s in t=[],a.data[n])t.push(s+': "'+a.data[n][s]+'"');t="{ "+t.join(", ")+" }"}else t='"'+a.data[n]+'"';i.push(n+" = "+t)}i.push("RESPONSE: status = "+e.status),e.responseText&&($.isArray(e.responseText)?(i.push("["),$.each(e.responseText,function(a,e){i.push("{value: "+e.value+', text: "'+e.text+'"}')}),i.push("]")):i.push($.trim(e.responseText))),i.push("--------------------------------------\n"),$("#console").val(i.join("\n")+$("#console").val())}$.mockjaxSettings.responseTime=500,$.mockjax({url:"/post",response:function(a){e(a,this)}}),$.mockjax({url:"/error",status:400,statusText:"Bad Request",response:function(a){this.responseText="Please input correct value",e(a,this)}}),$.mockjax({url:"/status",status:500,response:function(a){this.responseText="Internal Server Error",e(a,this)}}),$.mockjax({url:"/groups",response:function(a){this.responseText=[{value:0,text:"Guest"},{value:1,text:"Service"},{value:2,text:"Customer"},{value:3,text:"Operator"},{value:4,text:"Support"},{value:5,text:"Admin"}],e(a,this)}})},x_options:function(){$.fn.editable.defaults.url="/post",$.fn.editabletypes.combodate.defaults.inputclass="md-input",$.fn.editabletypes.email.defaults.inputclass="md-input",$.fn.editabletypes.number.defaults.inputclass="md-input",$.fn.editabletypes.password.defaults.inputclass="md-input",$.fn.editabletypes.select.defaults.inputclass="md-input",$.fn.editabletypes.tel.defaults.inputclass="md-input",$.fn.editabletypes.text.defaults.inputclass="md-input",$.fn.editabletypes.textarea.defaults.inputclass="md-input",$.fn.editabletypes.time.defaults.inputclass="md-input",$.fn.editabletypes.url.defaults.inputclass="md-input",$.fn.editableform.buttons='<div class="editable-footer"><button type="submit" class="editable-submit md-btn md-btn-small md-btn-flat md-btn-flat-primary">ok</button><button type="button" class="editable-cancel md-btn md-btn-small md-btn-flat">cancel</button></div>'},x_address:function(){!function(i){"use strict";var e=function(a){this.init("address",a,e.defaults)};i.fn.editableutils.inherit(e,i.fn.editabletypes.abstractinput),i.extend(e.prototype,{render:function(){this.$input=this.$tpl.find("input")},value2html:function(a,e){if(a){var t=i("<div>").text(a.city).html()+", "+i("<div>").text(a.street).html()+" st., bld. "+i("<div>").text(a.building).html();i(e).html(t)}else i(e).empty()},html2value:function(a){return null},value2str:function(a){var e="";if(a)for(var t in a)e=e+t+":"+a[t]+";";return e},str2value:function(a){return a},value2input:function(a){a&&(this.$input.filter('[name="city"]').val(a.city),this.$input.filter('[name="street"]').val(a.street),this.$input.filter('[name="building"]').val(a.building))},input2value:function(){return{city:this.$input.filter('[name="city"]').val(),street:this.$input.filter('[name="street"]').val(),building:this.$input.filter('[name="building"]').val()}},activate:function(){this.$input.filter('[name="city"]').focus()},autosubmit:function(){this.$input.keydown(function(a){13===a.which&&i(this).closest("form").submit()})}}),e.defaults=i.extend({},i.fn.editabletypes.abstractinput.defaults,{tpl:'<div class="editable-address"><label><span>City: </span><input type="text" name="city" class="md-input"></label></div><div class="editable-address"><label><span>Street: </span><input type="text" name="street" class="md-input"></label></div><div class="editable-address"><label><span>Building: </span><input type="text" name="building" class="md-input"></label></div>'}),i.fn.editabletypes.address=e}(window.jQuery),$("#address").editable({url:"/post",value:{city:"Moscow",street:"Lenina",building:"12"},validate:function(a){if(""==a.city)return"city is required!"},display:function(a){if(a){var e="<b>"+$("<div>").text(a.city).html()+"</b>, "+$("<div>").text(a.street).html()+" st., bld. "+$("<div>").text(a.building).html();$(this).html(e)}else $(this).empty()}})},x_plugins:function(){$("#username").editable({url:"/post",type:"text",pk:1,name:"username",title:"Enter username"}),$("#firstname").editable({validate:function(a){if(""==$.trim(a))return"This field is required"}}),$("#sex").editable({prepend:"not selected",source:[{value:1,text:"Male"},{value:2,text:"Female"}],display:function(e,a){var t=$.grep(a,function(a){return a.value==e});t.length?$(this).text(t[0].text).css("color",{"":"gray",1:"green",2:"blue"}[e]):$(this).empty()}}),$("#status").editable(),$("#group").editable({showbuttons:!1}),$("#vacation").editable({datepicker:{todayBtn:"linked"}}),$("#dob").editable(),$("#event").editable({placement:"right",combodate:{firstItem:"name"}}),$("#comments").editable({showbuttons:"bottom"}),$("#note").editable(),$("#pencil").click(function(a){a.stopPropagation(),a.preventDefault(),$("#note").editable("toggle")}),$("#state").editable({source:["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Dakota","North Carolina","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"]}),$("#state2").editable({value:"California",typeahead:{name:"state",local:["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Dakota","North Carolina","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"]}}),$("#fruits").editable({pk:1,limit:3,source:[{value:1,text:"banana"},{value:2,text:"peach"},{value:3,text:"apple"},{value:4,text:"watermelon"},{value:5,text:"orange"}]}),$("#fruits").on("shown",function(a,e){e.input.$input.each(function(){altair_md.checkbox_radio($(this))})}),$("#tags").editable({inputclass:"input-large",select2:{tags:["html","javascript","css","ajax"],tokenSeparators:[","," "]}});var t=[];$.each({BD:"Bangladesh",BE:"Belgium",BF:"Burkina Faso",BG:"Bulgaria",BA:"Bosnia and Herzegovina",BB:"Barbados",WF:"Wallis and Futuna",BL:"Saint Bartelemey",BM:"Bermuda",BN:"Brunei Darussalam",BO:"Bolivia",BH:"Bahrain",BI:"Burundi",BJ:"Benin",BT:"Bhutan",JM:"Jamaica",BV:"Bouvet Island",BW:"Botswana",WS:"Samoa",BR:"Brazil",BS:"Bahamas",JE:"Jersey",BY:"Belarus",O1:"Other Country",LV:"Latvia",RW:"Rwanda",RS:"Serbia",TL:"Timor-Leste",RE:"Reunion",LU:"Luxembourg",TJ:"Tajikistan",RO:"Romania",PG:"Papua New Guinea",GW:"Guinea-Bissau",GU:"Guam",GT:"Guatemala",GS:"South Georgia and the South Sandwich Islands",GR:"Greece",GQ:"Equatorial Guinea",GP:"Guadeloupe",JP:"Japan",GY:"Guyana",GG:"Guernsey",GF:"French Guiana",GE:"Georgia",GD:"Grenada",GB:"United Kingdom",GA:"Gabon",SV:"El Salvador",GN:"Guinea",GM:"Gambia",GL:"Greenland",GI:"Gibraltar",GH:"Ghana",OM:"Oman",TN:"Tunisia",JO:"Jordan",HR:"Croatia",HT:"Haiti",HU:"Hungary",HK:"Hong Kong",HN:"Honduras",HM:"Heard Island and McDonald Islands",VE:"Venezuela",PR:"Puerto Rico",PS:"Palestinian Territory",PW:"Palau",PT:"Portugal",SJ:"Svalbard and Jan Mayen",PY:"Paraguay",IQ:"Iraq",PA:"Panama",PF:"French Polynesia",BZ:"Belize",PE:"Peru",PK:"Pakistan",PH:"Philippines",PN:"Pitcairn",TM:"Turkmenistan",PL:"Poland",PM:"Saint Pierre and Miquelon",ZM:"Zambia",EH:"Western Sahara",RU:"Russian Federation",EE:"Estonia",EG:"Egypt",TK:"Tokelau",ZA:"South Africa",EC:"Ecuador",IT:"Italy",VN:"Vietnam",SB:"Solomon Islands",EU:"Europe",ET:"Ethiopia",SO:"Somalia",ZW:"Zimbabwe",SA:"Saudi Arabia",ES:"Spain",ER:"Eritrea",ME:"Montenegro",MD:"Moldova, Republic of",MG:"Madagascar",MF:"Saint Martin",MA:"Morocco",MC:"Monaco",UZ:"Uzbekistan",MM:"Myanmar",ML:"Mali",MO:"Macao",MN:"Mongolia",MH:"Marshall Islands",MK:"Macedonia",MU:"Mauritius",MT:"Malta",MW:"Malawi",MV:"Maldives",MQ:"Martinique",MP:"Northern Mariana Islands",MS:"Montserrat",MR:"Mauritania",IM:"Isle of Man",UG:"Uganda",TZ:"Tanzania, United Republic of",MY:"Malaysia",MX:"Mexico",IL:"Israel",FR:"France",IO:"British Indian Ocean Territory",FX:"France, Metropolitan",SH:"Saint Helena",FI:"Finland",FJ:"Fiji",FK:"Falkland Islands (Malvinas)",FM:"Micronesia, Federated States of",FO:"Faroe Islands",NI:"Nicaragua",NL:"Netherlands",NO:"Norway",NA:"Namibia",VU:"Vanuatu",NC:"New Caledonia",NE:"Niger",NF:"Norfolk Island",NG:"Nigeria",NZ:"New Zealand",NP:"Nepal",NR:"Nauru",NU:"Niue",CK:"Cook Islands",CI:"Cote d'Ivoire",CH:"Switzerland",CO:"Colombia",CN:"China",CM:"Cameroon",CL:"Chile",CC:"Cocos (Keeling) Islands",CA:"Canada",CG:"Congo",CF:"Central African Republic",CD:"Congo, The Democratic Republic of the",CZ:"Czech Republic",CY:"Cyprus",CX:"Christmas Island",CR:"Costa Rica",CV:"Cape Verde",CU:"Cuba",SZ:"Swaziland",SY:"Syrian Arab Republic",KG:"Kyrgyzstan",KE:"Kenya",SR:"Suriname",KI:"Kiribati",KH:"Cambodia",KN:"Saint Kitts and Nevis",KM:"Comoros",ST:"Sao Tome and Principe",SK:"Slovakia",KR:"Korea, Republic of",SI:"Slovenia",KP:"Korea, Democratic People's Republic of",KW:"Kuwait",SN:"Senegal",SM:"San Marino",SL:"Sierra Leone",SC:"Seychelles",KZ:"Kazakhstan",KY:"Cayman Islands",SG:"Singapore",SE:"Sweden",SD:"Sudan",DO:"Dominican Republic",DM:"Dominica",DJ:"Djibouti",DK:"Denmark",VG:"Virgin Islands, British",DE:"Germany",YE:"Yemen",DZ:"Algeria",US:"United States",UY:"Uruguay",YT:"Mayotte",UM:"United States Minor Outlying Islands",LB:"Lebanon",LC:"Saint Lucia",LA:"Lao People's Democratic Republic",TV:"Tuvalu",TW:"Taiwan",TT:"Trinidad and Tobago",TR:"Turkey",LK:"Sri Lanka",LI:"Liechtenstein",A1:"Anonymous Proxy",TO:"Tonga",LT:"Lithuania",A2:"Satellite Provider",LR:"Liberia",LS:"Lesotho",TH:"Thailand",TF:"French Southern Territories",TG:"Togo",TD:"Chad",TC:"Turks and Caicos Islands",LY:"Libyan Arab Jamahiriya",VA:"Holy See (Vatican City State)",VC:"Saint Vincent and the Grenadines",AE:"United Arab Emirates",AD:"Andorra",AG:"Antigua and Barbuda",AF:"Afghanistan",AI:"Anguilla",VI:"Virgin Islands, U.S.",IS:"Iceland",IR:"Iran, Islamic Republic of",AM:"Armenia",AL:"Albania",AO:"Angola",AN:"Netherlands Antilles",AQ:"Antarctica",AP:"Asia/Pacific Region",AS:"American Samoa",AR:"Argentina",AU:"Australia",AT:"Austria",AW:"Aruba",IN:"India",AX:"Aland Islands",AZ:"Azerbaijan",IE:"Ireland",ID:"Indonesia",UA:"Ukraine",QA:"Qatar",MZ:"Mozambique"},function(a,e){t.push({id:a,text:e})}),$("#country").editable({source:t,select2:{width:200,placeholder:"Select country",allowClear:!0}}),$("#user .editable").on("hidden",function(a,e){if("save"===e||"nochange"===e){var t=$(this).closest("tr").next().find(".editable");$("#autoopen").is(":checked")?setTimeout(function(){t.editable("show")},300):t.focus()}}),console.log($.fn.editabletypes)}};