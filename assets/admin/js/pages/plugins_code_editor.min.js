$(function(){altair_code_editor.init()});var $codeEditor=$("#codeEditor"),file_list_class=".file_list";altair_code_editor={init:function(){altair_code_editor.copy_list_sidebar(),altair_code_editor.init_code_editor(),altair_code_editor.distraction_free_mode(),altair_code_editor.change_theme()},init_code_editor:function(){cEditor=CodeMirror.fromTextArea(document.getElementById("codeEditor"),{lineNumbers:!0,mode:"text/html",matchTags:{bothTags:!0},extraKeys:{F11:function(t){t.setOption("fullScreen",!t.getOption("fullScreen"))},Esc:function(t){t.getOption("fullScreen")&&t.setOption("fullScreen",!1)}}}),$(file_list_class).find("a").on("click",function(t){t.preventDefault();var e=$(this),i=e.attr("data-editor-file"),o=e.attr("data-editor-mode");if(!e.closest("li").hasClass("md-list-item-active")){var r,c,d;r="data/codemirror/file_content.php?file="+i,c=o,d=function(){e.closest("li").addClass("md-list-item-active").siblings("li").removeClass("md-list-item-active")},altair_helpers.content_preloader_show("regular",null,".md-card-single"),$codeEditor.next(".CodeMirror").velocity({opacity:0},{duration:400,complete:function(){$.ajax({url:r,dataType:"text",success:function(t){"html"==c&&(cEditor.setOption("mode","text/html"),cEditor.setOption("matchTags",{bothTags:!0})),"js"==c&&(cEditor.setOption("mode","text/javascript"),cEditor.setOption("matchBrackets",!0)),"php"==c&&(cEditor.setOption("mode","application/x-httpd-php"),cEditor.setOption("matchTags",!1),cEditor.setOption("matchBrackets",!0)),"json"==c&&cEditor.setOption("mode","application/json"),cEditor.setValue(t),"function"==typeof d&&d(),setTimeout(function(){altair_helpers.content_preloader_hide()},280),$codeEditor.next(".CodeMirror").velocity("reverse")}})}})}})},distraction_free_mode:function(){$codeEditor.next(".CodeMirror").append('<button class="uk-modal-close uk-close uk-close-alt" type="button" id="code_editor_close"></button>').on("click","#code_editor_close",function(){cEditor.setOption("fullScreen",!1)}),$("#code_editor_fullscreen").on("click",function(t){t.preventDefault(),cEditor.setOption("fullScreen",!0)})},change_theme:function(){$("#code_editor_theme").find("a").click(function(t){t.preventDefault();var e,i=$(this).attr("data-editor-theme");e=i,cEditor.setOption("theme",e),$(this).closest("li").addClass("uk-active").siblings("li").removeClass("uk-active")})},copy_list_sidebar:function(){$sidebar_secondary_toggle.addClass("uk-hidden-large");var t=$(file_list_class).clone();t.attr("id","file_list_sidebar"),$sidebar_secondary.find(".sidebar_secondary_wrapper").html(t)}};