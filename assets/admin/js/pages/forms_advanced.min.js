$(function(){altair_form_adv.char_words_counter(),altair_form_adv.rangeSlider(),altair_form_adv.adv_selects(),altair_form_adv.masked_inputs(),altair_form_adv.date_range(),altair_form_adv.select2_template(),altair_form_adv.clear_button()}),altair_form_adv={char_words_counter:function(){var t=$(".input-count");t.length&&(!function(l){"use strict";l.fn.extend({counter:function(a){var i={type:"char",count:"down",goal:140,text:!0,target:!1,append:!0,translation:"",msg:"",container_class:""},s="",n="",r=!1,o=(a=l.extend({},i,a),{init:function(t){var e=t.attr("id"),i=e+"_count";o.isLimitless(),s=l("<span id="+i+"/>");var n=l("<div/>").attr("id",e+"_counter").append(s).append(" "+o.setMsg());a.container_class&&a.container_class.length&&n.addClass(a.container_class),a.target&&l(a.target).length?a.append?l(a.target).append(n):l(a.target).prepend(n):a.append?n.insertAfter(t):n.insertBefore(t),o.bind(t)},bind:function(t){t.bind("keypress.counter keydown.counter keyup.counter blur.counter focus.counter change.counter paste.counter",o.updateCounter),t.bind("keydown.counter",o.doStopTyping),t.trigger("keydown")},isLimitless:function(){if("sky"===a.goal)return a.count="up",r=!0},setMsg:function(){if(""!==a.msg)return a.msg;if(!1===a.text)return"";if(r)return""!==a.msg?a.msg:"";switch(this.text=a.translation||"character word left max",this.text=this.text.split(" "),this.chars="s ( )".split(" "),this.msg=null,a.type){case"char":a.count===i.count&&a.text?this.msg=this.text[0]+this.chars[1]+this.chars[0]+this.chars[2]+" "+this.text[2]:"up"===a.count&&a.text&&(this.msg=this.text[0]+this.chars[0]+" "+this.chars[1]+a.goal+" "+this.text[3]+this.chars[2]);break;case"word":a.count===i.count&&a.text?this.msg=this.text[1]+this.chars[1]+this.chars[0]+this.chars[2]+" "+this.text[2]:"up"===a.count&&a.text&&(this.msg=this.text[1]+this.chars[1]+this.chars[0]+this.chars[2]+" "+this.chars[1]+a.goal+" "+this.text[3]+this.chars[2])}return this.msg},getWords:function(t){return""!==t?l.trim(t).replace(/\s+/g," ").split(" ").length:0},updateCounter:function(t){var e=l(this);(n<0||n>a.goal)&&o.passedGoal(e),a.type===i.type?a.count===i.count?(n=a.goal-e.val().length)<=0?s.text("0"):s.text(n):"up"===a.count&&(n=e.val().length,s.text(n)):"word"===a.type&&(a.count===i.count?(n=o.getWords(e.val()))<=a.goal?(n=a.goal-n,s.text(n)):s.text("0"):"up"===a.count&&(n=o.getWords(e.val()),s.text(n)))},doStopTyping:function(t){var e=[46,8,9,35,36,37,38,39,40,32];if(o.isGoalReached(t)&&t.keyCode!==e[0]&&t.keyCode!==e[1]&&t.keyCode!==e[2]&&t.keyCode!==e[3]&&t.keyCode!==e[4]&&t.keyCode!==e[5]&&t.keyCode!==e[6]&&t.keyCode!==e[7]&&t.keyCode!==e[8])return a.type!==i.type&&(t.keyCode!==e[9]&&t.keyCode!==e[1]&&a.type!=i.type)},isGoalReached:function(t,e){return!r&&(a.count===i.count?n<=0:a.goal<=n)},wordStrip:function(t,e){var i=e.replace(/\s+/g," ").split(" ").length;return e=l.trim(e),t<=0||t===i?e:((e=l.trim(e).split(" ")).splice(t,i,""),l.trim(e.join(" ")))},passedGoal:function(t){var e=t.val();"word"===a.type&&t.val(o.wordStrip(a.goal,e)),"char"===a.type&&t.val(e.substring(0,a.goal)),"down"===a.type&&s.val("0"),"up"===a.type&&s.val(a.goal)}});return this.each(function(){o.init(l(this))})}})}(jQuery),t.each(function(){var t=$(this),e=$(this).attr("maxlength")?$(this).attr("maxlength"):80;t.counter({container_class:"text-count-wrapper",msg:" / "+e,goal:e,count:"up"}),t.closest(".md-input-wrapper").length&&t.closest(".md-input-wrapper").addClass("md-input-wrapper-count")}))},rangeSlider:function(){$(".ion-slider").each(function(){$(this).val("").ionRangeSlider()}),$("#ionslider_movement_limit").ionRangeSlider({type:"double",min:0,max:100,from:20,from_min:10,from_max:30,from_shadow:!0,to:80,to_min:70,to_max:90,to_shadow:!0,grid:!0,grid_num:10}),$("#ionslider_date").ionRangeSlider({min:+moment().subtract(1,"years").format("X"),max:+moment().format("X"),from:+moment().subtract(6,"months").format("X"),force_edges:!0,prettify:function(t){return moment(t,"X").format("LL")}})},adv_selects:function(){$("#select_adv_single").selectize({plugins:{remove_button:{label:""}},onDropdownOpen:function(t){t.hide().velocity("slideDown",{begin:function(){t.css({"margin-top":"0"})},duration:200,easing:easing_swiftOut})},onDropdownClose:function(t){t.show().velocity("slideUp",{complete:function(){t.css({"margin-top":""})},duration:200,easing:easing_swiftOut})}}),$("#select_adv_1").selectize({plugins:{remove_button:{label:""},drag_drop:{}},options:[{class:"planet",id:1,title:"Mercury",url:"http://en.wikipedia.org/wiki/Mercury_(planet)"},{class:"planet",id:2,title:"Venus",url:"http://en.wikipedia.org/wiki/Venus"},{class:"planet",id:3,title:"Earth",url:"http://en.wikipedia.org/wiki/Earth"},{class:"planet",id:4,title:"Mars",url:"http://en.wikipedia.org/wiki/Mars"},{class:"planet",id:5,title:"Jupiter",url:"http://en.wikipedia.org/wiki/Jupiter"},{class:"planet",id:6,title:"Saturn",url:"http://en.wikipedia.org/wiki/Saturn"},{class:"planet",id:7,title:"Uranus",url:"http://en.wikipedia.org/wiki/Uranus"},{class:"planet",id:8,title:"Neptune",url:"http://en.wikipedia.org/wiki/Neptune"},{class:"star",id:9,title:"UY Scuti",url:"https://en.wikipedia.org/wiki/UY_Scuti"},{class:"star",id:10,title:"WOH G64",url:"https://en.wikipedia.org/wiki/WOH_G64"},{class:"star",id:11,title:"RW Cephei",url:"https://en.wikipedia.org/wiki/RW_Cephei"},{class:"star",id:12,title:"Westerlund 1-26",url:"https://en.wikipedia.org/wiki/Westerlund_1-26"}],optgroups:[{value:"planet",label:"Planets"},{value:"star",label:"Stars"}],optgroupField:"class",maxItems:null,valueField:"id",labelField:"title",searchField:"title",create:!1,render:{option:function(t,e){return'<div class="option"><span class="title">'+e(t.title)+"</span></div>"},item:function(t,e){return'<div class="item"><a href="'+e(t.url)+'" target="_blank">'+e(t.title)+"</a></div>"},optgroup_header:function(t,e){return'<div class="optgroup-header">'+e(t.label)+"</div>"}},onDropdownOpen:function(t){t.hide().velocity("slideDown",{begin:function(){t.css({"margin-top":"0"})},duration:200,easing:easing_swiftOut})},onDropdownClose:function(t){t.show().velocity("slideUp",{complete:function(){t.css({"margin-top":""})},duration:200,easing:easing_swiftOut})}});var n="([a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?)";$("#select_adv_2").selectize({plugins:{remove_button:{label:""},drag_drop:{}},persist:!1,maxItems:null,valueField:"email",labelField:"name",searchField:["name","email"],options:[{email:"brian@thirdroute.com",name:"Brian Reavis"},{email:"nikola@tesla.com",name:"Nikola Tesla"},{email:"someone@gmail.com"}],render:{item:function(t,e){return"<div>"+(t.name?'<span class="name">'+e(t.name)+"</span>":"")+(t.email?'<span class="email">'+e(t.email)+"</span>":"")+"</div>"},option:function(t,e){var i=t.name||t.email,n=t.name?t.email:null;return'<div><span class="label">'+e(i)+"</span>"+(n?'<span class="caption">'+e(n)+"</span>":"")+"</div>"}},createFilter:function(t){var e,i;return i=new RegExp("^"+n+"$","i"),(e=t.match(i))?!this.options.hasOwnProperty(e[0]):(i=new RegExp("^([^<]*)<"+n+">$","i"),!!(e=t.match(i))&&!this.options.hasOwnProperty(e[2]))},create:function(t){if(new RegExp("^"+n+"$","i").test(t))return{email:t};var e=t.match(new RegExp("^([^<]*)<"+n+">$","i"));return e?{email:e[2],name:$.trim(e[1])}:(alert("Invalid email address."),!1)},onDropdownOpen:function(t){t.hide().velocity("slideDown",{begin:function(){t.css({"margin-top":"0"})},duration:200,easing:easing_swiftOut})},onDropdownClose:function(t){t.show().velocity("slideUp",{complete:function(){t.css({"margin-top":""})},duration:200,easing:easing_swiftOut})}})},masked_inputs:function(){$maskedInput=$(".masked_input"),$maskedInput.length&&$maskedInput.inputmask()},date_range:function(){var t=$("#uk_dp_start"),e=$("#uk_dp_end"),i=UIkit.datepicker(t,{format:"DD.MM.YYYY"}),n=UIkit.datepicker(e,{format:"DD.MM.YYYY"});t.on("change",function(){n.options.minDate=t.val(),setTimeout(function(){e.focus()},300)}),e.on("change",function(){i.options.maxDate=e.val()})},select2_template:function(){function t(t){if(!t.id)return t.text;return $('<span><i class="uk-margin-small-right flag flag-'+t.element.value+'"></i>'+t.text+"</span>")}$(".js-select2-template").select2({templateResult:t,templateSelection:t})},clear_button:function(){$("#clear_button").addClear({closeSymbol:'<i class="material-icons">close</i>'})}};