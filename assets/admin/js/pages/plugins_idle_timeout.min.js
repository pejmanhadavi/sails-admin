$(function(){$body.append('<div class="uk-modal" id="modal_idle"><div class="uk-modal-dialog"><div class="uk-modal-header"><h3 class="uk-modal-title">Your session is about to expire!</h3></div><p>You\'ve been inactive for a while. For your security, we\'ll log you out automatically.</p><p>Click "Stay Online" to continue your session.</p><p>Your session will expire in <span class="uk-text-bold md-color-red-500" id="sessionSecondsRemaining"></span> seconds.</p><div class="uk-modal-footer uk-text-right"><button id="staySigned" type="button" class="md-btn md-btn-flat uk-modal-close">Stay Online</button><button type="button" class="md-btn md-btn-flat md-btn-flat-primary" id="logoutSession">Logout</button></div></div></div>');var a=UIkit.modal("#modal_idle",{bgclose:!1}),l={inactiveTimeout:5e3,warningTimeout:3e4,minWarning:5e3,warningStart:null,warningTimer:null,autologout:{logouturl:"login.html"},logout:function(){window.location=l.autologout.logouturl}},u=$("#sessionSecondsRemaining").html(l.warningTimeout/1e3);$(document).on("idle.idleTimer",function(o,n,t){var i=+new Date-t.lastActive-t.timeout,e=+new Date-i;i>=l.warningTimeout||e<=l.minWarning?a.hide():(u.html(Math.round((l.warningTimeout-i)/1e3)),a.show(),l.warningStart=+new Date-i,l.warningTimer=setInterval(function(){var o=Math.round(l.warningTimeout/1e3-(+new Date-l.warningStart)/1e3);0<=o?u.html(o):l.logout()},1e3))}),$body.on("click","#staySigned",function(){clearTimeout(l.warningTimer),a.hide()}).on("click","#logoutSession",function(){l.logout()}),$(document).idleTimer(l.inactiveTimeout)});