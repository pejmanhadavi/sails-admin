("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()})("kendo.core",["jquery"],function(){return function(v,g,N){var e,W=g.kendo=g.kendo||{cultures:{}},c=v.extend,f=v.each,w=v.isArray,t=v.proxy,u=v.noop,b=Math,n=g.JSON||{},m={},h=/%/,i=/\{(\d+)(:[^\}]+)?\}/g,s=/(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+)?/i,r=/^(\+|-?)\d+(\.?)\d*$/,_="function",y="string",k="number",x="object",C="null",T="boolean",S="undefined",a={},o={},l=[].slice;function d(){}W.version="2019.1.306".replace(/^\s+|\s+$/g,""),d.extend=function(e){var t,i,n=function(){},s=this,r=e&&e.init?e.init:function(){s.apply(this,arguments)};for(t in n.prototype=s.prototype,i=r.fn=r.prototype=new n,e)null!=e[t]&&e[t].constructor===Object?i[t]=c(!0,{},n.prototype[t],e[t]):i[t]=e[t];return(i.constructor=r).extend=s.extend,r},d.prototype._initOptions=function(e){this.options=L({},this.options,e)};var p=W.isFunction=function(e){return"function"==typeof e},I=function(){this._defaultPrevented=!0},D=function(){return!0===this._defaultPrevented},F=d.extend({init:function(){this._events={}},bind:function(e,t,i){var n,s,r,a,o=this,l=typeof e===y?[e]:e,u=typeof t===_;if(t===N){for(n in e)o.bind(n,e[n]);return o}for(n=0,s=l.length;n<s;n++)e=l[n],(a=u?t:t[e])&&(i&&(r=a,(a=function(){o.unbind(e,a),r.apply(o,arguments)}).original=r),(o._events[e]=o._events[e]||[]).push(a));return o},one:function(e,t){return this.bind(e,t,!0)},first:function(e,t){var i,n,s,r=typeof e===y?[e]:e,a=typeof t===_;for(i=0,n=r.length;i<n;i++)e=r[i],(s=a?t:t[e])&&(this._events[e]=this._events[e]||[]).unshift(s);return this},trigger:function(e,t){var i,n,s=this._events[e];if(s){for((t=t||{}).sender=this,t._defaultPrevented=!1,t.preventDefault=I,t.isDefaultPrevented=D,i=0,n=(s=s.slice()).length;i<n;i++)s[i].call(this,t);return!0===t._defaultPrevented}return!1},unbind:function(e,t){var i,n=this._events[e];if(e===N)this._events={};else if(n)if(t)for(i=n.length-1;0<=i;i--)n[i]!==t&&n[i].original!==t||n.splice(i,1);else this._events[e]=[];return this}});function E(e,t){if(t)return"'"+e.split("'").join("\\'").split('\\"').join('\\\\\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t")+"'";var i=e.charAt(0),n=e.substring(1);return"="===i?"+("+n+")+":":"===i?"+$kendoHtmlEncode("+n+")+":";"+e+";$kendoOutput+="}var O=/^\w+/,A=/\$\{([^}]*)\}/g,M=/\\\}/g,H=/__CURLY__/g,P=/\\#/g,z=/__SHARP__/g,V=["","0","00","000","0000"];function B(e,t,i){return(i=(t=t||2)-(e+="").length)?V[t].substring(0,i)+e:e}function L(e){var t=1,i=arguments.length;for(t=1;t<i;t++)R(e,arguments[t]);return e}function R(e,t){var i,n,s,r,a,o=W.data.ObservableArray,l=W.data.LazyObservableArray,u=W.data.DataSource,c=W.data.HierarchicalDataSource;for(i in t)(r=(s=typeof(n=t[i]))===x&&null!==n?n.constructor:null)&&r!==Array&&r!==o&&r!==l&&r!==u&&r!==c&&r!==RegExp?n instanceof Date?e[i]=new Date(n.getTime()):p(n.clone)?e[i]=n.clone():(a=e[i],e[i]=typeof a===x&&a||{},R(e[i],n)):s!==S&&(e[i]=n);return e}function U(e,t,i){for(var n in t)if(t.hasOwnProperty(n)&&t[n].test(e))return n;return i!==N?i:e}function q(e){return e.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()})}function j(e,t){var i,n={};return document.defaultView&&document.defaultView.getComputedStyle?(i=document.defaultView.getComputedStyle(e,""),t&&v.each(t,function(e,t){n[t]=i.getPropertyValue(t)})):(i=e.currentStyle,t&&v.each(t,function(e,t){n[t]=i[q(t)]})),W.size(n)||(n=i),n}e={paramName:"data",useWithBlock:!0,render:function(e,t){var i,n,s="";for(i=0,n=t.length;i<n;i++)s+=e(t[i]);return s},compile:function(t,e){var i,n,s,r=c({},this,e),a=r.paramName,o=a.match(O)[0],l=r.useWithBlock,u="var $kendoOutput, $kendoHtmlEncode = kendo.htmlEncode;";if(p(t))return t;for(u+=l?"with("+a+"){":"",u+="$kendoOutput=",n=t.replace(M,"__CURLY__").replace(A,"#=$kendoHtmlEncode($1)#").replace(H,"}").replace(P,"__SHARP__").split("#"),s=0;s<n.length;s++)u+=E(n[s],s%2==0);u+=l?";}":";",u=(u+="return $kendoOutput;").replace(z,"#");try{return(i=new Function(o,u))._slotCount=Math.floor(n.length/2),i}catch(e){throw new Error(W.format("Invalid template:'{0}' Generated code:'{1}'",t,u))}}},function(){var d,p,h,t=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,i={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},f={}.toString;function m(e){return t.lastIndex=0,t.test(e)?'"'+e.replace(t,function(e){var t=i[e];return typeof t===y?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}typeof Date.prototype.toJSON!==_&&(Date.prototype.toJSON=function(){var e=this;return isFinite(e.valueOf())?B(e.getUTCFullYear(),4)+"-"+B(e.getUTCMonth()+1)+"-"+B(e.getUTCDate())+"T"+B(e.getUTCHours())+":"+B(e.getUTCMinutes())+":"+B(e.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}),typeof n.stringify!==_&&(n.stringify=function(e,t,i){var n;if(p=d="",typeof i===k)for(n=0;n<i;n+=1)p+=" ";else typeof i===y&&(p=i);if((h=t)&&typeof t!==_&&(typeof t!==x||typeof t.length!==k))throw new Error("JSON.stringify");return function e(t,i){var n,s,r,a,o,l,u=d,c=i[t];if(c&&typeof c===x&&typeof c.toJSON===_&&(c=c.toJSON(t)),typeof h===_&&(c=h.call(i,t,c)),(l=typeof c)===y)return m(c);if(l===k)return isFinite(c)?String(c):C;if(l===T||l===C)return String(c);if(l===x){if(!c)return C;if(d+=p,o=[],"[object Array]"===f.apply(c)){for(a=c.length,n=0;n<a;n++)o[n]=e(n,c)||C;return r=0===o.length?"[]":d?"[\n"+d+o.join(",\n"+d)+"\n"+u+"]":"["+o.join(",")+"]",d=u,r}if(h&&typeof h===x)for(a=h.length,n=0;n<a;n++)typeof h[n]===y&&(r=e(s=h[n],c))&&o.push(m(s)+(d?": ":":")+r);else for(s in c)Object.hasOwnProperty.call(c,s)&&(r=e(s,c))&&o.push(m(s)+(d?": ":":")+r);return r=0===o.length?"{}":d?"{\n"+d+o.join(",\n"+d)+"\n"+u+"}":"{"+o.join(",")+"}",d=u,r}}("",{"":e})})}(),function(){var l=/dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|zzz|zz|z|"[^"]*"|'[^']*'/g,M=/^(n|c|p|e)(\d*)$/i,H=/(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g,P=/\,/g,z=".",n="en-US",u={}.toString;function s(e){if(e){if(e.numberFormat)return e;if(typeof e!==y)return null;var t=W.cultures;return t[e]||t[e.split("-")[0]]||null}return null}function V(e){return e&&(e=s(e)),e||W.cultures.current}W.cultures["en-US"]={name:n,numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSize:[3],percent:{pattern:["-n %","n %"],decimals:2,",":",",".":".",groupSize:[3],symbol:"%"},currency:{name:"US Dollar",abbr:"USD",pattern:["($n)","$n"],decimals:2,",":",",".":".",groupSize:[3],symbol:"$"}},calendars:{standard:{days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December"],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},AM:["AM","am","AM"],PM:["PM","pm","PM"],patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",F:"dddd, MMMM dd, yyyy h:mm:ss tt",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",m:"MMMM dd",M:"MMMM dd",s:"yyyy'-'MM'-'ddTHH':'mm':'ss",t:"h:mm tt",T:"h:mm:ss tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",y:"MMMM, yyyy",Y:"MMMM, yyyy"},"/":"/",":":":",firstDay:0,twoDigitYearMax:2029}}},W.culture=function(e){var t,i=W.cultures;if(e===N)return i.current;(t=s(e)||i[n]).calendar=t.calendars.standard,i.current=t},W.findCulture=s,W.getCulture=V,W.culture(n);var L=function(e,t,i,n){var s,r,a,o,l,u,c=e.indexOf(n[z]),d=n.groupSize.slice(),p=d.shift();if(i=-1!==c?c:i+1,p<=(r=(s=e.substring(t,i)).length)){for(a=r,o=[];-1<a;)if((l=s.substring(a-p,a))&&o.push(l),a-=p,0===(p=(u=d.shift())!==N?u:p)){0<a&&o.push(s.substring(0,a));break}s=o.reverse().join(n[","]),e=e.substring(0,t)+s+e.substring(i)}return e},R=function(e,t,i){return t=t||0,e=e.toString().split("e"),e=Math.round(+(e[0]+"e"+(e[1]?+e[1]+t:t))),i&&(e=-e),(e=+((e=e.toString().split("e"))[0]+"e"+(e[1]?+e[1]-t:-t))).toFixed(Math.min(t,20))},r=function(e,t,i){if(t){if("[object Date]"===u.call(e))return s=e,n=t,r=V(i).calendars.standard,a=r.days,o=r.months,(n=r.patterns[n]||n).replace(l,function(e){var t,i,n;return"d"===e?i=s.getDate():"dd"===e?i=B(s.getDate()):"ddd"===e?i=a.namesAbbr[s.getDay()]:"dddd"===e?i=a.names[s.getDay()]:"M"===e?i=s.getMonth()+1:"MM"===e?i=B(s.getMonth()+1):"MMM"===e?i=o.namesAbbr[s.getMonth()]:"MMMM"===e?i=o.names[s.getMonth()]:"yy"===e?i=B(s.getFullYear()%100):"yyyy"===e?i=B(s.getFullYear(),4):"h"===e?i=s.getHours()%12||12:"hh"===e?i=B(s.getHours()%12||12):"H"===e?i=s.getHours():"HH"===e?i=B(s.getHours()):"m"===e?i=s.getMinutes():"mm"===e?i=B(s.getMinutes()):"s"===e?i=s.getSeconds():"ss"===e?i=B(s.getSeconds()):"f"===e?i=b.floor(s.getMilliseconds()/100):"ff"===e?(99<(i=s.getMilliseconds())&&(i=b.floor(i/10)),i=B(i)):"fff"===e?i=B(s.getMilliseconds(),3):"tt"===e?i=s.getHours()<12?r.AM[0]:r.PM[0]:"zzz"===e?(n=(t=s.getTimezoneOffset())<0,i=b.abs(t/60).toString().split(".")[0],t=b.abs(t)-60*i,i=(n?"+":"-")+B(i),i+=":"+B(t)):"zz"!==e&&"z"!==e||(n=(i=s.getTimezoneOffset()/60)<0,i=b.abs(i).toString().split(".")[0],i=(n?"+":"-")+("zz"===e?B(i):i)),i!==N?i:e.slice(1,e.length-1)});if(typeof e===k)return function(e,t,i){var n,s,r,a,o,l,u,c,d,p,h,f,m,g,_,v,w,b,y,k,x=(i=V(i)).numberFormat,C=x[z],T=x.decimals,S=x.pattern[0],I=[],D=e<0,F="",E="",O=-1;if(e===N)return"";if(!isFinite(e))return e;if(!t)return i.name.length?e.toLocaleString():e.toString();if(o=M.exec(t)){if(r="p"===(t=o[1].toLowerCase()),((s="c"===t)||r)&&(C=(x=s?x.currency:x.percent)[z],T=x.decimals,n=x.symbol,S=x.pattern[D?0:1]),(a=o[2])&&(T=+a),"e"===t)return(a?e.toExponential(T):e.toExponential()).replace(z,x[z]);if(r&&(e*=100),D=(e=R(e,T))<0,l=(e=e.split(z))[0],u=e[1],D&&(l=l.substring(1)),E=L(l,0,l.length,x),u&&(E+=C+u),"n"===t&&!D)return E;for(e="",d=0,p=S.length;d<p;d++)e+="n"===(h=S.charAt(d))?E:"$"===h||"%"===h?n:h;return e}if((-1<t.indexOf("'")||-1<t.indexOf('"')||-1<t.indexOf("\\"))&&(t=t.replace(H,function(e){var t=e.charAt(0).replace("\\",""),i=e.slice(1).replace(t,"");return I.push(i),"??"})),t=t.split(";"),D&&t[1])t=t[1],m=!0;else if(0===e&&t[2]){if(-1==(t=t[2]).indexOf("#")&&-1==t.indexOf("0"))return t}else t=t[0];if((r=-1!=t.indexOf("%"))&&(e*=100),(s=-1!=(y=t.indexOf("$")))&&"\\"===t[y-1]&&(t=t.split("\\").join(""),s=!1),(s||r)&&(C=(x=s?x.currency:x.percent)[z],T=x.decimals,n=x.symbol),(f=-1<t.indexOf(","))&&(t=t.replace(P,"")),g=t.indexOf(z),p=t.length,-1!=g)if(u=(u=(u=e.toString().split("e"))[1]?R(e,Math.abs(u[1])):u[0]).split(z)[1]||"",w=-1<(v=t.lastIndexOf("0")-g),b=-1<(_=t.lastIndexOf("#")-g),d=u.length,w||b||(p=(t=t.substring(0,g)+t.substring(g+1)).length,g=-1,d=0),w&&_<v)d=v;else if(v<_)if(b&&_<d){for(var A=R(e,_,D);"0"===A.charAt(A.length-1)&&0<_&&v<_;)A=R(e,--_,D);d=_}else w&&d<v&&(d=v);if(e=R(e,d,D),_=t.indexOf("#"),v=t.indexOf("0"),O=-1==_&&-1!=v?v:-1!=_&&-1==v?_:v<_?v:_,_=t.lastIndexOf("#"),v=t.lastIndexOf("0"),k=-1==_&&-1!=v?v:-1!=_&&-1==v?_:v<_?_:v,O==p&&(k=O),-1!=O){for(l=(E=e.toString().split(z))[0],u=E[1]||"",c=l.length,u.length,D&&0<=-1*e&&(D=!1),e=t.substring(0,O),D&&!m&&(e+="-"),d=O;d<p;d++){if(h=t.charAt(d),-1==g){if(k-d<c){e+=l;break}}else if(-1!=v&&v<d&&(F=""),g-d<=c&&-1<g-d&&(e+=l,d=g),g===d){e+=(u?C:"")+u,d+=k-g+1;continue}"0"===h?(e+=h,F=h):"#"===h&&(e+=F)}if(f&&(e=L(e,O+(D&&!m?1:0),Math.max(k,c+O),x)),O<=k&&(e+=t.substring(k+1)),s||r){for(E="",d=0,p=e.length;d<p;d++)E+="$"===(h=e.charAt(d))||"%"===h?n:h;e=E}if(p=I.length)for(d=0;d<p;d++)e=e.replace("??",I[d])}return e}(e,t,i)}var s,n,r,a,o;return e!==N?e:""};W.format=function(e){var s=arguments;return e.replace(i,function(e,t,i){var n=s[parseInt(t,10)+1];return r(n,i?i.substring(1):"")})},W._extractFormat=function(e){return"{0:"===e.slice(0,3)&&(e=e.slice(3,e.length-1)),e},W._activeElement=function(){try{return document.activeElement}catch(e){return document.documentElement.activeElement}},W._round=R,W._outerWidth=function(e,t){return v(e).outerWidth(t||!1)||0},W._outerHeight=function(e,t){return v(e).outerHeight(t||!1)||0},W.toString=r}(),function(){var d=/\u00A0/g,p=/[eE][\-+]?[0-9]+/,P=/[+|\-]\d{1,2}/,z=/[+|\-]\d{1,2}:?\d{2}/,c=/^\/Date\((.*?)\)\/$/,h=/[+-]\d*/,f=[[],["G","g","F"],["D","d","y","m","T","t"]],m=[["yyyy-MM-ddTHH:mm:ss.fffffffzzz","yyyy-MM-ddTHH:mm:ss.fffffff","yyyy-MM-ddTHH:mm:ss.fffzzz","yyyy-MM-ddTHH:mm:ss.fff","ddd MMM dd yyyy HH:mm:ss","yyyy-MM-ddTHH:mm:sszzz","yyyy-MM-ddTHH:mmzzz","yyyy-MM-ddTHH:mmzz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-dd HH:mm:ss","yyyy/MM/dd HH:mm:ss"],["yyyy-MM-ddTHH:mm","yyyy-MM-dd HH:mm","yyyy/MM/dd HH:mm"],["yyyy/MM/dd","yyyy-MM-dd","HH:mm:ss","HH:mm"]],V={2:/^\d{1,2}/,3:/^\d{1,3}/,4:/^\d{4}/},g={}.toString;function L(e,t,i){return!(t<=e&&e<=i)}function t(e){return e.charAt(0)}function R(e){return v.map(e,t)}function n(e){for(var t=0,i=e.length,n=[];t<i;t++)n[t]=(e[t]+"").toLowerCase();return n}function B(e){var t,i={};for(t in e)i[t]=n(e[t]);return i}function _(u,i,e,t){if(!u)return null;var n,s,r,a,o,l,c,d,p,h,f,m,g,_=function(e){for(var t=0;i[F]===e;)t++,F++;return 0<t&&(F-=1),t},v=function(e){var t=V[e]||new RegExp("^\\d{1,"+e+"}"),i=u.substr(E,e).match(t);return i?(i=i[0],E+=i.length,parseInt(i,10)):null},w=function(e,t){for(var i,n,s,r=0,a=e.length,o=0,l=0;r<a;r++)n=(i=e[r]).length,s=u.substr(E,n),t&&(s=s.toLowerCase()),s==i&&o<n&&(o=n,l=r);return o?(E+=o,l+1):null},b=function(){var e=!1;return u.charAt(E)===i[F]&&(E++,e=!0),e},y=e.calendars.standard,k=null,x=null,C=null,T=null,S=null,I=null,D=null,F=0,E=0,O=!1,A=new Date,M=y.twoDigitYearMax||2029,H=A.getFullYear();for(i||(i="d"),(a=y.patterns[i])&&(i=a),r=(i=i.split("")).length;F<r;F++)if(n=i[F],O)"'"===n?O=!1:b();else if("d"===n){if(s=_("d"),y._lowerDays||(y._lowerDays=B(y.days)),null!==C&&2<s)continue;if(null===(C=s<3?v(2):w(y._lowerDays[3==s?"namesAbbr":"names"],!0))||L(C,1,31))return null}else if("M"===n){if(s=_("M"),y._lowerMonths||(y._lowerMonths=B(y.months)),null===(x=s<3?v(2):w(y._lowerMonths[3==s?"namesAbbr":"names"],!0))||L(x,1,12))return null;x-=1}else if("y"===n){if(null===(k=v(s=_("y"))))return null;2==s&&("string"==typeof M&&(M=H+parseInt(M,10)),M<(k=H-H%100+k)&&(k-=100))}else if("h"===n){if(_("h"),12==(T=v(2))&&(T=0),null===T||L(T,0,11))return null}else if("H"===n){if(_("H"),null===(T=v(2))||L(T,0,23))return null}else if("m"===n){if(_("m"),null===(S=v(2))||L(S,0,59))return null}else if("s"===n){if(_("s"),null===(I=v(2))||L(I,0,59))return null}else if("f"===n){if(s=_("f"),m=u.substr(E,s).match(V[3]),null!==(D=v(s))&&(D=parseFloat("0."+m[0],10),D=W._round(D,3),D*=1e3),null===D||L(D,0,999))return null}else if("t"===n){if(s=_("t"),d=y.AM,p=y.PM,1===s&&(d=R(d),p=R(p)),!(o=w(p))&&!w(d))return null}else if("z"===n){if(l=!0,s=_("z"),"Z"===u.substr(E,1)){b();continue}if(!(c=u.substr(E,6).match(2<s?z:P)))return null;if(h=(c=c[0].split(":"))[0],!(f=c[1])&&3<h.length&&(E=h.length-2,f=h.substring(E),h=h.substring(0,E)),L(h=parseInt(h,10),-12,13))return null;if(2<s&&(f=c[0][0]+f,f=parseInt(f,10),isNaN(f)||L(f,-59,59)))return null}else if("'"===n)O=!0,b();else if(!b())return null;return t&&!/^\s*$/.test(u.substr(E))?null:(null!==k||null!==x||null!==C||null===T&&null===S&&!I?(null===k&&(k=H),null===C&&(C=1)):(k=H,x=A.getMonth(),C=A.getDate()),o&&T<12&&(T+=12),l?(h&&(T+=-h),f&&(S+=-f),u=new Date(Date.UTC(k,x,C,T,S,I,D))):(u=new Date(k,x,C,T,S,I,D),g=u,T||23!==g.getHours()||g.setHours(g.getHours()+2)),k<100&&u.setFullYear(k),u.getDate()!==C&&l===N?null:u)}function s(e,t,i,n){if("[object Date]"===g.call(e))return e;var s,r,a,o,l=0,u=null;if(e&&0===e.indexOf("/D")&&(u=c.exec(e)))return u=u[1],r=h.exec(u.substring(1)),u=new Date(parseInt(u,10)),r&&(a=r[0],o="-"===a.substr(0,1)?-1:1,a=a.substring(1),r=o*(a=60*parseInt(a.substr(0,2),10)+parseInt(a.substring(2),10)),u=W.timezone.apply(u,0),u=W.timezone.convert(u,0,-1*r)),u;for(i=W.getCulture(i),t||(t=function(e){var t,i,n,s=b.max(f.length,m.length),r=(e.calendar||e.calendars.standard).patterns,a=[];for(n=0;n<s;n++){for(t=f[n],i=0;i<t.length;i++)a.push(r[t[i]]);a=a.concat(m[n])}return a}(i)),s=(t=w(t)?t:[t]).length;l<s;l++)if(u=_(e,t[l],i,n))return u;return u}W.parseDate=function(e,t,i){return s(e,t,i,!1)},W.parseExactDate=function(e,t,i){return s(e,t,i,!0)},W.parseInt=function(e,t){var i=W.parseFloat(e,t);return i&&(i|=0),i},W.parseFloat=function(e,t,i){if(!e&&0!==e)return null;if(typeof e===k)return e;e=e.toString();var n,s,r=(t=W.getCulture(t)).numberFormat,a=r.percent,o=r.currency,l=o.symbol,u=a.symbol,c=e.indexOf("-");return p.test(e)?(e=parseFloat(e.replace(r["."],".")),isNaN(e)&&(e=null),e):0<c?null:(c=-1<c,-1<e.indexOf(l)||i&&-1<i.toLowerCase().indexOf("c")?(n=(r=o).pattern[0].replace("$",l).split("n"),-1<e.indexOf(n[0])&&-1<e.indexOf(n[1])&&(e=e.replace(n[0],"").replace(n[1],""),c=!0)):-1<e.indexOf(u)&&(s=!0,r=a,l=u),e=e.replace("-","").replace(l,"").replace(d," ").split(r[","].replace(d," ")).join("").replace(r["."],"."),e=parseFloat(e),isNaN(e)?e=null:c&&(e*=-1),e&&s&&(e/=100),e)}}(),function(){m._scrollbar=N,m.scrollbar=function(e){if(isNaN(m._scrollbar)||e){var t,i=document.createElement("div");return i.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block",i.innerHTML="&nbsp;",document.body.appendChild(i),m._scrollbar=t=i.offsetWidth-i.scrollWidth,document.body.removeChild(i),t}return m._scrollbar},m.isRtl=function(e){return 0<v(e).closest(".k-rtl").length};var n=document.createElement("table");try{n.innerHTML="<tr><td></td></tr>",m.tbodyInnerHtml=!0}catch(e){m.tbodyInnerHtml=!1}m.touch="ontouchstart"in g;var e=document.documentElement.style,s=m.transitions=!1,r=m.transforms=!1,t="HTMLElement"in g?HTMLElement.prototype:[];m.hasHW3D="WebKitCSSMatrix"in g&&"m11"in new g.WebKitCSSMatrix||"MozPerspective"in e||"msPerspective"in e,m.cssFlexbox="flexWrap"in e||"WebkitFlexWrap"in e||"msFlexWrap"in e,f(["Moz","webkit","O","ms"],function(){var e=this.toString(),t=typeof n.style[e+"Transition"]===y;if(t||typeof n.style[e+"Transform"]===y){var i=e.toLowerCase();return r={css:"ms"!=i?"-"+i+"-":"",prefix:e,event:"o"===i||"webkit"===i?i:""},t&&((s=r).event=s.event?s.event+"TransitionEnd":"transitionend"),!1}}),n=null,m.transforms=r,m.transitions=s,m.devicePixelRatio=g.devicePixelRatio===N?1:g.devicePixelRatio;try{m.screenWidth=g.outerWidth||g.screen?g.screen.availWidth:g.innerWidth,m.screenHeight=g.outerHeight||g.screen?g.screen.availHeight:g.innerHeight}catch(e){m.screenWidth=g.screen.availWidth,m.screenHeight=g.screen.availHeight}m.detectOS=function(e){var t,i=!1,n=[],s=!/mobile safari/i.test(e),r={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.?(\d+(\.\d+)?)?/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},a={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},o={tablet:/playbook|ipad|fire/i},l={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i};for(var u in r)if(r.hasOwnProperty(u)&&(n=e.match(r[u]))){if("windows"==u&&"plugins"in navigator)return!1;(i={}).device=u,i.tablet=U(u,o,!1),i.browser=U(e,l,"default"),i.name=U(u,a),i[i.name]=!0,i.majorVersion=n[2],i.minorVersion=(n[3]||"0").replace("_","."),t=i.minorVersion.replace(".","").substr(0,2),i.flatVersion=i.majorVersion+t+new Array(3-(t.length<3?t.length:2)).join("0"),i.cordova=typeof g.PhoneGap!==S||typeof g.cordova!==S,i.appMode=g.navigator.standalone||/file|local|wmapp/.test(g.location.protocol)||i.cordova,i.android&&(m.devicePixelRatio<1.5&&i.flatVersion<400||s)&&(800<m.screenWidth||800<m.screenHeight)&&(i.tablet=u);break}return i};var i,a,o,l,u=m.mobileOS=m.detectOS(navigator.userAgent);m.wpDevicePixelRatio=u.wp?screen.width/320:0,m.hasNativeScrolling=!1,(u.ios||u.android&&2<u.majorVersion||u.wp)&&(m.hasNativeScrolling=u),m.delayedClick=function(){if(m.touch){if(u.ios)return!0;if(u.android)return!m.browser.chrome||!(m.browser.version<32)&&!(v("meta[name=viewport]").attr("content")||"").match(/user-scalable=no/i)}return!1},m.mouseAndTouchPresent=m.touch&&!(m.mobileOS.ios||m.mobileOS.android),m.detectBrowser=function(e){var t=!1,i=[],n={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome|crios)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(var s in n)if(n.hasOwnProperty(s)&&(i=e.match(n[s]))){(t={})[s]=!0,t[i[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,t.version=parseInt(document.documentMode||i[2],10);break}return t},m.browser=m.detectBrowser(navigator.userAgent),m.detectClipboardAccess=function(){var e={copy:!!document.queryCommandSupported&&document.queryCommandSupported("copy"),cut:!!document.queryCommandSupported&&document.queryCommandSupported("cut"),paste:!!document.queryCommandSupported&&document.queryCommandSupported("paste")};return m.browser.chrome&&(e.paste=!1,43<=m.browser.version&&(e.copy=!0,e.cut=!0)),e},m.clipboard=m.detectClipboardAccess(),m.zoomLevel=function(){try{var e=m.browser,t=0,i=document.documentElement;return e.msie&&11==e.version&&i.scrollHeight>i.clientHeight&&!m.touch&&(t=m.scrollbar()),m.touch?i.clientWidth/g.innerWidth:e.msie&&10<=e.version?((top||g).document.documentElement.offsetWidth+t)/(top||g).innerWidth:1}catch(e){return 1}},m.cssBorderSpacing=void 0!==e.borderSpacing&&!(m.browser.msie&&m.browser.version<8),i=m.browser,a="",o=v(document.documentElement),l=parseInt(i.version,10),i.msie?a="ie":i.mozilla?a="ff":i.safari?a="safari":i.webkit?a="webkit":i.opera?a="opera":i.edge&&(a="edge"),a&&(a="k-"+a+" k-"+a+l),m.mobileOS&&(a+=" k-mobile"),m.cssFlexbox||(a+=" k-no-flexbox"),o.addClass(a),m.eventCapture=document.documentElement.addEventListener;var c=document.createElement("input");m.placeholder="placeholder"in c,m.propertyChangeEvent="onpropertychange"in c,m.input=function(){for(var e,t=["number","date","time","month","week","datetime","datetime-local"],i=t.length,n={},s=0;s<i;s++)e=t[s],c.setAttribute("type",e),c.value="test",n[e.replace("-","")]="text"!==c.type&&"test"!==c.value;return n}(),c.style.cssText="float:left;",m.cssFloat=!!c.style.cssFloat,c=null,m.stableSort=function(){for(var e=[{index:0,field:"b"}],t=1;t<513;t++)e.push({index:t,field:"a"});return e.sort(function(e,t){return e.field>t.field?1:e.field<t.field?-1:0}),1===e[0].index}(),m.matchesSelector=t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.matchesSelector||t.matches||function(e){for(var t=document.querySelectorAll?(this.parentNode||document).querySelectorAll(e)||[]:v(e),i=t.length;i--;)if(t[i]==this)return!0;return!1},m.matchMedia="matchMedia"in g,m.pushState=g.history&&g.history.pushState;var d=document.documentMode;m.hashChange="onhashchange"in g&&!(m.browser.msie&&(!d||d<=8)),m.customElements="registerElement"in g.document;var p=m.browser.chrome,h=m.browser.mozilla;m.msPointers=!p&&g.MSPointerEvent,m.pointers=!p&&!h&&g.PointerEvent,m.kineticScrollNeeded=u&&(m.touch||m.msPointers||m.pointers)}();var G={};function Y(e,s,r,a,o){for(var l,t=0,i=e.length;t<i;t++)(l=v(e[t])).queue(function(){var e,t,i,n;G.promise(l,(t=r,i=a,n=o,typeof(e=s)===y&&(p(t)&&(n=t,i=!(t=400)),p(i)&&(n=i,i=!1),typeof t===T&&(i=t,t=400),e={effects:e,duration:t,reverse:i,complete:n}),c({effects:{},duration:400,reverse:!1,init:u,teardown:u,hide:!1},e,{completeCallback:e.complete,complete:u})))});return e}v.extend(G,{enabled:!0,Element:function(e){this.element=v(e)},promise:function(e,t){e.is(":visible")||e.css({display:e.data("olddisplay")||"block"}).css("display"),t.hide&&e.data("olddisplay",e.css("display")).hide(),t.init&&t.init(),t.completeCallback&&t.completeCallback(e),e.dequeue()},disable:function(){this.enabled=!1,this.promise=this.promiseShim},enable:function(){this.enabled=!0,this.promise=this.animatedPromise}}),G.promiseShim=G.promise,"kendoAnimate"in v.fn||c(v.fn,{kendoStop:function(e,t){return this.stop(e,t)},kendoAnimate:function(e,t,i,n){return Y(this,e,t,i,n)},kendoAddClass:function(e,t){return W.toggleClass(this,e,t,!0)},kendoRemoveClass:function(e,t){return W.toggleClass(this,e,t,!1)},kendoToggleClass:function(e,t,i){return W.toggleClass(this,e,t,i)}});var $=/&/g,K=/</g,Q=/"/g,J=/'/g,X=/>/g,Z=function(e){return e.target};m.touch&&(Z=function(e){var t="originalEvent"in e?e.originalEvent.changedTouches:"changedTouches"in e?e.changedTouches:null;return t?document.elementFromPoint(t[0].clientX,t[0].clientY):e.target},f(["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap"],function(e,t){v.fn[t]=function(e){return this.bind(t,e)}})),m.touch?m.mobileOS?(m.mousedown="touchstart",m.mouseup="touchend",m.mousemove="touchmove",m.mousecancel="touchcancel",m.click="touchend",m.resize="orientationchange"):(m.mousedown="mousedown touchstart",m.mouseup="mouseup touchend",m.mousemove="mousemove touchmove",m.mousecancel="mouseleave touchcancel",m.click="click",m.resize="resize"):m.pointers?(m.mousemove="pointermove",m.mousedown="pointerdown",m.mouseup="pointerup",m.mousecancel="pointercancel",m.click="pointerup",m.resize="orientationchange resize"):m.msPointers?(m.mousemove="MSPointerMove",m.mousedown="MSPointerDown",m.mouseup="MSPointerUp",m.mousecancel="MSPointerCancel",m.click="MSPointerUp",m.resize="orientationchange resize"):(m.mousemove="mousemove",m.mousedown="mousedown",m.mouseup="mouseup",m.mousecancel="mouseleave",m.click="click",m.resize="resize");var ee=/^([a-z]+:)?\/\//i;c(W,{widgets:[],_widgetRegisteredCallbacks:[],ui:W.ui||{},fx:W.fx||function(e){return new W.effects.Element(e)},effects:W.effects||G,mobile:W.mobile||{},data:W.data||{},dataviz:W.dataviz||{},drawing:W.drawing||{},spreadsheet:{messages:{}},keys:{INSERT:45,DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,END:35,HOME:36,SPACEBAR:32,PAGEUP:33,PAGEDOWN:34,F2:113,F10:121,F12:123,NUMPAD_PLUS:107,NUMPAD_MINUS:109,NUMPAD_DOT:110},support:W.support||m,animate:W.animate||Y,ns:"",attr:function(e){return"data-"+W.ns+e},getShadows:function(e){var t=e.css(W.support.transitions.css+"box-shadow")||e.css("box-shadow"),i=t&&t.match(s)||[0,0,0,0,0],n=b.max(+i[3],+(i[4]||0));return{left:-i[1]+n,right:+i[1]+n,bottom:+i[2]+n}},wrap:function(e,t){var i,n=m.browser,s=W._outerWidth,r=W._outerHeight;if(e.parent().hasClass("k-animation-container")){var a=e.parent(".k-animation-container"),o=a[0].style;a.is(":hidden")&&a.css({display:"",position:""}),(i=h.test(o.width)||h.test(o.height))||a.css({width:t?s(e)+1:s(e),height:r(e),boxSizing:"content-box",mozBoxSizing:"content-box",webkitBoxSizing:"content-box"})}else{var l=e[0].style.width,u=e[0].style.height,c=h.test(l),d=h.test(u),p=e.hasClass("k-tooltip")||e.is(".k-menu-horizontal.k-context-menu");i=c||d,!c&&(!t||t&&l||p)&&(l=t?s(e)+1:s(e)),!d&&(!t||t&&u)&&(u=r(e)),e.wrap(v("<div/>").addClass("k-animation-container").css({width:l,height:u})),i&&e.css({width:"100%",height:"100%",boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"})}return n.msie&&b.floor(n.version)<=7&&(e.css({zoom:1}),e.children(".k-menu").width(e.width())),e.parent()},deepExtend:L,getComputedStyles:j,isScrollable:function(e){if(e&&e.className&&"string"==typeof e.className&&-1<e.className.indexOf("k-auto-scrollable"))return!0;var t=j(e,["overflow"]).overflow;return"auto"==t||"scroll"==t},scrollLeft:function(e,t){var i,n=m.browser.webkit,s=m.browser.mozilla,r=e instanceof v?e[0]:e;if(e){if(i=m.isRtl(e),t===N)return i&&n?r.scrollWidth-r.clientWidth-r.scrollLeft:Math.abs(r.scrollLeft);r.scrollLeft=i&&n?r.scrollWidth-r.clientWidth-t:i&&s?-t:t}},size:function(e){var t,i=0;for(t in e)e.hasOwnProperty(t)&&"toJSON"!=t&&i++;return i},toCamelCase:q,toHyphens:function(e){return e.replace(/([a-z][A-Z])/g,function(e){return e.charAt(0)+"-"+e.charAt(1).toLowerCase()})},getOffset:W.getOffset||function(e,t,i){t||(t="offset");var n=e[t](),s={top:n.top,right:n.right,bottom:n.bottom,left:n.left};if(m.browser.msie&&(m.pointers||m.msPointers)&&!i){var r=m.isRtl(e)?1:-1;s.top-=g.pageYOffset-document.documentElement.scrollTop,s.left-=g.pageXOffset+r*document.documentElement.scrollLeft}return s},parseEffects:W.parseEffects||function(e){var t={};return f("string"==typeof e?e.split(" "):e,function(e){t[e]=this}),t},toggleClass:W.toggleClass||function(i,e,t,n){return e&&(e=e.split(" "),f(e,function(e,t){i.toggleClass(t,n)})),i},directions:W.directions||{left:{reverse:"right"},right:{reverse:"left"},down:{reverse:"up"},up:{reverse:"down"},top:{reverse:"bottom"},bottom:{reverse:"top"},in:{reverse:"out"},out:{reverse:"in"}},Observable:F,Class:d,Template:e,template:t(e.compile,e),render:t(e.render,e),stringify:t(n.stringify,n),eventTarget:Z,htmlEncode:function(e){return(""+e).replace($,"&amp;").replace(K,"&lt;").replace(X,"&gt;").replace(Q,"&quot;").replace(J,"&#39;")},isLocalUrl:function(e){return e&&!ee.test(e)},expr:function(e,t,i){return typeof t==y&&(i=t,t=!1),i=i||"d",(e=e||"")&&"["!==e.charAt(0)&&(e="."+e),e=t?(e=function(e,t){var i,n,s,r,a=t||"d",o=1;for(n=0,s=e.length;n<s;n++)""!==(r=e[n])&&(0!==(i=r.indexOf("["))&&(r=-1==i?"."+r:(o++,"."+r.substring(0,i)+" || {})"+r.substring(i))),o++,a+=r+(n<s-1?" || {})":")"));return new Array(o).join("(")+a}((e=(e=e.replace(/"([^.]*)\.([^"]*)"/g,'"$1_$DOT$_$2"')).replace(/'([^.]*)\.([^']*)'/g,"'$1_$DOT$_$2'")).split("."),i)).replace(/_\$DOT\$_/g,"."):i+e},getter:function(e,t){var i=e+t;return a[i]=a[i]||new Function("d","return "+W.expr(e,t))},setter:function(e){return o[e]=o[e]||new Function("d,value",W.expr(e)+"=value")},accessor:function(e){return{get:W.getter(e),set:W.setter(e)}},guid:function(){var e,t,i="";for(e=0;e<32;e++)t=16*b.random()|0,8!=e&&12!=e&&16!=e&&20!=e||(i+="-"),i+=(12==e?4:16==e?3&t|8:t).toString(16);return i},roleSelector:function(e){return e.replace(/(\S+)/g,"["+W.attr("role")+"=$1],").slice(0,-1)},directiveSelector:function(e){var t=e.split(" ");if(t)for(var i=0;i<t.length;i++)"view"!=t[i]&&(t[i]=t[i].replace(/(\w*)(view|bar|strip|over)$/,"$1-$2"));return t.join(" ").replace(/(\S+)/g,"kendo-mobile-$1,").slice(0,-1)},triggeredByInput:function(e){return/^(label|input|textarea|select)$/i.test(e.target.tagName)},onWidgetRegistered:function(e){for(var t=0,i=W.widgets.length;t<i;t++)e(W.widgets[t]);W._widgetRegisteredCallbacks.push(e)},logToConsole:function(e,t){var i=g.console;!W.suppressLog&&void 0!==i&&i.log&&i[t||"log"](e)}});var te=F.extend({init:function(e,t){var i=this;i.element=W.jQuery(e).handler(i),i.angular("init",t),F.fn.init.call(i);var n=t?t.dataSource:null;n&&(t=c({},t,{dataSource:{}})),t=i.options=c(!0,{},i.options,t),n&&(t.dataSource=n),i.element.attr(W.attr("role"))||i.element.attr(W.attr("role"),(t.name||"").toLowerCase()),i.element.data("kendo"+t.prefix+t.name,i),i.bind(i.events,t)},events:[],options:{prefix:""},_hasBindingTarget:function(){return!!this.element[0].kendoBindingTarget},_tabindex:function(e){e=e||this.wrapper;var t=this.element,i="tabindex",n=e.attr(i)||t.attr(i);t.removeAttr(i),e.attr(i,isNaN(n)?0:n)},setOptions:function(e){this._setEvents(e),v.extend(this.options,e)},_setEvents:function(e){for(var t,i=this,n=0,s=i.events.length;n<s;n++)t=i.events[n],i.options[t]&&e[t]&&i.unbind(t,i.options[t]);i.bind(i.events,e)},resize:function(e){var t=this.getSize(),i=this._size;(e||(0<t.width||0<t.height)&&(!i||t.width!==i.width||t.height!==i.height))&&(this._size=t,this._resize(t,e),this.trigger("resize",t))},getSize:function(){return W.dimensions(this.element)},size:function(e){if(!e)return this.getSize();this.setSize(e)},setSize:v.noop,_resize:v.noop,destroy:function(){var e=this;e.element.removeData("kendo"+e.options.prefix+e.options.name),e.element.removeData("handler"),e.unbind()},_destroy:function(){this.destroy()},angular:function(){},_muteAngularRebind:function(e){this._muteRebind=!0,e.call(this),this._muteRebind=!1}}),ie=te.extend({dataItems:function(){return this.dataSource.flatView()},_angularItems:function(e){var t=this;t.angular(e,function(){return{elements:t.items(),data:v.map(t.dataItems(),function(e){return{dataItem:e}})}})}});W.dimensions=function(e,t){var i=e[0];return t&&e.css(t),{width:i.offsetWidth,height:i.offsetHeight}},W.notify=u;var ne=/template$/i,se=/^\s*(?:\{(?:.|\r\n|\n)*\}|\[(?:.|\r\n|\n)*\])\s*$/,re=/^\{(\d+)(:[^\}]+)?\}|^\[[A-Za-z_]+\]$/,ae=/([A-Z])/g;function oe(e,t){var i;return 0===t.indexOf("data")&&(t=(t=t.substring(4)).charAt(0).toLowerCase()+t.substring(1)),t=t.replace(ae,"-$1"),null===(i=e.getAttribute("data-"+W.ns+t))?i=N:"null"===i?i=null:"true"===i?i=!0:"false"===i?i=!1:r.test(i)&&"mask"!=t?i=parseFloat(i):se.test(i)&&!re.test(i)&&(i=new Function("return ("+i+")")()),i}function le(e,t,i){var n,s,r={};for(n in t)(s=oe(e,n))!==N&&(ne.test(n)&&("string"==typeof s?v("#"+s).length?s=W.template(v("#"+s).html()):i&&(s=W.template(i[s])):s=e.getAttribute(n)),r[n]=s);return r}function ue(e,t){return v.contains(e,t)?-1:1}function ce(){var e=v(this);return-1<v.inArray(e.attr("data-"+W.ns+"role"),["slider","rangeslider"])||e.is(":visible")}W.initWidget=function(e,t,i){var n,s,r,a,o,l,u,c,d,p;if(i?i.roles&&(i=i.roles):i=W.ui.roles,l=(e=e.nodeType?e:e[0]).getAttribute("data-"+W.ns+"role")){r=(d=-1===l.indexOf("."))?i[l]:W.getter(l)(g);var h=v(e).data(),f=r?"kendo"+r.fn.options.prefix+r.fn.options.name:"";for(var m in p=d?new RegExp("^kendo.*"+l+"$","i"):new RegExp("^"+f+"$","i"),h)if(m.match(p)){if(m!==f)return h[m];n=h[m]}if(r){for(c=oe(e,"dataSource"),t=v.extend({},le(e,r.fn.options),t),c&&(t.dataSource=typeof c===y?W.getter(c)(g):c),a=0,o=r.fn.events.length;a<o;a++)(u=oe(e,s=r.fn.events[a]))!==N&&(t[s]=W.getter(u)(g));return n?v.isEmptyObject(t)||n.setOptions(t):n=new r(e,t),n}}},W.rolesFromNamespaces=function(e){var t,i,n=[];for(e[0]||(e=[W.ui,W.dataviz.ui]),t=0,i=e.length;t<i;t++)n[t]=e[t].roles;return c.apply(null,[{}].concat(n.reverse()))},W.init=function(e){var t=W.rolesFromNamespaces(l.call(arguments,1));v(e).find("[data-"+W.ns+"role]").addBack().each(function(){W.initWidget(this,{},t)})},W.destroy=function(e){v(e).find("[data-"+W.ns+"role]").addBack().each(function(){var e=v(this).data();for(var t in e)0===t.indexOf("kendo")&&typeof e[t].destroy===_&&e[t].destroy()})},W.resize=function(e,t){var i=v(e).find("[data-"+W.ns+"role]").addBack().filter(ce);if(i.length){var n=v.makeArray(i);n.sort(ue),v.each(n,function(){var e=W.widgetInstance(v(this));e&&e.resize(t)})}},W.parseOptions=le,c(W.ui,{Widget:te,DataBoundWidget:ie,roles:{},progress:function(e,t,i){var n,s,r,a,o,l=e.find(".k-loading-mask"),u=W.support,c=u.browser;o=(i=v.extend({},{width:"100%",height:"100%",top:e.scrollTop(),opacity:!1},i)).opacity?"k-loading-mask k-opaque":"k-loading-mask",t?l.length||(s=(n=u.isRtl(e))?"right":"left",a=e.scrollLeft(),r=c.webkit&&n?e[0].scrollWidth-e.width()-2*a:0,l=v(W.format("<div class='{0}'><span class='k-loading-text'>{1}</span><div class='k-loading-image'/><div class='k-loading-color'/></div>",o,W.ui.progress.messages.loading)).width(i.width).height(i.height).css("top",i.top).css(s,Math.abs(a)+r).prependTo(e)):l&&l.remove()},plugin:function(e,t,i){var n,a=e.fn.options.name;i=i||"",(t=t||W.ui)[a]=e,t.roles[a.toLowerCase()]=e,n="getKendo"+i+a;var s={name:a="kendo"+i+a,widget:e,prefix:i||""};W.widgets.push(s);for(var r=0,o=W._widgetRegisteredCallbacks.length;r<o;r++)W._widgetRegisteredCallbacks[r](s);v.fn[a]=function(n){var s,r=this;return typeof n===y?(s=l.call(arguments,1),this.each(function(){var e,t,i=v.data(this,a);if(!i)throw new Error(W.format("Cannot call method '{0}' of {1} before it is initialized",n,a));if(typeof(e=i[n])!==_)throw new Error(W.format("Cannot find method '{0}' of {1}",n,a));if((t=e.apply(i,s))!==N)return r=t,!1})):this.each(function(){return new e(this,n)}),r},v.fn[a].widget=e,v.fn[n]=function(){return this.data(a)}}}),W.ui.progress.messages={loading:"Loading..."};var de={bind:function(){return this},nullObject:!0,options:{}},pe=te.extend({init:function(e,t){te.fn.init.call(this,e,t),this.element.autoApplyNS(),this.wrapper=this.element,this.element.addClass("km-widget")},destroy:function(){te.fn.destroy.call(this),this.element.kendoDestroy()},options:{prefix:"Mobile"},events:[],view:function(){var e=this.element.closest(W.roleSelector("view splitview modalview drawer"));return W.widgetInstance(e,W.mobile.ui)||de},viewHasNativeScrolling:function(){var e=this.view();return e&&e.options.useNativeScrolling},container:function(){var e=this.element.closest(W.roleSelector("view layout modalview drawer splitview"));return W.widgetInstance(e.eq(0),W.mobile.ui)||de}});function he(e,t){var i,n=e.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(n)?!e.disabled:"a"===n&&e.href||t)&&(i=e,v.expr.filters.visible(i)&&!v(i).parents().addBack().filter(function(){return"hidden"===v.css(this,"visibility")}).length)}c(W.mobile,{init:function(e){W.init(e,W.mobile.ui,W.ui,W.dataviz.ui)},appLevelNativeScrolling:function(){return W.mobile.application&&W.mobile.application.options&&W.mobile.application.options.useNativeScrolling},roles:{},ui:{Widget:pe,DataBoundWidget:ie.extend(pe.prototype),roles:{},plugin:function(e){W.ui.plugin(e,W.mobile.ui,"Mobile")}}}),L(W.dataviz,{init:function(e){W.init(e,W.dataviz.ui)},ui:{roles:{},themes:{},views:[],plugin:function(e){W.ui.plugin(e,W.dataviz.ui)}},roles:{}}),W.touchScroller=function(e,i){return i||(i={}),i.useNative=!0,v(e).map(function(e,t){return t=v(t),!(!m.kineticScrollNeeded||!W.mobile.ui.Scroller||t.data("kendoMobileScroller"))&&(t.kendoMobileScroller(i),t.data("kendoMobileScroller"))})[0]},W.preventDefault=function(e){e.preventDefault()},W.widgetInstance=function(e,t){var i,n,s=e.data(W.ns+"role"),r=[];if(s){if("content"===s&&(s="scroller"),"editortoolbar"===s){var a=e.data("kendoEditorToolbar");if(a)return a}if(t)if(t[0])for(i=0,n=t.length;i<n;i++)r.push(t[i].roles[s]);else r.push(t.roles[s]);else r=[W.ui.roles[s],W.dataviz.ui.roles[s],W.mobile.ui.roles[s]];for(0<=s.indexOf(".")&&(r=[W.getter(s)(g)]),i=0,n=r.length;i<n;i++){var o=r[i];if(o){var l=e.data("kendo"+o.fn.options.prefix+o.fn.options.name);if(l)return l}}}},W.onResize=function(e){var t=e;return m.mobileOS.android&&(t=function(){setTimeout(e,600)}),v(g).on(m.resize,t),t},W.unbindResize=function(e){v(g).off(m.resize,e)},W.attrValue=function(e,t){return e.data(W.ns+t)},W.days={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},v.extend(v.expr[":"],{kendoFocusable:function(e){var t=v.attr(e,"tabindex");return he(e,!isNaN(t)&&-1<t)}});var fe=["mousedown","mousemove","mouseenter","mouseleave","mouseover","mouseout","mouseup","click"],me={setupMouseMute:function(){var e=0,t=fe.length,i=document.documentElement;if(!me.mouseTrap&&m.eventCapture){me.mouseTrap=!0,me.bustClick=!1,me.captureMouse=!1;for(var n=function(e){me.captureMouse&&("click"===e.type?me.bustClick&&!v(e.target).is("label, input, [data-rel=external]")&&(e.preventDefault(),e.stopPropagation()):e.stopPropagation())};e<t;e++)i.addEventListener(fe[e],n,!0)}},muteMouse:function(e){me.captureMouse=!0,e.data.bustClick&&(me.bustClick=!0),clearTimeout(me.mouseTrapTimeoutID)},unMuteMouse:function(){clearTimeout(me.mouseTrapTimeoutID),me.mouseTrapTimeoutID=setTimeout(function(){me.captureMouse=!1,me.bustClick=!1},400)}},ge={down:"touchstart mousedown",move:"mousemove touchmove",up:"mouseup touchend touchcancel",cancel:"mouseleave touchcancel"};m.touch&&(m.mobileOS.ios||m.mobileOS.android)?ge={down:"touchstart",move:"touchmove",up:"touchend touchcancel",cancel:"touchcancel"}:m.pointers?ge={down:"pointerdown",move:"pointermove",up:"pointerup",cancel:"pointercancel pointerleave"}:m.msPointers&&(ge={down:"MSPointerDown",move:"MSPointerMove",up:"MSPointerUp",cancel:"MSPointerCancel MSPointerLeave"}),!m.msPointers||"onmspointerenter"in g||v.each({MSPointerEnter:"MSPointerOver",MSPointerLeave:"MSPointerOut"},function(e,s){v.event.special[e]={delegateType:s,bindType:s,handle:function(e){var t,i=e.relatedTarget,n=e.handleObj;return i&&(i===this||v.contains(this,i))||(e.type=n.origType,t=n.handler.apply(this,arguments),e.type=s),t}}});var _e=function(e){return ge[e]||e},ve=/([^ ]+)/g;W.applyEventMap=function(e,t){return e=e.replace(ve,_e),t&&(e=e.replace(ve,"$1."+t)),e};var we=v.fn.on;function be(e,t){return new be.fn.init(e,t)}c(!0,be,v),((be.fn=be.prototype=new v).constructor=be).fn.init=function(e,t){return t&&t instanceof v&&!(t instanceof be)&&(t=be(t)),v.fn.init.call(this,e,t,ye)},be.fn.init.prototype=be.fn;var ye=be(document);c(be.fn,{handler:function(e){return this.data("handler",e),this},autoApplyNS:function(e){return this.data("kendoNS",e||W.guid()),this},on:function(){var e=this,t=e.data("kendoNS");if(1===arguments.length)return we.call(e,arguments[0]);var i=e,n=l.call(arguments);typeof n[n.length-1]===S&&n.pop();var s=n[n.length-1],r=W.applyEventMap(n[0],t);if(m.mouseAndTouchPresent&&-1<r.search(/mouse|click/)&&this[0]!==document.documentElement){me.setupMouseMute();var a=2===n.length?null:n[1],o=-1<r.indexOf("click")&&-1<r.indexOf("touchend");we.call(this,{touchstart:me.muteMouse,touchend:me.unMuteMouse},a,{bustClick:o})}return typeof s===y&&(i=e.data("handler"),s=i[s],n[n.length-1]=function(e){s.call(i,e)}),n[0]=r,we.apply(e,n),e},kendoDestroy:function(e){return(e=e||this.data("kendoNS"))&&this.off("."+e),this}}),W.jQuery=be,W.eventMap=ge,W.timezone=function(){var u={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},c={Sun:0,Mon:1,Tue:2,Wed:3,Thu:4,Fri:5,Sat:6};function o(e,t){var i,n,s,r=t[3],a=t[4],o=t[5],l=t[8];return l||(t[8]=l={}),l[e]?l[e]:(isNaN(a)?0===a.indexOf("last")?(i=new Date(Date.UTC(e,u[r]+1,1,o[0]-24,o[1],o[2],0)),n=c[a.substr(4,3)],s=i.getUTCDay(),i.setUTCDate(i.getUTCDate()+n-s-(s<n?7:0))):0<=a.indexOf(">=")&&(i=new Date(Date.UTC(e,u[r],a.substr(5),o[0],o[1],o[2],0)),n=c[a.substr(0,3)],s=i.getUTCDay(),i.setUTCDate(i.getUTCDate()+n-s+(n<s?7:0))):i=new Date(Date.UTC(e,u[r],a,o[0],o[1],o[2],0)),l[e]=i)}function a(e,t,i,n){typeof e!=k&&(e=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));var s=function(e,t,i){var n=t[i];if("string"==typeof n&&(n=t[n]),!n)throw new Error('Timezone "'+i+'" is either incorrect, or kendo.timezones.min.js is not included.');for(var s=n.length-1;0<=s;s--){var r=n[s][3];if(r&&r<e)break}var a=n[s+1];if(!a)throw new Error('Timezone "'+i+'" not found on '+e+".");return a}(e,t,n);return{zone:s,rule:function(e,t,i){if(!(t=t[i])){var n=i.split(":"),s=0;return 1<n.length&&(s=60*n[0]+Number(n[1])),[-1e6,"max","-","Jan",1,[0,0,0],s,"-"]}var r=new Date(e).getUTCFullYear();(t=jQuery.grep(t,function(e){var t=e[0],i=e[1];return t<=r&&(r<=i||t==r&&"only"==i||"max"==i)})).push(e),t.sort(function(e,t){return"number"!=typeof e&&(e=Number(o(r,e))),"number"!=typeof t&&(t=Number(o(r,t))),e-t});var a=t[jQuery.inArray(e,t)-1]||t[t.length-1];return isNaN(a)?a:null}(e,i,s[1])}}return{zones:{},rules:{},offset:function(e,t){if("Etc/UTC"==t||"Etc/GMT"==t)return 0;var i=a(e,this.zones,this.rules,t),n=i.zone,s=i.rule;return W.parseFloat(s?n[0]-s[6]:n[0])},convert:function(e,t,i){var n,s=i;typeof t==y&&(t=this.offset(e,t)),typeof i==y&&(i=this.offset(e,i));var r=e.getTimezoneOffset(),a=(e=new Date(e.getTime()+6e4*(t-i))).getTimezoneOffset();return typeof s==y&&(s=this.offset(e,s)),n=a-r+(i-s),new Date(e.getTime()+6e4*n)},apply:function(e,t){return this.convert(e,e.getTimezoneOffset(),t)},remove:function(e,t){return this.convert(e,t,e.getTimezoneOffset())},abbr:function(e,t){var i=a(e,this.zones,this.rules,t),n=i.zone,s=i.rule,r=n[2];return 0<=r.indexOf("/")?r.split("/")[s&&+s[6]?1:0]:0<=r.indexOf("%s")?r.replace("%s",s&&"-"!=s[7]?s[7]:""):r},toLocalDate:function(e){return this.apply(new Date(e),"Etc/UTC")}}}(),W.date=function(){var r=6e4,o=864e5;function s(e,t){return 0===t&&23===e.getHours()&&(e.setHours(e.getHours()+2),!0)}function n(e,t,i){var n=e.getHours();i=i||1,t=(t-e.getDay()+7*i)%7,e.setDate(e.getDate()+t),s(e,n)}function l(e,t,i){return n(e=new Date(e),t,i),e}function a(e){return new Date(e.getFullYear(),e.getMonth(),1)}function u(e,t){var i,n,s=new Date(e.getFullYear(),0,1,-6),r=(i=e,1!==(n=t)?d(l(i,n,-1),4):d(i,4-(i.getDay()||7))).getTime()-s.getTime(),a=Math.floor(r/o);return 1+Math.floor(a/7)}function t(e){return s(e=new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0),0),e}function c(e){return h(e).getTime()-t(h(e))}function d(e,t){var i=e.getHours();return p(e=new Date(e),t*o),s(e,i),e}function p(e,t,i){var n,s=e.getTimezoneOffset();e.setTime(e.getTime()+t),i||(n=e.getTimezoneOffset()-s,e.setTime(e.getTime()+n*r))}function i(){return t(new Date)}function h(e){var t=new Date(1980,1,1,0,0,0);return e&&t.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),t}return{adjustDST:s,dayOfWeek:l,setDayOfWeek:n,getDate:t,isInDateRange:function(e,t,i){var n,s=t.getTime(),r=i.getTime();return r<=s&&(r+=o),s<=(n=e.getTime())&&n<=r},isInTimeRange:function(e,t,i){var n,s=c(t),r=c(i);return!e||s==r||(i<=t&&(i+=o),(n=c(e))<s&&(n+=o),r<s&&(r+=o),s<=n&&n<=r)},isToday:function(e){return t(e).getTime()==i().getTime()},nextDay:function(e){return d(e,1)},previousDay:function(e){return d(e,-1)},toUtcTime:function(e){return Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())},MS_PER_DAY:o,MS_PER_HOUR:60*r,MS_PER_MINUTE:r,setTime:p,setHours:function(e,t){return s(e=new Date(W.date.getDate(e).getTime()+W.date.getMilliseconds(t)),t.getHours()),e},addDays:d,today:i,toInvariantTime:h,firstDayOfMonth:a,lastDayOfMonth:function(e){var t=new Date(e.getFullYear(),e.getMonth()+1,0),i=a(e),n=Math.abs(t.getTimezoneOffset()-i.getTimezoneOffset());return n&&t.setHours(i.getHours()+n/60),t},weekInYear:function(e,t){t===N&&(t=W.culture().calendar.firstDay);var i=d(e,-7),n=d(e,7),s=u(e,t);return 0===s?u(i,t)+1:53===s&&1<u(n,t)?1:s},getMilliseconds:c}}(),W.stripWhitespace=function(t){if(document.createNodeIterator)for(var e=document.createNodeIterator(t,NodeFilter.SHOW_TEXT,function(e){return e.parentNode==t?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT},!1);e.nextNode();)e.referenceNode&&!e.referenceNode.textContent.trim()&&e.referenceNode.parentNode.removeChild(e.referenceNode);else for(var i=0;i<t.childNodes.length;i++){var n=t.childNodes[i];3!=n.nodeType||/\S/.test(n.nodeValue)||(t.removeChild(n),i--),1==n.nodeType&&W.stripWhitespace(n)}};var ke=g.requestAnimationFrame||g.webkitRequestAnimationFrame||g.mozRequestAnimationFrame||g.oRequestAnimationFrame||g.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)};W.animationFrame=function(e){ke.call(g,e)};var xe=[];W.queueAnimation=function(e){xe[xe.length]=e,1===xe.length&&W.runNextAnimation()},W.runNextAnimation=function(){W.animationFrame(function(){xe[0]&&(xe.shift()(),xe[0]&&W.runNextAnimation())})},W.parseQueryStringParams=function(e){for(var t={},i=(e.split("?")[1]||"").split(/&|=/),n=i.length,s=0;s<n;s+=2)""!==i[s]&&(t[decodeURIComponent(i[s])]=decodeURIComponent(i[s+1]));return t},W.elementUnderCursor=function(e){if(void 0!==e.x.client)return document.elementFromPoint(e.x.client,e.y.client)},W.wheelDeltaY=function(e){var t,i=e.originalEvent,n=i.wheelDeltaY;return i.wheelDelta?(n===N||n)&&(t=i.wheelDelta):i.detail&&i.axis===i.VERTICAL_AXIS&&(t=10*-i.detail),t},W.throttle=function(s,r){var a,o=0;if(!r||r<=0)return s;var e=function(){var e=this,t=+new Date-o,i=arguments;function n(){s.apply(e,i),o=+new Date}if(!o)return n();a&&clearTimeout(a),r<t?n():a=setTimeout(n,r-t)};return e.cancel=function(){clearTimeout(a)},e},W.caret=function(e,t,i){var n,s=t!==N;if(i===N&&(i=t),e[0]&&(e=e[0]),!s||!e.disabled){try{if(e.selectionStart!==N)if(s){e.focus();var r=m.mobileOS;r.wp||r.android?setTimeout(function(){e.setSelectionRange(t,i)},0):e.setSelectionRange(t,i)}else t=[e.selectionStart,e.selectionEnd];else if(document.selection)if(v(e).is(":visible")&&e.focus(),n=e.createTextRange(),s)n.collapse(!0),n.moveStart("character",t),n.moveEnd("character",i-t),n.select();else{var a,o,l=n.duplicate();n.moveToBookmark(document.selection.createRange().getBookmark()),l.setEndPoint("EndToStart",n),o=(a=l.text.length)+n.text.length,t=[a,o]}}catch(e){t=[]}return t}},W.compileMobileDirective=function(t,i){var e=g.angular;return t.attr("data-"+W.ns+"role",t[0].tagName.toLowerCase().replace("kendo-mobile-","").replace("-","")),e.element(t).injector().invoke(["$compile",function(e){e(t)(i),/^\$(digest|apply)$/.test(i.$$phase)||i.$digest()}]),W.widgetInstance(t,W.mobile.ui)},W.antiForgeryTokens=function(){var e={},t=v("meta[name=csrf-token],meta[name=_csrf]").attr("content"),i=v("meta[name=csrf-param],meta[name=_csrf_header]").attr("content");return v("input[name^='__RequestVerificationToken']").each(function(){e[this.name]=this.value}),i!==N&&t!==N&&(e[i]=t),e},W.cycleForm=function(e){var t=e.find("input, .k-widget").first(),i=e.find("button, .k-button").last();function n(e){var t=W.widgetInstance(e);t&&t.focus?t.focus():e.focus()}i.on("keydown",function(e){e.keyCode!=W.keys.TAB||e.shiftKey||(e.preventDefault(),n(t))}),t.on("keydown",function(e){e.keyCode==W.keys.TAB&&e.shiftKey&&(e.preventDefault(),n(i))})},W.focusElement=function(t){var i=[],e=t.parentsUntil("body").filter(function(e,t){return"visible"!==W.getComputedStyles(t,["overflow"]).overflow}).add(g);e.each(function(e,t){i[e]=v(t).scrollTop()});try{t[0].setActive()}catch(e){t[0].focus()}e.each(function(e,t){v(t).scrollTop(i[e])})},W.matchesMedia=function(e){var t=W._bootstrapToMedia(e)||e;return m.matchMedia&&g.matchMedia(t).matches},W._bootstrapToMedia=function(e){return{xs:"(max-width: 576px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)"}[e]},function(){function i(e,t,i,n){var s=v("<form>").attr({action:i,method:"POST",target:n}),r=W.antiForgeryTokens();r.fileName=t;var a=e.split(";base64,");for(var o in r.contentType=a[0].replace("data:",""),r.base64=a[1],r)r.hasOwnProperty(o)&&v("<input>").attr({value:r[o],name:o,type:"hidden"}).appendTo(s);s.appendTo("body").submit().remove()}var n=document.createElement("a"),s="download"in n&&!W.support.browser.edge;function r(e,t){var i=e;if("string"==typeof e){for(var n=e.split(";base64,"),s=n[0],r=atob(n[1]),a=new Uint8Array(r.length),o=0;o<r.length;o++)a[o]=r.charCodeAt(o);i=new Blob([a.buffer],{type:s})}navigator.msSaveBlob(i,t)}function a(e,t){g.Blob&&e instanceof Blob&&(e=URL.createObjectURL(e)),n.download=t,n.href=e;var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!1,g,0,0,0,0,0,!1,!1,!1,!1,0,null),n.dispatchEvent(i),setTimeout(function(){URL.revokeObjectURL(e)})}W.saveAs=function(e){var t=i;e.forceProxy||(s?t=a:navigator.msSaveBlob&&(t=r)),t(e.dataURI,e.fileName,e.proxyURL,e.proxyTarget)}}(),W.proxyModelSetters=function(i){var e={};return Object.keys(i||{}).forEach(function(t){Object.defineProperty(e,t,{get:function(){return i[t]},set:function(e){i[t]=e,i.dirty=!0}})}),e}}(jQuery,window),window.kendo}),("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()})("kendo.color",["kendo.core"],function(){window.kendo=window.kendo||{};var e=kendo.Class,t=kendo.support,r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgrey:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},i=t.browser,a=function(e){var t=Object.keys(r);t.push("transparent");var i=new RegExp("^("+t.join("|")+")(\\W|$)","i");return a=function(e){return i.exec(e)},i.exec(e)},o=e.extend({init:function(){},toHSV:function(){return this},toRGB:function(){return this},toHex:function(){return this.toBytes().toHex()},toBytes:function(){return this},toCss:function(){return"#"+this.toHex()},toCssRgba:function(){var e=this.toBytes();return"rgba("+e.r+", "+e.g+", "+e.b+", "+parseFloat(Number(this.a).toFixed(3))+")"},toDisplay:function(){return i.msie&&i.version<9?this.toCss():this.toCssRgba()},equals:function(e){return e===this||null!==e&&this.toCssRgba()===h(e).toCssRgba()},diff:function(e){if(null===e)return NaN;var t=this.toBytes(),i=e.toBytes();return Math.sqrt(Math.pow(.3*(t.r-i.r),2)+Math.pow(.59*(t.g-i.g),2)+Math.pow(.11*(t.b-i.b),2))},clone:function(){var e=this.toBytes();return e===this&&(e=new l(e.r,e.g,e.b,e.a)),e}}),d=o.extend({init:function(e,t,i,n){o.fn.init.call(this),this.r=e,this.g=t,this.b=i,this.a=n},toHSV:function(){var e,t,i=this.r,n=this.g,s=this.b,r=Math.min(i,n,s),a=Math.max(i,n,s),o=a-r,l=a;return 0===o?new u(0,0,l,this.a):(0!==a?(t=o/a,e=i===a?(n-s)/o:n===a?2+(s-i)/o:4+(i-n)/o,(e*=60)<0&&(e+=360)):(t=0,e=-1),new u(e,t,l,this.a))},toHSL:function(){var e,t,i=this.r,n=this.g,s=this.b,r=Math.max(i,n,s),a=Math.min(i,n,s),o=(r+a)/2;if(r===a)e=t=0;else{var l=r-a;switch(t=.5<o?l/(2-r-a):l/(r+a),r){case i:e=(n-s)/l+(n<s?6:0);break;case n:e=(s-i)/l+2;break;case s:e=(i-n)/l+4}}return new c(60*e,100*t,100*o,this.a)},toBytes:function(){return new l(255*this.r,255*this.g,255*this.b,this.a)}}),l=d.extend({init:function(e,t,i,n){d.fn.init.call(this,Math.round(e),Math.round(t),Math.round(i),n)},toRGB:function(){return new d(this.r/255,this.g/255,this.b/255,this.a)},toHSV:function(){return this.toRGB().toHSV()},toHSL:function(){return this.toRGB().toHSL()},toHex:function(){return n(this.r,2)+n(this.g,2)+n(this.b,2)},toBytes:function(){return this}});function n(e,t,i){void 0===i&&(i="0");for(var n=e.toString(16);t>n.length;)n=i+n;return n}var u=o.extend({init:function(e,t,i,n){o.fn.init.call(this),this.h=e,this.s=t,this.v=i,this.a=n},toRGB:function(){var e,t,i,n=this.h,s=this.s,r=this.v;if(0===s)e=t=i=r;else{n/=60;var a=Math.floor(n),o=n-a,l=r*(1-s),u=r*(1-s*o),c=r*(1-s*(1-o));switch(a){case 0:e=r,t=c,i=l;break;case 1:e=u,t=r,i=l;break;case 2:e=l,t=r,i=c;break;case 3:e=l,t=u,i=r;break;case 4:e=c,t=l,i=r;break;default:e=r,t=l,i=u}}return new d(e,t,i,this.a)},toHSL:function(){return this.toRGB().toHSL()},toBytes:function(){return this.toRGB().toBytes()}}),c=o.extend({init:function(e,t,i,n){o.fn.init.call(this),this.h=e,this.s=t,this.l=i,this.a=n},toRGB:function(){var e,t,i,n=this.h/360,s=this.s/100,r=this.l/100;if(0===s)e=t=i=r;else{var a=r<.5?r*(1+s):r+s-r*s,o=2*r-a;e=p(o,a,n+1/3),t=p(o,a,n),i=p(o,a,n-1/3)}return new d(e,t,i,this.a)},toHSV:function(){return this.toRGB().toHSV()},toBytes:function(){return this.toRGB().toBytes()}});function p(e,t,i){var n=i;return n<0&&(n+=1),1<n&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function h(e,t){var i,n;if(null==e||"none"===e)return null;if(e instanceof o)return e;var s=e.toLowerCase();if(i=a(s))return(s="transparent"===i[1]?new d(1,1,1,0):h(r[i[1]],t)).match=[i[1]],s;if((i=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})\b/i.exec(s))?n=new l(parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16),1):(i=/^#?([0-9a-f])([0-9a-f])([0-9a-f])\b/i.exec(s))?n=new l(parseInt(i[1]+i[1],16),parseInt(i[2]+i[2],16),parseInt(i[3]+i[3],16),1):(i=/^rgb\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/.exec(s))?n=new l(parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3],10),1):(i=/^rgba\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9.]+)\s*\)/.exec(s))?n=new l(parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3],10),parseFloat(i[4])):(i=/^rgb\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*\)/.exec(s))?n=new d(parseFloat(i[1])/100,parseFloat(i[2])/100,parseFloat(i[3])/100,1):(i=/^rgba\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9.]+)\s*\)/.exec(s))&&(n=new d(parseFloat(i[1])/100,parseFloat(i[2])/100,parseFloat(i[3])/100,parseFloat(i[4]))),n)n.match=i;else if(!t)throw new Error("Cannot parse color: "+s);return n}var f=e.extend({init:function(e){if(1===arguments.length)for(var t=f.formats,i=this.resolveColor(e),n=0;n<t.length;n++){var s=t[n].re,r=t[n].process,a=s.exec(i);if(a){var o=r(a);this.r=o[0],this.g=o[1],this.b=o[2]}}else this.r=e,this.g=arguments[1],this.b=arguments[2];this.r=this.normalizeByte(this.r),this.g=this.normalizeByte(this.g),this.b=this.normalizeByte(this.b)},toHex:function(){var e=this.padDigit,t=this.r.toString(16),i=this.g.toString(16),n=this.b.toString(16);return"#"+e(t)+e(i)+e(n)},resolveColor:function(e){var t=e||"black";return"#"===t.charAt(0)&&(t=t.substr(1,6)),t=(t=t.replace(/ /g,"")).toLowerCase(),t=f.namedColors[t]||t},normalizeByte:function(e){return e<0||isNaN(e)?0:255<e?255:e},padDigit:function(e){return 1===e.length?"0"+e:e},brightness:function(e){var t=Math.round;return this.r=t(this.normalizeByte(this.r*e)),this.g=t(this.normalizeByte(this.g*e)),this.b=t(this.normalizeByte(this.b*e)),this},percBrightness:function(){return Math.sqrt(.241*this.r*this.r+.691*this.g*this.g+.068*this.b*this.b)}});f.fromBytes=function(e,t,i,n){return new l(e,t,i,null!=n?n:1)},f.fromRGB=function(e,t,i,n){return new d(e,t,i,null!=n?n:1)},f.fromHSV=function(e,t,i,n){return new u(e,t,i,null!=n?n:1)},f.fromHSL=function(e,t,i,n){return new c(e,t,i,null!=n?n:1)},f.formats=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(e){return[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10)]}},{re:/^(\w{2})(\w{2})(\w{2})$/,process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],f.namedColors=r,kendo.deepExtend(kendo,{parseColor:h,Color:f})}),("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()})("kendo.data",["kendo.core","kendo.data.odata","kendo.data.xml"],function(){return function(v,w){var m,g=v.extend,_=v.proxy,b=v.isPlainObject,h=v.isEmptyObject,y=v.isArray,s=v.grep,t=v.ajax,k=v.each,o=v.noop,f=window.kendo,x=f.isFunction,a=f.Observable,e=f.Class,C="string",d="function",i="destroy",T="change",u="get",r="error",l="requestStart",c="progress",S="requestEnd",p=["create","read","update",i],I=function(e){return e},D=f.getter,F=f.stringify,E=Math,n=[].push,O=[].join,A=[].pop,M=[].splice,H=[].shift,P=[].slice,z=[].unshift,V={}.toString,L=f.support.stableSort,R=/^\/Date\((.*?)\)\/$/,B=a.extend({init:function(e,t){var i=this;i.type=t||U,a.fn.init.call(i),i.length=e.length,i.wrapAll(e,i)},at:function(e){return this[e]},toJSON:function(){var e,t,i=this.length,n=new Array(i);for(e=0;e<i;e++)(t=this[e])instanceof U&&(t=t.toJSON()),n[e]=t;return n},parent:o,wrapAll:function(e,t){var i,n,s=this,r=function(){return s};for(t=t||[],i=0,n=e.length;i<n;i++)t[i]=s.wrap(e[i],r);return t},wrap:function(e,t){var i=this;return null!==e&&"[object Object]"===V.call(e)&&(e instanceof i.type||e instanceof G||(e=e instanceof U?e.toJSON():e,e=new i.type(e)),e.parent=t,e.bind(T,function(e){i.trigger(T,{field:e.field,node:e.node,index:e.index,items:e.items||[this],action:e.node?e.action||"itemloaded":"itemchange"})})),e},push:function(){var e,t=this.length,i=this.wrapAll(arguments);return e=n.apply(this,i),this.trigger(T,{action:"add",index:t,items:i}),e},slice:P,sort:[].sort,join:O,pop:function(){var e=this.length,t=A.apply(this);return e&&this.trigger(T,{action:"remove",index:e-1,items:[t]}),t},splice:function(e,t,i){var n,s,r,a=this.wrapAll(P.call(arguments,2));if((n=M.apply(this,[e,t].concat(a))).length)for(this.trigger(T,{action:"remove",index:e,items:n}),s=0,r=n.length;s<r;s++)n[s]&&n[s].children&&n[s].unbind(T);return i&&this.trigger(T,{action:"add",index:e,items:a}),n},shift:function(){var e=this.length,t=H.apply(this);return e&&this.trigger(T,{action:"remove",index:0,items:[t]}),t},unshift:function(){var e,t=this.wrapAll(arguments);return e=z.apply(this,t),this.trigger(T,{action:"add",index:0,items:t}),e},indexOf:function(e){var t,i;for(t=0,i=this.length;t<i;t++)if(this[t]===e)return t;return-1},forEach:function(e,t){for(var i=0,n=this.length,s=t||window;i<n;i++)e.call(s,this[i],i,this)},map:function(e,t){for(var i=0,n=[],s=this.length,r=t||window;i<s;i++)n[i]=e.call(r,this[i],i,this);return n},reduce:function(e){var t,i=0,n=this.length;for(2==arguments.length?t=arguments[1]:i<n&&(t=this[i++]);i<n;i++)t=e(t,this[i],i,this);return t},reduceRight:function(e){var t,i=this.length-1;for(2==arguments.length?t=arguments[1]:0<i&&(t=this[i--]);0<=i;i--)t=e(t,this[i],i,this);return t},filter:function(e,t){for(var i,n=0,s=[],r=this.length,a=t||window;n<r;n++)i=this[n],e.call(a,i,n,this)&&(s[s.length]=i);return s},find:function(e,t){for(var i,n=0,s=this.length,r=t||window;n<s;n++)if(i=this[n],e.call(r,i,n,this))return i},every:function(e,t){for(var i,n=0,s=this.length,r=t||window;n<s;n++)if(i=this[n],!e.call(r,i,n,this))return!1;return!0},some:function(e,t){for(var i,n=0,s=this.length,r=t||window;n<s;n++)if(i=this[n],e.call(r,i,n,this))return!0;return!1},remove:function(e){var t=this.indexOf(e);-1!==t&&this.splice(t,1)},empty:function(){this.splice(0,this.length)}});"undefined"!=typeof Symbol&&Symbol.iterator&&!B.prototype[Symbol.iterator]&&(B.prototype[Symbol.iterator]=[][Symbol.iterator]);var N=B.extend({init:function(e,t,i){a.fn.init.call(this),this.type=t||U,i&&(this._events=i);for(var n=0;n<e.length;n++)this[n]=e[n];this.length=n,this._parent=_(function(){return this},this)},at:function(e){var t=this[e];return t instanceof this.type?t.parent=this._parent:t=this[e]=this.wrap(t,this._parent),t}});function W(n,s,r,a){return function(e){var t,i={};for(t in e)i[t]=e[t];i.field=a?r+"."+e.field:r,s==T&&n._notifyChange&&n._notifyChange(i),n.trigger(s,i)}}var U=a.extend({init:function(e){var t,i,n=this,s=function(){return n};for(i in a.fn.init.call(this),this._handlers={},e)"object"==typeof(t=e[i])&&t&&!t.getTime&&"_"!=i.charAt(0)&&(t=n.wrap(t,i,s)),n[i]=t;n.uid=f.guid()},shouldSerialize:function(e){return this.hasOwnProperty(e)&&"_handlers"!==e&&"_events"!==e&&typeof this[e]!==d&&"uid"!==e},forEach:function(e){for(var t in this)this.shouldSerialize(t)&&e(this[t],t)},toJSON:function(){var e,t,i={};for(t in this)this.shouldSerialize(t)&&(((e=this[t])instanceof U||e instanceof B)&&(e=e.toJSON()),i[t]=e);return i},get:function(e){return this.trigger(u,{field:e}),"this"===e?this:f.getter(e,!0)(this)},_set:function(e,t){var i=0<=e.indexOf(".");if(i)for(var n=e.split("."),s="";1<n.length;){s+=n.shift();var r=f.getter(s,!0)(this);if(r instanceof U)return r.set(n.join("."),t),i;s+="."}return f.setter(e)(this,t),i},set:function(e,t){var i=this,n=!1,s=0<=e.indexOf("."),r=f.getter(e,!0)(i);return r!==t&&(r instanceof a&&this._handlers[e]&&(this._handlers[e].get&&r.unbind(u,this._handlers[e].get),r.unbind(T,this._handlers[e].change)),(n=i.trigger("set",{field:e,value:t}))||(s||(t=i.wrap(t,e,function(){return i})),(!i._set(e,t)||0<=e.indexOf("(")||0<=e.indexOf("["))&&i.trigger(T,{field:e}))),n},parent:o,wrap:function(e,t,i){var n,s,r=this,a=V.call(e);if(null!=e&&("[object Object]"===a||"[object Array]"===a)){var o=e instanceof B,l=e instanceof Se;"[object Object]"!==a||l||o?("[object Array]"===a||o||l)&&(o||l||(e=new B(e)),s=W(r,T,t,!1),e.bind(T,s),r._handlers[t]={change:s}):(e instanceof U||(e=new U(e)),n=W(r,u,t,!0),e.bind(u,n),s=W(r,T,t,!0),e.bind(T,s),r._handlers[t]={get:n,change:s}),e.parent=i}return e}}),q={number:function(e){return typeof e===C&&"null"===e.toLowerCase()?null:f.parseFloat(e)},date:function(e){return typeof e===C&&"null"===e.toLowerCase()?null:f.parseDate(e)},boolean:function(e){return typeof e===C?"null"===e.toLowerCase()?null:"true"===e.toLowerCase():null!=e?!!e:e},string:function(e){return typeof e===C&&"null"===e.toLowerCase()?null:null!=e?e+"":e},default:function(e){return e}},j={string:"",number:0,date:new Date,boolean:!1,default:""},G=U.extend({init:function(e){var t=this;if((!e||v.isEmptyObject(e))&&(e=v.extend({},t.defaults,e),t._initializers))for(var i=0;i<t._initializers.length;i++){var n=t._initializers[i];e[n]=t.defaults[n]()}U.fn.init.call(t,e),t.dirty=!1,t.dirtyFields={},t.idField&&(t.id=t.get(t.idField),t.id===w&&(t.id=t._defaultId))},shouldSerialize:function(e){return U.fn.shouldSerialize.call(this,e)&&"uid"!==e&&!("id"!==this.idField&&"id"===e)&&"dirty"!==e&&"dirtyFields"!==e&&"_accessors"!==e},_parse:function(e,t){var i,n=e,s=this.fields||{};return(e=s[e])||(e=function(e,t){var i,n;for(n in e){if(i=e[n],b(i)&&i.field&&i.field===t)return i;if(i===t)return i}return null}(s,n)),e&&!(i=e.parse)&&e.type&&(i=q[e.type.toLowerCase()]),i?i(t):t},_notifyChange:function(e){var t=e.action;"add"!=t&&"remove"!=t||(this.dirty=!0,this.dirtyFields[e.field]=!0)},editable:function(e){return!(e=(this.fields||{})[e])||!1!==e.editable},set:function(e,t,i){var n=this,s=n.dirty;n.editable(e)&&(function e(t,i){if(t===i)return!0;var n,s=v.type(t);if(s!==v.type(i))return!1;if("date"===s)return t.getTime()===i.getTime();if("object"!==s&&"array"!==s)return!1;for(n in t)if(!e(t[n],i[n]))return!1;return!0}(t=n._parse(e,t),n.get(e))?n.trigger("equalSet",{field:e,value:t}):(n.dirty=!0,n.dirtyFields[e]=!0,U.fn.set.call(n,e,t,i)&&!s&&(n.dirty=s,n.dirty||(n.dirtyFields[e]=!1))))},accept:function(e){var t,i=this,n=function(){return i};for(t in e){var s=e[t];"_"!=t.charAt(0)&&(s=i.wrap(e[t],t,n)),i._set(t,s)}i.idField&&(i.id=i.get(i.idField)),i.dirty=!1,i.dirtyFields={}},isNew:function(){return this.id===this._defaultId}});G.define=function(e,t){t===w&&(t=e,e=G);var i,n,s,r,a,o,l,u,c=g({defaults:{}},t),d={},p=c.id,h=[];if(p&&(c.idField=p),c.id&&delete c.id,p&&(c.defaults[p]=c._defaultId=""),"[object Array]"===V.call(c.fields)){for(o=0,l=c.fields.length;o<l;o++)typeof(s=c.fields[o])===C?d[s]={}:s.field&&(d[s.field]=s);c.fields=d}for(n in c.fields)r=(s=c.fields[n]).type||"default",a=null,u=n,n=typeof s.field===C?s.field:n,s.nullable||"function"==typeof(a=c.defaults[u!==n?u:n]=s.defaultValue!==w?s.defaultValue:j[r.toLowerCase()])&&h.push(n),t.id===n&&(c._defaultId=a),c.defaults[u!==n?u:n]=a,s.parse=s.parse||q[r];return 0<h.length&&(c._initializers=h),(i=e.extend(c)).define=function(e){return G.define(i,e)},c.fields&&(i.fields=c.fields,i.idField=c.idField),i};var Y={selector:function(e){return x(e)?e:D(e)},compare:function(e){var i=this.selector(e);return function(e,t){return e=i(e),t=i(t),null==e&&null==t?0:null==e?-1:null==t?1:e.localeCompare?e.localeCompare(t):t<e?1:e<t?-1:0}},create:function(e){var i=e.compare||this.compare(e.field);return"desc"==e.dir?function(e,t){return i(t,e,!0)}:i},combine:function(r){return function(e,t){var i,n,s=r[0](e,t);for(i=1,n=r.length;i<n;i++)s=s||r[i](e,t);return s}}},$=g({},Y,{asc:function(e){var s=this.selector(e);return function(e,t){var i=s(e),n=s(t);return i&&i.getTime&&n&&n.getTime&&(i=i.getTime(),n=n.getTime()),i===n?e.__position-t.__position:null==i?-1:null==n?1:i.localeCompare?i.localeCompare(n):n<i?1:-1}},desc:function(e){var s=this.selector(e);return function(e,t){var i=s(e),n=s(t);return i&&i.getTime&&n&&n.getTime&&(i=i.getTime(),n=n.getTime()),i===n?e.__position-t.__position:null==i?1:null==n?-1:n.localeCompare?n.localeCompare(i):i<n?1:-1}},create:function(e){return this[e.dir](e.field)}});m=function(e,t){var i,n=e.length,s=new Array(n);for(i=0;i<n;i++)s[i]=t(e[i],i,e);return s};var K=function(){function r(e){return"string"==typeof e&&(e=e.replace(/[\r\n]+/g,"")),JSON.stringify(e)}function e(n){return function(e,t,i){return t+="",i&&(e="("+e+" || '').toString().toLowerCase()",t=t.toLowerCase()),n(e,r(t),i)}}function n(e,t,i,n){if(null!=i){if(typeof i===C){var s=R.exec(i);s?i=new Date(+s[1]):n?(i=r(i.toLowerCase()),t="(("+t+" || '')+'').toLowerCase()"):i=r(i)}i.getTime&&(t="("+t+"&&"+t+".getTime?"+t+".getTime():"+t+")",i=i.getTime())}return t+" "+e+" "+i}function i(e){for(var t="/^",i=!1,n=0;n<e.length;++n){var s=e.charAt(n);if(i)t+="\\"+s;else{if("~"==s){i=!0;continue}"*"==s?t+=".*":"?"==s?t+=".":0<=".+^$()[]{}|\\/\n\r\u2028\u2029 ".indexOf(s)?t+="\\"+s:t+=s}i=!1}return t+"$/"}return{quote:function(e){return e&&e.getTime?"new Date("+e.getTime()+")":r(e)},eq:function(e,t,i){return n("==",e,t,i)},neq:function(e,t,i){return n("!=",e,t,i)},gt:function(e,t,i){return n(">",e,t,i)},gte:function(e,t,i){return n(">=",e,t,i)},lt:function(e,t,i){return n("<",e,t,i)},lte:function(e,t,i){return n("<=",e,t,i)},startswith:e(function(e,t){return e+".lastIndexOf("+t+", 0) == 0"}),doesnotstartwith:e(function(e,t){return e+".lastIndexOf("+t+", 0) == -1"}),endswith:e(function(e,t){return e+".indexOf("+t+", "+e+".length - "+(t?t.length-2:0)+") >= 0"}),doesnotendwith:e(function(e,t){return e+".indexOf("+t+", "+e+".length - "+(t?t.length-2:0)+") < 0"}),contains:e(function(e,t){return e+".indexOf("+t+") >= 0"}),doesnotcontain:e(function(e,t){return e+".indexOf("+t+") == -1"}),matches:e(function(e,t){return i(t=t.substring(1,t.length-1))+".test("+e+")"}),doesnotmatch:e(function(e,t){return"!"+i(t=t.substring(1,t.length-1))+".test("+e+")"}),isempty:function(e){return e+" === ''"},isnotempty:function(e){return e+" !== ''"},isnull:function(e){return"("+e+" == null)"},isnotnull:function(e){return"("+e+" != null)"},isnullorempty:function(e){return"("+e+" === null) || ("+e+" === '')"},isnotnullorempty:function(e){return"("+e+" !== null) && ("+e+" !== '')"}}}();function Q(e){this.data=e||[]}function J(e,t){if(e){var i=typeof e===C?{field:e,dir:t}:e,n=y(i)?i:i!==w?[i]:[];return s(n,function(e){return!!e.dir})}}Q.filterExpr=function(e){var t,i,n,s,r,a,o=[],l=[],u=[],c=e.filters;for(t=0,i=c.length;t<i;t++)r=(n=c[t]).field,a=n.operator,n.filters?(n=(s=Q.filterExpr(n)).expression.replace(/__o\[(\d+)\]/g,function(e,t){return t=+t,"__o["+(u.length+t)+"]"}).replace(/__f\[(\d+)\]/g,function(e,t){return t=+t,"__f["+(l.length+t)+"]"}),u.push.apply(u,s.operators),l.push.apply(l,s.fields)):(typeof r===d?(s="__f["+l.length+"](d)",l.push(r)):s=f.expr(r),typeof a===d?(n="__o["+u.length+"]("+s+", "+K.quote(n.value)+")",u.push(a)):n=K[(a||"eq").toLowerCase()](s,n.value,n.ignoreCase===w||n.ignoreCase)),o.push(n);return{expression:"("+o.join({and:" && ",or:" || "}[e.logic])+")",fields:l,operators:u}};var X={"==":"eq",equals:"eq",isequalto:"eq",equalto:"eq",equal:"eq","!=":"neq",ne:"neq",notequals:"neq",isnotequalto:"neq",notequalto:"neq",notequal:"neq","<":"lt",islessthan:"lt",lessthan:"lt",less:"lt","<=":"lte",le:"lte",islessthanorequalto:"lte",lessthanequal:"lte",">":"gt",isgreaterthan:"gt",greaterthan:"gt",greater:"gt",">=":"gte",isgreaterthanorequalto:"gte",greaterthanequal:"gte",ge:"gte",notsubstringof:"doesnotcontain",isnull:"isnull",isempty:"isempty",isnotempty:"isnotempty"};function Z(e){if(e&&!h(e))return!y(e)&&e.filters||(e={logic:"and",filters:y(e)?e:[e]}),function e(t){var i,n,s,r,a=t.filters;if(a)for(i=0,n=a.length;i<n;i++)(r=(s=a[i]).operator)&&typeof r===C&&(s.operator=X[r.toLowerCase()]||r),e(s)}(e),e}function ee(e){return h(e=e||{})?{logic:"and",filters:[]}:Z(e)}function te(e,t){return t.logic||e.field>t.field?1:e.field<t.field?-1:0}function ie(e,t,i,n){var s=typeof e===C?{field:e,dir:t,compare:i,skipItemSorting:n}:e,r=y(s)?s:s!==w?[s]:[];return m(r,function(e){return{field:e.field,dir:e.dir||"asc",aggregates:e.aggregates,compare:e.compare,skipItemSorting:e.skipItemSorting}})}function ne(e,t,i){for(var n=ie(e,t,i),s=0;s<n.length;s++)delete n[s].compare;return n}function se(e,t,i,n,s,r){var a,o,l,u=(t=t||[]).length;for(a=0;a<u;a++){l=(o=t[a]).aggregate;var c=o.field;e[c]=e[c]||{},r[c]=r[c]||{},r[c][l]=r[c][l]||{},e[c][l]=re[l.toLowerCase()](e[c][l],i,f.accessor(c),n,s,r[c][l])}}Q.normalizeFilter=Z,Q.compareFilters=function e(t,i){if(t=ee(t),i=ee(i),t.logic!==i.logic)return!1;var n,s,r,a,o=(t.filters||[]).slice(),l=(i.filters||[]).slice();if(o.length!==l.length)return!1;o=o.sort(te),l=l.sort(te);for(var u=0;u<o.length;u++)if(n=o[u],s=l[u],n.logic&&s.logic){if(!e(n,s))return!1}else if(a=s,(r=n).logic||a.logic||r.field!==a.field||r.value!==a.value||r.operator!==a.operator)return!1;return!0},Q.prototype={toArray:function(){return this.data},range:function(e,t){return new Q(this.data.slice(e,e+t))},skip:function(e){return new Q(this.data.slice(e))},take:function(e){return new Q(this.data.slice(0,e))},select:function(e){return new Q(m(this.data,e))},order:function(e,t,i){var n={dir:t};return e&&(e.compare?n.compare=e.compare:n.field=e),new Q(i?this.data.sort(Y.create(n)):this.data.slice(0).sort(Y.create(n)))},orderBy:function(e,t){return this.order(e,"asc",t)},orderByDescending:function(e,t){return this.order(e,"desc",t)},sort:function(e,t,i,n){var s,r,a=J(e,t),o=[];if(i=i||Y,a.length){for(s=0,r=a.length;s<r;s++)o.push(i.create(a[s]));return this.orderBy({compare:i.combine(o)},n)}return this},filter:function(e){var t,i,n,s,r,a,o,l,u=this.data,c=[];if(!(e=Z(e))||0===e.filters.length)return this;for(s=Q.filterExpr(e),a=s.fields,o=s.operators,r=l=new Function("d, __f, __o","return "+s.expression),(a.length||o.length)&&(l=function(e){return r(e,a,o)}),t=0,n=u.length;t<n;t++)l(i=u[t])&&c.push(i);return new Q(c)},group:function(i,n){i=ie(i||[]),n=n||this.data;var s,e=new Q(this.data);return 0<i.length&&(s=i[0],e=e.groupBy(s).select(function(e){var t=new Q(n).filter([{field:e.field,operator:"eq",value:e.value,ignoreCase:!1}]);return{field:e.field,value:e.value,items:1<i.length?new Q(e.items).group(i.slice(1),t.toArray()).toArray():e.items,hasSubgroups:1<i.length,aggregates:t.aggregate(s.aggregates)}})),e},groupBy:function(e){if(h(e)||!this.data.length)return new Q([]);var t,i,n,s,r,a,o=e.field,l=e.skipItemSorting?this.data:this._sortForGrouping(o,e.dir||"asc"),u=f.accessor(o),c=u.get(l[0],o),d={field:o,value:c,items:[]},p=[d];for(n=0,s=l.length;n<s;n++)t=l[n],r=c,a=i=u.get(t,o),(r&&r.getTime&&a&&a.getTime?r.getTime()===a.getTime():r===a)||(d={field:o,value:c=i,items:[]},p.push(d)),d.items.push(t);return new Q(p=this._sortGroups(p,e))},_sortForGrouping:function(e,t){var i,n,s=this.data;if(L)return this.sort(e,t).toArray();for(i=0,n=s.length;i<n;i++)s[i].__position=i;for(i=0,n=(s=new Q(s).sort(e,t,$).toArray()).length;i<n;i++)delete s[i].__position;return s},_sortGroups:function(e,t){var i=e;return t&&x(t.compare)&&(i=new Q(i).order({compare:t.compare},t.dir||"asc").toArray()),i},aggregate:function(e){var t,i,n={},s={};if(e&&e.length)for(t=0,i=this.data.length;t<i;t++)se(n,e,this.data[t],t,i,s);return n}};var re={sum:function(e,t,i){var n=i.get(t);return ae(e)?ae(n)&&(e+=n):e=n,e},count:function(e){return(e||0)+1},average:function(e,t,i,n,s,r){var a=i.get(t);return r.count===w&&(r.count=0),ae(e)?ae(a)&&(e+=a):e=a,ae(a)&&r.count++,n==s-1&&ae(e)&&(e/=r.count),e},max:function(e,t,i){var n=i.get(t);return ae(e)||oe(e)||(e=n),e<n&&(ae(n)||oe(n))&&(e=n),e},min:function(e,t,i){var n=i.get(t);return ae(e)||oe(e)||(e=n),n<e&&(ae(n)||oe(n))&&(e=n),e}};function ae(e){return"number"==typeof e&&!isNaN(e)}function oe(e){return e&&e.getTime}function le(e){var t,i=e.length,n=new Array(i);for(t=0;t<i;t++)n[t]=e[t].toJSON();return n}Q.normalizeGroup=ie,Q.normalizeSort=J,Q.process=function(e,t,i){var n,s,r=(t=t||{}).group,a=function(e){for(var t=y(e)?e:[e],i=0;i<t.length;i++)if(t[i]&&x(t[i].compare))return!0;return!1}(ie(r||[])),o=new Q(e),l=ne(r||[]),u=J(t.sort||[]),c=a?u:l.concat(u),d=t.filterCallback,p=t.filter,h=t.skip,f=t.take;return c&&i&&(o=o.sort(c,w,w,i)),p&&(o=o.filter(p),d&&(o=d(o)),s=o.toArray().length),c&&!i&&(o=o.sort(c),r&&(e=o.toArray())),a?(o=o.group(r,e),h!==w&&f!==w&&(o=new Q(function e(t,i){for(var n,s,r=[],a=(t||[]).length,o=x(i)?i:function(e,t){return e[t]},l=0;l<a;l++)if((n=o(t,l)).hasSubgroups)r=r.concat(e(n.items));else{s=n.items;for(var u=0;u<s.length;u++)r.push(o(s,u))}return r}(o.toArray())).range(h,f),n=m(l,function(e){return g({},e,{skipItemSorting:!0})}),o=o.group(n,e))):(h!==w&&f!==w&&(o=o.range(h,f)),r&&(o=o.group(r,e))),{total:s,data:o.toArray()}};var ue=e.extend({init:function(e){this.data=e.data},read:function(e){e.success(this.data)},update:function(e){e.success(e.data)},create:function(e){e.success(e.data)},destroy:function(e){e.success(e.data)}}),ce=e.extend({init:function(i){var n,e=this;i=e.options=g({},e.options,i),k(p,function(e,t){typeof i[t]===C&&(i[t]={url:i[t]})}),e.cache=i.cache?de.create(i.cache):{find:o,add:o},n=i.parameterMap,i.submit&&(e.submit=i.submit),x(i.push)&&(e.push=i.push),e.push||(e.push=I),e.parameterMap=x(n)?n:function(e){var i={};return k(e,function(e,t){e in n&&(e=n[e],b(e)&&(t=e.value(t),e=e.key)),i[e]=t}),i}},options:{parameterMap:I},create:function(e){return t(this.setup(e,"create"))},read:function(t){var i,e,n=this.cache;t=this.setup(t,"read"),i=t.success||o,t.error,(e=n.find(t.data))!==w?i(e):(t.success=function(e){n.add(t.data,e),i(e)},v.ajax(t))},update:function(e){return t(this.setup(e,"update"))},destroy:function(e){return t(this.setup(e,i))},setup:function(e,t){e=e||{};var i,n=this.options[t],s=x(n.data)?n.data(e.data):n.data;return e=g(!0,{},n,e),i=g(!0,{},s,e.data),e.data=this.parameterMap(i,t),x(e.url)&&(e.url=e.url(i)),e}}),de=e.extend({init:function(){this._store={}},add:function(e,t){e!==w&&(this._store[F(e)]=t)},find:function(e){return this._store[F(e)]},clear:function(){this._store={}},remove:function(e){delete this._store[F(e)]}});function pe(e,t,i,n,s){var r,a,o,l,u,c={};for(l=0,u=e.length;l<u;l++)for(a in r=e[l],t)(o=s[a])&&o!==a&&(c[o]||(c[o]=f.setter(o)),c[o](r,t[a](r)),delete r[a])}function he(e,t,i,n,s){var r,a,o,l,u;for(l=0,u=e.length;l<u;l++)for(a in r=e[l],t)r[a]=i._parse(a,t[a](r)),(o=s[a])&&o!==a&&delete r[o]}function fe(e,t,i,n,s){var r,a,o,l;for(a=0,l=e.length;a<l;a++)(o=n[(r=e[a]).field])&&o!=r.field&&(r.field=o),r.value=i._parse(r.field,r.value),r.hasSubgroups?fe(r.items,t,i,n,s):he(r.items,t,i,0,s)}function me(t,i,n,s,r,a){return function(e){return e=t(e),ge(i,n,s,r,a)(e)}}function ge(t,i,n,s,r){return function(e){return e&&!h(n)&&("[object Array]"===V.call(e)||e instanceof B||(e=[e]),i(e,n,new t,s,r)),e||[]}}de.create=function(e){var t={inmemory:function(){return new de}};return b(e)&&x(e.find)?e:!0===e?new de:t[e]()};var _e=e.extend({init:function(e){var t,i,n,s,r=this;for(t in e=e||{})i=e[t],r[t]=typeof i===C?D(i):i;s=e.modelBase||G,b(r.model)&&(r.model=n=s.define(r.model));var a=_(r.data,r);if(r._dataAccessFunction=a,r.model){var o,l,u=_(r.groups,r),c=_(r.serialize,r),d={},p={},h={},f={},m=!1;(n=r.model).fields&&(k(n.fields,function(e,t){var i;o=e,b(t)&&t.field?o=t.field:typeof t===C&&(o=t),b(t)&&t.from&&(i=t.from),m=m||i&&i!==e||o!==e,l=i||o,p[e]=-1!==l.indexOf(".")?D(l,!0):D(l),h[e]=D(e),d[i||o]=e,f[e]=i||o}),!e.serialize&&m&&(r.serialize=me(c,n,pe,h,d,f))),r._dataAccessFunction=a,r._wrapDataAccessBase=ge(n,he,p,d,f),r.data=me(a,n,he,p,d,f),r.groups=me(u,n,fe,p,d,f)}},errors:function(e){return e?e.errors:null},parse:I,data:I,total:function(e){return e.length},groups:I,aggregates:function(){return{}},serialize:function(e){return e}});function ve(e){var t,i,n,s,r=[];for(t=0,i=e.length;t<i;t++){var a=e.at(t);if(a.hasSubgroups)r=r.concat(ve(a.items));else for(n=a.items,s=0;s<n.length;s++)r.push(n.at(s))}return r}function we(e,t,i,n){for(var s=0;s<e.length&&e[s].data!==t&&!be(e[s].data,i,n);s++);}function be(e,t,i){for(var n=0,s=e.length;n<s;n++){if(e[n]&&e[n].hasSubgroups)return be(e[n].items,t,i);if(e[n]===t||e[n]===i)return e[n]=i,!0}}function ye(e,t){return t?xe(e,function(e){return e.uid&&e.uid==t.uid||e[t.idField]===t.id&&t.id!==t._defaultId}):-1}function ke(e,t){return t?xe(e,function(e){return e.uid==t.uid}):-1}function xe(e,t){var i,n;for(i=0,n=e.length;i<n;i++)if(t(e[i]))return i;return-1}function Ce(e,t){if(!e||h(e))return t;var i,n=e[t];return i=b(n)?n.from||n.field||t:e[t]||t,x(i)?t:i}function Te(e,t){var i,n,s,r,a=[];for(i=0,n=e.length;i<n;i++){for(var o in s={},r=e[i])s[o]=r[o];s.field=Ce(t.fields,s.field),s.aggregates&&y(s.aggregates)&&(s.aggregates=Te(s.aggregates,t)),a.push(s)}return a}var Se=a.extend({init:function(e){var t,i=this;if(e&&(t=e.data),e=i.options=g({},i.options,e),i._map={},i._prefetch={},i._data=[],i._pristineData=[],i._ranges=[],i._view=[],i._pristineTotal=0,i._destroyed=[],i._pageSize=e.pageSize,i._page=e.page||(e.pageSize?1:w),i._sort=J(e.sort),i._filter=Z(e.filter),i._group=ie(e.group),i._aggregate=e.aggregate,i._total=e.total,i._shouldDetachObservableParents=!0,a.fn.init.call(i),i.transport=Ie.create(e,t,i),x(i.transport.push)&&i.transport.push({pushCreate:_(i._pushCreate,i),pushUpdate:_(i._pushUpdate,i),pushDestroy:_(i._pushDestroy,i)}),null!=e.offlineStorage)if("string"==typeof e.offlineStorage){var n=e.offlineStorage;i._storage={getItem:function(){return JSON.parse(localStorage.getItem(n))},setItem:function(e){localStorage.setItem(n,F(i.reader.serialize(e)))}}}else i._storage=e.offlineStorage;i.reader=new f.data.readers[e.schema.type||"json"](e.schema),i.reader.model,i._detachObservableParents(),i._data=i._observe(i._data),i._online=!0,i.bind(["push",r,T,l,"sync",S,c],e)},options:{data:null,schema:{modelBase:G},offlineStorage:null,serverSorting:!1,serverPaging:!1,serverFiltering:!1,serverGrouping:!1,serverAggregates:!1,batch:!1,inPlaceSort:!1},clone:function(){return this},online:function(e){return e!==w?this._online!=e&&(this._online=e)?this.sync():v.Deferred().resolve().promise():this._online},offlineData:function(e){return null==this.options.offlineStorage?null:e!==w?this._storage.setItem(e):this._storage.getItem()||[]},_isServerGrouped:function(){var e=this.group()||[];return this.options.serverGrouping&&e.length},_pushCreate:function(e){this._push(e,"pushCreate")},_pushUpdate:function(e){this._push(e,"pushUpdate")},_pushDestroy:function(e){this._push(e,"pushDestroy")},_push:function(e,t){var i=this._readData(e);i||(i=e),this[t](i)},_flatData:function(e,t){if(e){if(this._isServerGrouped())return ve(e);if(!t)for(var i=0;i<e.length;i++)e.at(i)}return e},parent:o,get:function(e){var t,i,n=this._flatData(this._data,this.options.useRanges);for(t=0,i=n.length;t<i;t++)if(n[t].id==e)return n[t]},getByUid:function(e){return this._getByUid(e,this._data)},_getByUid:function(e,t){var i,n,s=this._flatData(t,this.options.useRanges);if(s)for(i=0,n=s.length;i<n;i++)if(s[i].uid==e)return s[i]},indexOf:function(e){return ke(this._data,e)},at:function(e){return this._data.at(e)},data:function(e){var t=this;if(e===w){if(t._data)for(var i=0;i<t._data.length;i++)t._data.at(i);return t._data}t._detachObservableParents(),t._data=this._observe(e),t._pristineData=e.slice(0),t._storeData(),t._ranges=[],t.trigger("reset"),t._addRange(t._data),t._total=t._data.length,t._pristineTotal=t._total,t._process(t._data)},view:function(e){if(e===w)return this._view;this._view=this._observeView(e)},_observeView:function(e){var t=this;!function e(t,i,n,s,r){for(var a=0,o=t.length;a<o;a++){var l=t[a];if(l&&!(l instanceof s))if(l.hasSubgroups===w||r){for(var u=0;u<i.length;u++)if(i[u]===l){t[a]=i.at(u),we(n,i,l,t[a]);break}}else e(l.items,i,n,s,r)}}(e,t._data,t._ranges,t.reader.model||U,t._isServerGrouped());var i=new N(e,t.reader.model);return i.parent=function(){return t.parent()},i},flatView:function(){return(this.group()||[]).length?ve(this._view):this._view},add:function(e){return this.insert(this._data.length,e)},_createNewModel:function(e){return this.reader.model?new this.reader.model(e):e instanceof U?e:new U(e)},insert:function(e,t){return t||(t=e,e=0),t instanceof G||(t=this._createNewModel(t)),this._isServerGrouped()?this._data.splice(e,0,this._wrapInEmptyGroup(t)):this._data.splice(e,0,t),this._insertModelInRange(e,t),t},pushInsert:function(e,t){var i=this._getCurrentRangeSpan();t||(t=e,e=0),y(t)||(t=[t]);var n=[],s=this.options.autoSync;this.options.autoSync=!1;try{for(var r=0;r<t.length;r++){var a=t[r],o=this.insert(e,a);n.push(o);var l=o.toJSON();this._isServerGrouped()&&(l=this._wrapInEmptyGroup(l)),this._pristineData.push(l),i&&i.length&&v(i).last()[0].pristineData.push(l),e++}}finally{this.options.autoSync=s}n.length&&this.trigger("push",{type:"create",items:n})},pushCreate:function(e){this.pushInsert(this._data.length,e)},pushUpdate:function(e){y(e)||(e=[e]);for(var t=[],i=0;i<e.length;i++){var n=e[i],s=this._createNewModel(n),r=this.get(s.id);r?(t.push(r),r.accept(n),r.trigger(T),this._updatePristineForModel(r,n)):this.pushCreate(n)}t.length&&this.trigger("push",{type:"update",items:t})},pushDestroy:function(e){var t=this._removeItems(e);t.length&&this.trigger("push",{type:"destroy",items:t})},_removeItems:function(e,t){y(e)||(e=[e]);var i=void 0===t||t,n=[],s=this.options.autoSync;this.options.autoSync=!1;try{for(var r=0;r<e.length;r++){var a=e[r],o=this._createNewModel(a),l=!1;this._eachItem(this._data,function(e){for(var t=0;t<e.length;t++){var i=e.at(t);if(i.id===o.id){n.push(i),e.splice(t,1),l=!0;break}}}),l&&i&&(this._removePristineForModel(o),this._destroyed.pop())}}finally{this.options.autoSync=s}return n},remove:function(t){var i,n=this,s=n._isServerGrouped();return this._eachItem(n._data,function(e){if((i=function(e,t){var i,n,s=e.length;for(n=0;n<s;n++)if((i=e[n]).uid&&i.uid==t.uid)return e.splice(n,1),i}(e,t))&&s)return i.isNew&&i.isNew()||n._destroyed.push(i),!0}),this._removeModelFromRanges(t),t},destroyed:function(){return this._destroyed},created:function(){var e,t,i=[],n=this._flatData(this._data,this.options.useRanges);for(e=0,t=n.length;e<t;e++)n[e].isNew&&n[e].isNew()&&i.push(n[e]);return i},updated:function(){var e,t,i=[],n=this._flatData(this._data,this.options.useRanges);for(e=0,t=n.length;e<t;e++)n[e].isNew&&!n[e].isNew()&&n[e].dirty&&i.push(n[e]);return i},sync:function(){var i=this,e=[],t=[],n=i._destroyed,s=v.Deferred().resolve().promise();if(i.online()){if(!i.reader.model)return s;e=i.created(),t=i.updated();var r=[];i.options.batch&&i.transport.submit?r=i._sendSubmit(e,t,n):(r.push.apply(r,i._send("create",e)),r.push.apply(r,i._send("update",t)),r.push.apply(r,i._send("destroy",n))),s=v.when.apply(null,r).then(function(){var e,t;for(e=0,t=arguments.length;e<t;e++)arguments[e]&&i._accept(arguments[e]);i._storeData(!0),i._syncEnd(),i._change({action:"sync"}),i.trigger("sync")})}else i._storeData(!0),i._syncEnd(),i._change({action:"sync"});return s},_syncEnd:o,cancelChanges:function(e){var t=this;e instanceof f.data.Model?t._cancelModel(e):(t._destroyed=[],t._detachObservableParents(),t._data=t._observe(t._pristineData),t.options.serverPaging&&(t._total=t._pristineTotal),t._ranges=[],t._addRange(t._data,0),t._changesCanceled(),t._change(),t._markOfflineUpdatesAsDirty())},_changesCanceled:o,_markOfflineUpdatesAsDirty:function(){null!=this.options.offlineStorage&&this._eachItem(this._data,function(e){for(var t=0;t<e.length;t++){var i=e.at(t);"update"!=i.__state__&&"create"!=i.__state__||(i.dirty=!0)}})},hasChanges:function(){var e,t,i=this._flatData(this._data,this.options.useRanges);if(this._destroyed.length)return!0;for(e=0,t=i.length;e<t;e++)if(i[e].isNew&&i[e].isNew()||i[e].dirty)return!0;return!1},_accept:function(e){var t,i=this,n=e.models,s=e.response,r=0,a=i._isServerGrouped(),o=i._pristineData,l=e.type;if(i.trigger(S,{response:s,type:l}),s&&!h(s)){if(s=i.reader.parse(s),i._handleCustomErrors(s))return;s=i.reader.data(s),y(s)||(s=[s])}else s=v.map(n,function(e){return e.toJSON()});for("destroy"===l&&(i._destroyed=[]),r=0,t=n.length;r<t;r++)"destroy"!==l?(n[r].accept(s[r]),"create"===l?o.push(a?i._wrapInEmptyGroup(n[r].toJSON()):s[r]):"update"===l&&i._updatePristineForModel(n[r],s[r])):i._removePristineForModel(n[r])},_updatePristineForModel:function(e,i){this._executeOnPristineForModel(e,function(e,t){f.deepExtend(t[e],i)})},_executeOnPristineForModel:function(i,n){this._eachPristineItem(function(e){var t=ye(e,i);if(-1<t)return n(t,e),!0})},_removePristineForModel:function(e){this._executeOnPristineForModel(e,function(e,t){t.splice(e,1)})},_readData:function(e){return(this._isServerGrouped()?this.reader.groups:this.reader.data).call(this.reader,e)},_eachPristineItem:function(i){var n=this,e=n.options,t=n._getCurrentRangeSpan();n._eachItem(n._pristineData,i),e.serverPaging&&e.useRanges&&k(t,function(e,t){n._eachItem(t.pristineData,i)})},_eachItem:function(e,t){e&&e.length&&(this._isServerGrouped()?function e(t,i){for(var n=0;n<t.length;n++)if(t[n].hasSubgroups){if(e(t[n].items,i))return!0}else if(i(t[n].items,t[n]))return!0}(e,t):t(e))},_pristineForModel:function(t){var i,n;return this._eachPristineItem(function(e){if(-1<(n=ye(e,t)))return i=e[n],!0}),i},_cancelModel:function(i){var n=this,s=this._pristineForModel(i);this._eachItem(this._data,function(e){var t=ke(e,i);0<=t&&(!s||i.isNew()&&!s.__state__?(n._modelCanceled(i),e.splice(t,1),n._removeModelFromRanges(i)):(e[t].accept(s),"update"==s.__state__&&(e[t].dirty=!0)))})},_modelCanceled:o,_submit:function(s,e){var r=this;r.trigger(l,{type:"submit"}),r.trigger(c),r.transport.submit(g({success:function(e,t){var i=v.grep(s,function(e){return e.type==t})[0];i&&i.resolve({response:e,models:i.models,type:t})},error:function(e,t,i){for(var n=0;n<s.length;n++)s[n].reject(e);r.error(e,t,i)}},e))},_sendSubmit:function(t,i,n){var e=this,s=[];return e.options.batch&&(t.length&&s.push(v.Deferred(function(e){e.type="create",e.models=t})),i.length&&s.push(v.Deferred(function(e){e.type="update",e.models=i})),n.length&&s.push(v.Deferred(function(e){e.type="destroy",e.models=n})),e._submit(s,{data:{created:e.reader.serialize(le(t)),updated:e.reader.serialize(le(i)),destroyed:e.reader.serialize(le(n))}})),s},_promise:function(e,t,i){var s=this;return v.Deferred(function(n){s.trigger(l,{type:i}),s.trigger(c),s.transport[i].call(s.transport,g({success:function(e){n.resolve({response:e,models:t,type:i})},error:function(e,t,i){n.reject(e),s.error(e,t,i)}},e))}).promise()},_send:function(e,t){var i,n,s=[],r=this.reader.serialize(le(t));if(this.options.batch)t.length&&s.push(this._promise({data:{models:r}},t,e));else for(i=0,n=t.length;i<n;i++)s.push(this._promise({data:r[i]},[t[i]],e));return s},read:function(e){var t=this,i=t._params(e),n=v.Deferred();return t._queueRequest(i,function(){var e=t.trigger(l,{type:"read"});e?(t._dequeueRequest(),n.resolve(e)):(t.trigger(c),t._ranges=[],t.trigger("reset"),t.online()?t.transport.read({data:i,success:function(e){t._ranges=[],t.success(e,i),n.resolve()},error:function(){var e=P.call(arguments);t.error.apply(t,e),n.reject.apply(n,e)}}):null!=t.options.offlineStorage&&(t.success(t.offlineData(),i),n.resolve()))}),n.promise()},_readAggregates:function(e){return this.reader.aggregates(e)},success:function(e){var t,i,n=this,s=n.options;if(n.trigger(S,{response:e,type:"read"}),n.online()){if(e=n.reader.parse(e),n._handleCustomErrors(e))return void n._dequeueRequest();n._total=n.reader.total(e),n._pageSize>n._total&&(n._pageSize=n._total,n.options.pageSize&&n.options.pageSize>n._pageSize&&(n._pageSize=n.options.pageSize)),n._aggregate&&s.serverAggregates&&(n._aggregateResult=n._readAggregates(e)),e=n._readData(e),n._destroyed=[]}else{e=n._readData(e),t=[];var r,a={},o=n.reader.model,l=o?o.idField:"id";for(r=0;r<this._destroyed.length;r++){var u=this._destroyed[r][l];a[u]=u}for(r=0;r<e.length;r++){var c=e[r];"destroy"==c.__state__?a[c[l]]||this._destroyed.push(this._createNewModel(c)):t.push(c)}e=t,n._total=e.length}if(n._pristineTotal=n._total,i=n._skip&&n._data.length&&n._skip<n._data.length,n.options.endless){i&&n._pristineData.splice(n._skip,n._pristineData.length),t=e.slice(0);for(var d=0;d<t.length;d++)n._pristineData.push(t[d])}else n._pristineData=e.slice(0);if(n._detachObservableParents(),n.options.endless){n._data.unbind(T,n._changeHandler),n._isServerGrouped()&&n._data[n._data.length-1].value===e[0].value&&(function e(t,i){var n,s;if(i.items&&i.items.length)for(var r=0;r<i.items.length;r++)n=t.items[r],s=i.items[r],n&&s?n.hasSubgroups?e(n,s):n.field&&n.value==s.value?n.items.push.apply(n.items,s.items):t.items.push.apply(t.items,[s]):s&&t.items.push.apply(t.items,[s])}(n._data[n._data.length-1],e[0]),e.shift()),e=n._observe(e),i&&n._data.splice(n._skip,n._data.length);for(var p=0;p<e.length;p++)n._data.push(e[p]);n._data.bind(T,n._changeHandler)}else n._data=n._observe(e);n._markOfflineUpdatesAsDirty(),n._storeData(),n._addRange(n._data),n._process(n._data),n._dequeueRequest()},_detachObservableParents:function(){if(this._data&&this._shouldDetachObservableParents)for(var e=0;e<this._data.length;e++)this._data[e].parent&&(this._data[e].parent=o)},_storeData:function(e){var a=this._isServerGrouped(),o=this.reader.model;if(null!=this.options.offlineStorage){for(var t=function e(t){for(var i=[],n=0;n<t.length;n++){var s=t.at(n),r=s.toJSON();a&&s.items?r.items=e(s.items):(r.uid=s.uid,o&&(s.isNew()?r.__state__="create":s.dirty&&(r.__state__="update"))),i.push(r)}return i}(this._data),i=[],n=0;n<this._destroyed.length;n++){var s=this._destroyed[n].toJSON();s.__state__="destroy",i.push(s)}this.offlineData(t.concat(i)),e&&(this._pristineData=this.reader.reader?this.reader.reader._wrapDataAccessBase(t):this.reader._wrapDataAccessBase(t))}},_addRange:function(e,t){var i=this,n=void 0!==t?t:i._skip||0,s=n+i._flatData(e,!0).length;i._ranges.push({start:n,end:s,data:e,pristineData:e.toJSON(),timestamp:i._timeStamp()}),i._sortRanges()},_sortRanges:function(){this._ranges.sort(function(e,t){return e.start-t.start})},error:function(e,t,i){this._dequeueRequest(),this.trigger(S,{}),this.trigger(r,{xhr:e,status:t,errorThrown:i})},_params:function(e){var t=this,i=g({take:t.take(),skip:t.skip(),page:t.page(),pageSize:t.pageSize(),sort:t._sort,filter:t._filter,group:t._group,aggregate:t._aggregate},e);return t.options.serverPaging||(delete i.take,delete i.skip,delete i.page,delete i.pageSize),t.options.serverGrouping?t.reader.model&&i.group&&(i.group=Te(i.group,t.reader.model)):delete i.group,t.options.serverFiltering?t.reader.model&&i.filter&&(i.filter=function e(t,i){var n,s,r={};for(var a in t)"filters"!==a&&(r[a]=t[a]);if(t.filters)for(r.filters=[],n=0,s=t.filters.length;n<s;n++)r.filters[n]=e(t.filters[n],i);else r.field=Ce(i.fields,r.field);return r}(i.filter,t.reader.model)):delete i.filter,t.options.serverSorting?t.reader.model&&i.sort&&(i.sort=Te(i.sort,t.reader.model)):delete i.sort,t.options.serverAggregates?t.reader.model&&i.aggregate&&(i.aggregate=Te(i.aggregate,t.reader.model)):delete i.aggregate,i},_queueRequest:function(e,t){var i=this;i._requestInProgress?i._pending={callback:_(t,i),options:e}:(i._requestInProgress=!0,i._pending=w,t())},_dequeueRequest:function(){var e=this;e._requestInProgress=!1,e._pending&&e._queueRequest(e._pending.options,e._pending.callback)},_handleCustomErrors:function(e){if(this.reader.errors){var t=this.reader.errors(e);if(t)return this.trigger(r,{xhr:null,status:"customerror",errorThrown:"custom error",errors:t}),!0}return!1},_shouldWrap:function(e){var t=this.reader.model;return!(!t||!e.length||e[0]instanceof t)},_observe:function(e){var t=this,i=t.reader.model;return t._shouldDetachObservableParents=!0,e instanceof B?(t._shouldDetachObservableParents=!1,t._shouldWrap(e)&&(e.type=t.reader.model,e.wrapAll(e,e))):(e=new(t.pageSize()&&!t.options.serverPaging?N:B)(e,t.reader.model)).parent=function(){return t.parent()},t._isServerGrouped()&&function e(t,i){var n,s,r;if(i)for(n=0,s=t.length;n<s;n++)(r=t.at(n)).hasSubgroups?e(r.items,i):r.items=new N(r.items,i,r.items._events)}(e,i),!(t._changeHandler&&t._data&&t._data instanceof B)||t.options.useRanges&&t.options.serverPaging?t._changeHandler=_(t._change,t):t._data.unbind(T,t._changeHandler),e.bind(T,t._changeHandler)},_updateTotalForAction:function(e,t){var i=this,n=parseInt(i._total,10);ae(i._total)||(n=parseInt(i._pristineTotal,10)),"add"===e?n+=t.length:"remove"===e?n-=t.length:"itemchange"===e||"sync"===e||i.options.serverPaging?"sync"===e&&(n=i._pristineTotal=parseInt(i._total,10)):n=i._pristineTotal,i._total=n},_change:function(t){var e,i,n=this,s=t?t.action:"";if("remove"===s)for(e=0,i=t.items.length;e<i;e++)t.items[e].isNew&&t.items[e].isNew()||n._destroyed.push(t.items[e]);if(!n.options.autoSync||"add"!==s&&"remove"!==s&&"itemchange"!==s)n._updateTotalForAction(s,t?t.items:[]),n._process(n._data,t);else{var r=function(e){"sync"===e.action&&(n.unbind("change",r),n._updateTotalForAction(s,t.items))};n.first("change",r),n.sync()}},_calculateAggregates:function(e,t){t=t||{};var i=new Q(e),n=t.aggregate,s=t.filter;return s&&(i=i.filter(s)),i.aggregate(n)},_process:function(e,t){var i,n=this,s={};!0!==n.options.serverPaging&&(s.skip=n._skip,s.take=n._take||n._pageSize,s.skip===w&&n._page!==w&&n._pageSize!==w&&(s.skip=(n._page-1)*n._pageSize),n.options.useRanges&&(s.skip=n.currentRangeStart())),!0!==n.options.serverSorting&&(s.sort=n._sort),!0!==n.options.serverFiltering&&(s.filter=n._filter),!0!==n.options.serverGrouping&&(s.group=n._group),!0!==n.options.serverAggregates&&(s.aggregate=n._aggregate),n.options.serverGrouping&&n._clearEmptyGroups(e),i=n._queryProcess(e,s),!0!==n.options.serverAggregates&&(n._aggregateResult=n._calculateAggregates(i.dataToAggregate||e,s)),n.view(i.data),n._setFilterTotal(i.total,!1),(t=t||{}).items=t.items||n._view,n.trigger(T,t)},_clearEmptyGroups:function(e){for(var t=e.length-1;0<=t;t--){var i=e[t];i.hasSubgroups?this._clearEmptyGroups(i.items):i.items&&!i.items.length&&M.apply(i.parent(),[t,1])}},_queryProcess:function(e,t){return this.options.inPlaceSort?Q.process(e,t,this.options.inPlaceSort):Q.process(e,t)},_mergeState:function(e){var t,i=this;return e!==w&&(i._pageSize=e.pageSize,i._page=e.page,i._sort=e.sort,i._filter=e.filter,i._group=e.group,i._aggregate=e.aggregate,i._skip=i._currentRangeStart=e.skip,i._take=e.take,i._skip===w&&(i._skip=i._currentRangeStart=i.skip(),e.skip=i.skip()),i._take===w&&i._pageSize!==w&&(i._take=i._pageSize,e.take=i._take),e.sort&&(i._sort=e.sort=J(e.sort)),e.filter&&(i._filter=e.filter=Z(e.filter)),e.group&&(i._group=e.group=ie(e.group)),e.aggregate&&(i._aggregate=e.aggregate=(t=e.aggregate,y(t)?t:[t]))),e},query:function(e){var t;if(this.options.serverSorting||this.options.serverPaging||this.options.serverFiltering||this.options.serverGrouping||this.options.serverAggregates||(this._data===w||0===this._data.length)&&!this._destroyed.length){if(this.options.endless){var i=e.pageSize-this.pageSize();0<i?(i=this.pageSize(),e.page=e.pageSize/i,e.pageSize=i):(e.page=1,this.options.endless=!1)}return this.read(this._mergeState(e))}var n=this.trigger(l,{type:"read"});return n||(this.trigger(c),t=this._queryProcess(this._data,this._mergeState(e)),this._setFilterTotal(t.total,!0),this._aggregateResult=this._calculateAggregates(t.dataToAggregate||this._data,e),this.view(t.data),this.trigger(S,{type:"read"}),this.trigger(T,{items:t.data})),v.Deferred().resolve(n).promise()},_setFilterTotal:function(e,t){this.options.serverFiltering||(e!==w?this._total=e:t&&(this._total=this._data.length))},fetch:function(t){var i=this;return this._query().done(function(e){!0!==e&&x(t)&&t.call(i)})},_query:function(e){var t=this;return t.query(g({},{page:t.page(),pageSize:t.pageSize(),sort:t.sort(),filter:t.filter(),group:t.group(),aggregate:t.aggregate()},e))},next:function(e){var t=this,i=t.page(),n=t.total();if(e=e||{},i&&!(n&&i+1>t.totalPages()))return t._skip=t._currentRangeStart=i*t.take(),i+=1,e.page=i,t._query(e),i},prev:function(e){var t=this,i=t.page();if(e=e||{},i&&1!==i)return t._skip=t._currentRangeStart=t._skip-t.take(),i-=1,e.page=i,t._query(e),i},page:function(e){var t,i=this;return e!==w?(e=E.max(E.min(E.max(e,1),i.totalPages()),1),void i._query(i._pageableQueryOptions({page:e}))):(t=i.skip())!==w?E.round((t||0)/(i.take()||1))+1:w},pageSize:function(e){if(e===w)return this.take();this._query(this._pageableQueryOptions({pageSize:e,page:1}))},sort:function(e){if(e===w)return this._sort;this._query({sort:e})},filter:function(e){if(e===w)return this._filter;this.trigger("reset"),this._query({filter:e,page:1})},group:function(e){if(e===w)return this._group;this._query({group:e})},total:function(){return parseInt(this._total||0,10)},aggregate:function(e){if(e===w)return this._aggregate;this._query({aggregate:e})},aggregates:function(){var e=this._aggregateResult;return h(e)&&(e=this._emptyAggregates(this.aggregate())),e},_emptyAggregates:function(e){var t={};if(!h(e)){var i={};y(e)||(e=[e]);for(var n=0;n<e.length;n++)i[e[n].aggregate]=0,t[e[n].field]=i}return t},_pageableQueryOptions:function(e){return e},_wrapInEmptyGroup:function(e){var t,i,n,s=this.group();for(n=s.length-1;0<=n;n--)i=s[n],t={value:e.get?e.get(i.field):e[i.field],field:i.field,items:t?[t]:[e],hasSubgroups:!!t,aggregates:this._emptyAggregates(i.aggregates)};return t},totalPages:function(){var e=this.pageSize()||this.total();return E.ceil((this.total()||0)/e)},inRange:function(e,t){var i=E.min(e+t,this.total());return!this.options.serverPaging&&0<this._data.length||0<this._findRange(e,i).length},lastRange:function(){var e=this._ranges;return e[e.length-1]||{start:0,end:0,data:[]}},firstItemUid:function(){var e=this._ranges;return e.length&&e[0].data.length&&e[0].data[0].uid},enableRequestsInProgress:function(){this._skipRequestsInProgress=!1},_timeStamp:function(){return(new Date).getTime()},range:function(e,t,i){this._currentRequestTimeStamp=this._timeStamp(),this._skipRequestsInProgress=!0,e=E.min(e||0,this.total()),i=x(i)?i:o;var n,s=this,r=E.max(E.floor(e/t),0)*t,a=E.min(r+t,s.total());if((n=s._findRange(e,E.min(e+t,s.total()))).length||0===s.total())return s._processRangeData(n,e,t,r,a),void i();t!==w&&(s._rangeExists(r,a)?r<e&&s.prefetch(a,t,function(){s.range(e,t,i)}):s.prefetch(r,t,function(){r<e&&a<s.total()&&!s._rangeExists(a,E.min(a+t,s.total()))?s.prefetch(a,t,function(){s.range(e,t,i)}):s.range(e,t,i)}))},_findRange:function(e,t){var i,n,s,r,a,o,l,u,c,d,p,h=this,f=h._ranges,m=[],g=h.options,_=g.serverSorting||g.serverPaging||g.serverFiltering||g.serverGrouping||g.serverAggregates;for(n=0,p=f.length;n<p;n++)if(e>=(i=f[n]).start&&e<=i.end){for(d=0,s=n;s<p;s++)if(i=f[s],(c=h._flatData(i.data,!0)).length&&e+d>=i.start){if(o=i.data,l=i.end,!_){if(g.inPlaceSort)u=h._queryProcess(i.data,{filter:h.filter()});else{var v=ne(h.group()||[]).concat(J(h.sort()||[]));u=h._queryProcess(i.data,{sort:v,filter:h.filter()})}c=o=u.data,u.total!==w&&(l=u.total)}if(r=0,e+d>i.start&&(r=e+d-i.start),a=c.length,t<l&&(a-=l-t),d+=a-r,m=h._mergeGroups(m,o,r,a),t<=i.end&&d==t-e)return m}break}return[]},_mergeGroups:function(e,t,i,n){if(this._isServerGrouped()){var s,r=t.toJSON();return e.length&&(s=e[e.length-1]),function e(t,i,n,s){for(var r,a,o=0;i.length&&s;){var l=(a=(r=i[o]).items).length;if(t&&t.field===r.field&&t.value===r.value?(t.hasSubgroups&&t.items.length?e(t.items[t.items.length-1],r.items,n,s):(a=a.slice(n,n+s),t.items=t.items.concat(a)),i.splice(o--,1)):(r.hasSubgroups&&a.length?e(r,a,n,s):(a=a.slice(n,n+s),r.items=a),r.items.length||i.splice(o--,1)),0===a.length?n-=l:(n=0,s-=a.length),++o>=i.length)break}o<i.length&&i.splice(o,i.length-o)}(s,r,i,n),e.concat(r)}return e.concat(t.slice(i,n))},_processRangeData:function(e,t,i,n,s){var r=this;r._pending=w,r._skip=t>r.skip()?E.min(s,(r.totalPages()-1)*r.take()):n,r._currentRangeStart=t,r._take=i;var a=r.options.serverPaging,o=r.options.serverSorting,l=r.options.serverFiltering,u=r.options.serverAggregates;try{r.options.serverPaging=!0,r._isServerGrouped()||r.group()&&r.group().length||(r.options.serverSorting=!0),r.options.serverFiltering=!0,r.options.serverPaging=!0,r.options.serverAggregates=!0,a&&(r._detachObservableParents(),r._data=e=r._observe(e)),r._process(e)}finally{r.options.serverPaging=a,r.options.serverSorting=o,r.options.serverFiltering=l,r.options.serverAggregates=u}},skip:function(){var e=this;return e._skip===w?e._page!==w?(e._page-1)*(e.take()||1):w:e._skip},currentRangeStart:function(){return this._currentRangeStart||0},take:function(){return this._take||this._pageSize},_prefetchSuccessHandler:function(a,o,l,u){var c=this,d=c._timeStamp();return function(e){var t,i,n,s=!1,r={start:a,end:o,data:[],timestamp:c._timeStamp()};if(c._dequeueRequest(),c.trigger(S,{response:e,type:"read"}),e=c.reader.parse(e),(n=c._readData(e)).length){for(t=0,i=c._ranges.length;t<i;t++)if(c._ranges[t].start===a){s=!0,(r=c._ranges[t]).pristineData=n,r.data=c._observe(n),r.end=r.start+c._flatData(r.data,!0).length,c._sortRanges();break}s||c._addRange(c._observe(n),a)}c._total=c.reader.total(e),(u||d>=c._currentRequestTimeStamp||!c._skipRequestsInProgress)&&(l&&n.length?l():c.trigger(T,{}))}},prefetch:function(e,t,i){var n=this,s=E.min(e+t,n.total()),r={take:t,skip:e,page:e/t+1,pageSize:t,sort:n._sort,filter:n._filter,group:n._group,aggregate:n._aggregate};n._rangeExists(e,s)?i&&i():(clearTimeout(n._timeout),n._timeout=setTimeout(function(){n._queueRequest(r,function(){n.trigger(l,{type:"read"})?n._dequeueRequest():n.transport.read({data:n._params(r),success:n._prefetchSuccessHandler(e,s,i),error:function(){var e=P.call(arguments);n.error.apply(n,e)}})})},100))},_multiplePrefetch:function(e,t,i){var n=this,s=E.min(e+t,n.total()),r={take:t,skip:e,page:e/t+1,pageSize:t,sort:n._sort,filter:n._filter,group:n._group,aggregate:n._aggregate};n._rangeExists(e,s)?i&&i():n.trigger(l,{type:"read"})||n.transport.read({data:n._params(r),success:n._prefetchSuccessHandler(e,s,i,!0)})},_rangeExists:function(e,t){var i,n,s=this._ranges;for(i=0,n=s.length;i<n;i++)if(s[i].start<=e&&s[i].end>=t)return!0;return!1},_getCurrentRangeSpan:function(){var e,t,i=this._ranges,n=this.currentRangeStart(),s=n+(this.take()||0),r=[],a=i.length;for(t=0;t<a;t++)((e=i[t]).start<=n&&e.end>=n||e.start>=n&&e.start<=s)&&r.push(e);return r},_removeModelFromRanges:function(e){for(var t,i=0,n=this._ranges.length;i<n;i++)t=this._ranges[i],this._removeModelFromRange(t,e);this._updateRangesLength()},_removeModelFromRange:function(e,n){this._eachItem(e.data,function(e){for(var t=0;t<e.length;t++){var i=e[t];if(i.uid&&i.uid==n.uid){[].splice.call(e,t,1);break}}})},_insertModelInRange:function(e,t){var i,n,s=this,r=s._ranges||[],a=r.length;for(n=0;n<a;n++)if((i=r[n]).start<=e&&i.end>=e){s._getByUid(t.uid,i.data)||(s._isServerGrouped()?i.data.splice(e,0,s._wrapInEmptyGroup(t)):i.data.splice(e,0,t));break}s._updateRangesLength()},_updateRangesLength:function(){var e,t,i=this._ranges||[],n=i.length,s=!1,r=0,a=0;for(t=0;t<n;t++)e=i[t],a=this._flatData(e.data,!0).length-E.abs(e.end-e.start),s||0===a?s&&(e.start+=r,e.end+=r):(s=!0,r=a,e.end+=r)}}),Ie={create:function(e,t,i){var n,s=e.transport?v.extend({},e.transport):null;return s?(s.read=typeof s.read===C?{url:s.read}:s.read,"jsdo"===e.type&&(s.dataSource=i),e.type&&(f.data.transports=f.data.transports||{},f.data.schemas=f.data.schemas||{},f.data.transports[e.type]?b(f.data.transports[e.type])?s=g(!0,{},f.data.transports[e.type],s):n=new f.data.transports[e.type](g(s,{data:t})):f.logToConsole("Unknown DataSource transport type '"+e.type+"'.\nVerify that registration scripts for this type are included after Kendo UI on the page.","warn"),e.schema=g(!0,{},f.data.schemas[e.type],e.schema)),n||(n=x(s.read)?s:new ce(s))):n=new ue({data:e.data||[]}),n}};Se.create=function(e){(y(e)||e instanceof B)&&(e={data:e});var t,i,n,s=e||{},r=s.data,a=s.fields,o=s.table,l=s.select,u={};if(r||!a||s.transport||(o?r=function(e,t){var i,n,s,r,a,o,l,u=v(e)[0].tBodies[0],c=u?u.rows:[],d=t.length,p=[];for(i=0,n=c.length;i<n;i++){for(a={},l=!0,r=c[i].cells,s=0;s<d;s++)"th"!==(o=r[s]).nodeName.toLowerCase()&&(l=!1,a[t[s].field]=o.innerHTML);l||p.push(a)}return p}(o,a):l&&(r=function(e,t){var i,n,s,r,a,o,l=(e=v(e)[0]).options,u=t[0],c=t[1],d=[];for(i=0,n=l.length;i<n;i++)a={},r=l[i],(s=r.parentNode)===e&&(s=null),r.disabled||s&&s.disabled||(s&&(a.optgroup=s.label),a[u.field]=r.text,o=(o=r.attributes.value)&&o.specified?r.value:r.text,a[c.field]=o,d.push(a));return d}(l,a),s.group===w&&r[0]&&r[0].optgroup!==w&&(s.group="optgroup"))),f.data.Model&&a&&(!s.schema||!s.schema.model)){for(t=0,i=a.length;t<i;t++)(n=a[t]).type&&(u[n.field]=n);h(u)||(s.schema=g(!0,s.schema,{model:{fields:u}}))}return s.data=r,l=null,o=s.select=null,s.table=null,s instanceof Se?s:new Se(s)};var De=G.define({idField:"id",init:function(e){var t=this,i=t.hasChildren||e&&e.hasChildren,n="items",s={};if(f.data.Model.fn.init.call(t,e),typeof t.children===C&&(n=t.children),s={schema:{data:n,model:{hasChildren:i,id:t.idField,fields:t.fields}}},typeof t.children!==C&&g(s,t.children),s.data=e,i||(i=s.schema.data),typeof i===C&&(i=f.getter(i)),x(i)){var r=i.call(t,t);r&&0===r.length?t.hasChildren=!1:t.hasChildren=!!r}t._childrenOptions=s,t.hasChildren&&t._initChildren(),t._loaded=!(!e||!e._loaded)},_initChildren:function(){var e,t,i,n=this;n.children instanceof Ee||(t=(e=n.children=new Ee(n._childrenOptions)).transport,i=t.parameterMap,t.parameterMap=function(e,t){return e[n.idField||"id"]=n.id,i&&(e=i(e,t)),e},e.parent=function(){return n},e.bind(T,function(e){e.node=e.node||n,n.trigger(T,e)}),e.bind(r,function(e){var t=n.parent();t&&(e.node=e.node||n,t.trigger(r,e))}),n._updateChildrenField())},append:function(e){this._initChildren(),this.loaded(!0),this.children.add(e)},hasChildren:!1,level:function(){for(var e=this.parentNode(),t=0;e&&e.parentNode;)t++,e=e.parentNode?e.parentNode():null;return t},_updateChildrenField:function(){this[this._childrenOptions.schema.data||"items"]=this.children.data()},_childrenLoaded:function(){this._loaded=!0,this._updateChildrenField()},load:function(){var e,t,i={},n="_query";return this.hasChildren?(this._initChildren(),e=this.children,i[this.idField||"id"]=this.id,this._loaded||(e._data=w,n="read"),e.one(T,_(this._childrenLoaded,this)),this._matchFilter&&(i.filter={field:"_matchFilter",operator:"eq",value:!0}),t=e[n](i)):this.loaded(!0),t||v.Deferred().resolve().promise()},parentNode:function(){return this.parent().parent()},loaded:function(e){if(e===w)return this._loaded;this._loaded=e},shouldSerialize:function(e){return G.fn.shouldSerialize.call(this,e)&&"children"!==e&&"_loaded"!==e&&"hasChildren"!==e&&"_childrenOptions"!==e}});function Fe(i){return function(){var e=this._data,t=Se.fn[i].apply(this,P.call(arguments));return this._data!=e&&this._attachBubbleHandlers(),t}}var Ee=Se.extend({init:function(e){var t=De.define({children:e});e.filter&&!e.serverFiltering&&(this._hierarchicalFilter=e.filter,e.filter=null),Se.fn.init.call(this,g(!0,{},{schema:{modelBase:t,model:t}},e)),this._attachBubbleHandlers()},_attachBubbleHandlers:function(){var t=this;t._data.bind(r,function(e){t.trigger(r,e)})},read:function(e){var t=Se.fn.read.call(this,e);return this._hierarchicalFilter&&(this._data&&0<this._data.length?this.filter(this._hierarchicalFilter):(this.options.filter=this._hierarchicalFilter,this._filter=Z(this.options.filter),this._hierarchicalFilter=null)),t},remove:function(e){var t,i=e.parentNode(),n=this;return i&&i._initChildren&&(n=i.children),t=Se.fn.remove.call(n,e),i&&!n.data().length&&(i.hasChildren=!1),t},success:Fe("success"),data:Fe("data"),insert:function(e,t){var i=this.parent();return i&&i._initChildren&&(i.hasChildren=!0,i._initChildren()),Se.fn.insert.call(this,e,t)},filter:function(e){if(e===w)return this._filter;!this.options.serverFiltering&&this._markHierarchicalQuery(e)&&(e={logic:"or",filters:[e,{field:"_matchFilter",operator:"equals",value:!0}]}),this.trigger("reset"),this._query({filter:e,page:1})},_markHierarchicalQuery:function(e){var t,i,n,s,r;return(e=Z(e))&&0!==e.filters.length?(t=Q.filterExpr(e),n=t.fields,s=t.operators,i=r=new Function("d, __f, __o","return "+t.expression),(n.length||s.length)&&(r=function(e){return i(e,n,s)}),this._updateHierarchicalFilter(r),!0):(this._updateHierarchicalFilter(function(){return!0}),!1)},_updateHierarchicalFilter:function(e){for(var t,i=this._data,n=!1,s=0;s<i.length;s++)(t=i[s]).hasChildren?(t._matchFilter=t.children._updateHierarchicalFilter(e),t._matchFilter||(t._matchFilter=e(t))):t._matchFilter=e(t),t._matchFilter&&(n=!0);return n},_find:function(e,t){var i,n,s,r,a=this._data;if(a){if(s=Se.fn[e].call(this,t))return s;for(i=0,n=(a=this._flatData(this._data)).length;i<n;i++)if((r=a[i].children)instanceof Ee&&(s=r[e](t)))return s}},get:function(e){return this._find("get",e)},getByUid:function(e){return this._find("getByUid",e)}});Ee.create=function(e){var t=(e=e&&e.push?{data:e}:e)||{},i=t.data,n=t.fields,s=t.list;return i&&i._dataSource?i._dataSource:(i||!n||t.transport||s&&(i=function e(t,i){var n,s,r,a,o,l,u,c,d=v(t).children(),p=[],h=i[0].field,f=i[1]&&i[1].field,m=i[2]&&i[2].field,g=i[3]&&i[3].field;function _(e,t){return e.filter(t).add(e.find(t))}for(n=0,s=d.length;n<s;n++)r={_loaded:!0},l=(a=d.eq(n))[0].firstChild,t=(c=a.children()).filter("ul"),c=c.filter(":not(ul)"),(o=a.attr("data-id"))&&(r.id=o),l&&(r[h]=3==l.nodeType?l.nodeValue:c.text()),f&&(r[f]=_(c,"a").attr("href")),g&&(r[g]=_(c,"img").attr("src")),m&&(u=_(c,".k-sprite").prop("className"),r[m]=u&&v.trim(u.replace("k-sprite",""))),t.length&&(r.items=e(t.eq(0),i)),"true"==a.attr("data-hasChildren")&&(r.hasChildren=!0),p.push(r);return p}(s,n)),t.data=i,t instanceof Ee?t:new Ee(t))};var Oe=f.Observable.extend({init:function(e,t,i){f.Observable.fn.init.call(this),this._prefetching=!1,this.dataSource=e,this.prefetch=!i;var n=this;e.bind("change",function(){n._change()}),e.bind("reset",function(){n._reset()}),this._syncWithDataSource(),this.setViewSize(t)},setViewSize:function(e){this.viewSize=e,this._recalculate()},at:function(e){var t=this.pageSize,i=!0;return e>=this.total()?(this.trigger("endreached",{index:e}),null):this.useRanges?this.useRanges?((e<this.dataOffset||e>=this.skip+t)&&(i=this.range(Math.floor(e/t)*t)),e===this.prefetchThreshold&&this._prefetch(),e===this.midPageThreshold?this.range(this.nextMidRange,!0):e===this.nextPageThreshold?this.range(this.nextFullRange):e===this.pullBackThreshold&&(this.offset===this.skip?this.range(this.previousMidRange):this.range(this.previousFullRange)),i?this.dataSource.at(e-this.dataOffset):(this.trigger("endreached",{index:e}),null)):void 0:this.dataSource.view()[e]},indexOf:function(e){return this.dataSource.data().indexOf(e)+this.dataOffset},total:function(){return parseInt(this.dataSource.total(),10)},next:function(){var e=this,t=e.pageSize,i=e.skip-e.viewSize+t,n=E.max(E.floor(i/t),0)*t;this.offset=i,this.dataSource.prefetch(n,t,function(){e._goToRange(i,!0)})},range:function(e,t){if(this.offset===e)return!0;var i=this,n=this.pageSize,s=E.max(E.floor(e/n),0)*n,r=this.dataSource;return t&&(s+=n),r.inRange(e,n)?(this.offset=e,this._recalculate(),this._goToRange(e),!0):!this.prefetch||(r.prefetch(s,n,function(){i.offset=e,i._recalculate(),i._goToRange(e,!0)}),!1)},syncDataSource:function(){var e=this.offset;this.offset=null,this.range(e)},destroy:function(){this.unbind()},_prefetch:function(){var e=this,t=this.pageSize,i=this.skip+t,n=this.dataSource;n.inRange(i,t)||this._prefetching||!this.prefetch||(this._prefetching=!0,this.trigger("prefetching",{skip:i,take:t}),n.prefetch(i,t,function(){e._prefetching=!1,e.trigger("prefetched",{skip:i,take:t})}))},_goToRange:function(e,t){this.offset===e&&(this.dataOffset=e,this._expanding=t,this.dataSource.range(e,this.pageSize),this.dataSource.enableRequestsInProgress())},_reset:function(){this._syncPending=!0},_change:function(){var e=this.dataSource;this.length=this.useRanges?e.lastRange().end:e.view().length,this._syncPending&&(this._syncWithDataSource(),this._recalculate(),this._syncPending=!1,this.trigger("reset",{offset:this.offset})),this.trigger("resize"),this._expanding&&this.trigger("expand"),delete this._expanding},_syncWithDataSource:function(){var e=this.dataSource;this._firstItemUid=e.firstItemUid(),this.dataOffset=this.offset=e.skip()||0,this.pageSize=e.pageSize(),this.useRanges=e.options.serverPaging},_recalculate:function(){var e=this.pageSize,t=this.offset,i=this.viewSize,n=Math.ceil(t/e)*e;this.skip=n,this.midPageThreshold=n+e-1,this.nextPageThreshold=n+i-1,this.prefetchThreshold=n+Math.floor(e/3*2),this.pullBackThreshold=this.offset-1,this.nextMidRange=n+e-i,this.nextFullRange=n,this.previousMidRange=t-i,this.previousFullRange=n-e}}),Ae=f.Observable.extend({init:function(e,t){var i=this;f.Observable.fn.init.call(i),this.dataSource=e,this.batchSize=t,this._total=0,this.buffer=new Oe(e,3*t),this.buffer.bind({endreached:function(e){i.trigger("endreached",{index:e.index})},prefetching:function(e){i.trigger("prefetching",{skip:e.skip,take:e.take})},prefetched:function(e){i.trigger("prefetched",{skip:e.skip,take:e.take})},reset:function(){i._total=0,i.trigger("reset")},resize:function(){i._total=Math.ceil(this.length/i.batchSize),i.trigger("resize",{total:i.total(),offset:this.offset})}})},syncDataSource:function(){this.buffer.syncDataSource()},at:function(e){var t,i=this.buffer,n=e*this.batchSize,s=this.batchSize,r=[];i.offset>n&&i.at(i.offset-1);for(var a=0;a<s&&null!==(t=i.at(n+a));a++)r.push(t);return r},total:function(){return this._total},destroy:function(){this.buffer.destroy(),this.unbind()}});g(!0,f.data,{readers:{json:_e},Query:Q,DataSource:Se,HierarchicalDataSource:Ee,Node:De,ObservableObject:U,ObservableArray:B,LazyObservableArray:N,LocalTransport:ue,RemoteTransport:ce,Cache:de,DataReader:_e,Model:G,Buffer:Oe,BatchBuffer:Ae})}(window.kendo.jQuery),window.kendo}),("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()})("kendo.calendar",["kendo.core","kendo.selectable"],function(){return function(v,w){var C=window.kendo,e=C.support,t=C.ui,r=t.Widget,g=C.keys,l=C.parseDate,T=C.date.adjustDST,S=C.date.weekInYear,s=C.ui.Selectable,a=C._extractFormat,o=C.template,u=C.getCulture,i=C.support.transitions,c=i?i.css+"transform-origin":"",b=o('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link" href="\\#" data-#=data.ns#value="#=data.dateString#">#=data.value#</a></td>',{useWithBlock:!1}),y=o('<td role="gridcell" class="k-out-of-range"><a class="k-link"></a></td>',{useWithBlock:!1}),k=o('<td role="gridcell" class="k-out-of-range">&nbsp;</td>',{useWithBlock:!1}),x=o('<td class="k-alt">#= data.weekNumber #</td>',{useWithBlock:!1}),n=C.support.browser,d=n.msie&&n.version<9,p=C._outerWidth,h=".kendoCalendar",f="click"+h,m="slideIn",_="month",I="century",D="change",F="navigate",E="value",O="k-state-hover",A="k-state-disabled",M="k-state-focused",H="k-other-month",P=' class="'+H+'"',z="k-nav-today",V="td:has(.k-link)",L="td:has(.k-link):not(."+A+"):not(.k-out-of-range)",R="k-state-selected",B="blur"+h,N="focus"+h,W=e.touch?"touchstart":"mouseenter",U=e.touch?"touchstart"+h:"mouseenter"+h,q=e.touch?"touchend"+h+" touchmove"+h:"mouseleave"+h,j="_prevArrow",G="_nextArrow",Y="aria-disabled",$="aria-selected",K="aria-label",Q=v.proxy,J=v.extend,X=Date,Z={month:0,year:1,decade:2,century:3},ee=r.extend({init:function(e,n){var t,i,s=this;r.fn.init.call(s,e,n),e=s.wrapper=s.element,(n=s.options).url=window.unescape(n.url),s.options.disableDates=we(s.options.disableDates),s._templates(),s._selectable(),s._header(),s._viewWrapper(),s._footer(s.footer),(i=e.addClass("k-widget k-calendar "+(n.weekNumber?" k-week-number":"")).on(U+" "+q,V,pe).on("keydown.kendoCalendar","table.k-content",Q(s._move,s)).on(f,V,function(e){var t=e.currentTarget.firstChild,i=ye(t);-1!=t.href.indexOf("#")&&e.preventDefault(),"month"==s._view.name&&s.options.disableDates(i)||"month"==s._view.name&&"single"!=n.selectable||s._click(v(t))}).on("mouseup"+h,"table.k-content, .k-footer",function(){s._focusView(!1!==s.options.focusOnNav)}).attr("id"))&&(s._cellID=i+"_cell_selected"),s._isMultipleSelection()&&s.options.weekNumber&&e.on(f,"td:not(:has(.k-link))",function(e){var t=v(e.currentTarget).closest("tr").find(L).first(),i=s.selectable._lastActive=v(e.currentTarget).closest("tr").find(L).last();s.selectable.selectRange(t,i,{event:e}),s._current=s._value=ye(i.find("a")),s._class(M,s._current)}),ge(n),t=l(n.value,n.format,n.culture),s._selectDates=[],s._index=Z[n.start],s._current=new X(+ae(t,n.min,n.max)),s._addClassProxy=function(){if(s._active=!0,s._cell.hasClass(A)){var e=s._view.toDateString(re());s._cell=s._cellByDate(e)}s._cell.addClass(M)},s._removeClassProxy=function(){s._active=!1,s._cell.removeClass(M)},s.value(t),s._isMultipleSelection()&&0<n.selectDates.length&&s.selectDates(n.selectDates),C.notify(s)},options:{name:"Calendar",value:null,min:new X(1900,0,1),max:new X(2099,11,31),dates:[],disableDates:null,url:"",culture:"",footer:"",format:"",month:{},weekNumber:!1,selectable:"single",selectDates:[],start:_,depth:_,animation:{horizontal:{effects:m,reverse:!0,duration:500,divisor:2},vertical:{effects:"zoomIn",duration:400}},messages:{weekColumnHeader:""}},events:[D,F],setOptions:function(e){var t=this;ge(e),e.disableDates=we(e.disableDates),r.fn.setOptions.call(t,e),t._templates(),t._selectable(),t._viewWrapper(),t._footer(t.footer),t._index=Z[t.options.start],t.navigate(),e.weekNumber&&t.element.addClass("k-week-number")},destroy:function(){var e=this,t=e._today;e.element.off(h),e._title.off(h),e[j].off(h),e[G].off(h),e._destroySelectable(),C.destroy(e._table),t&&C.destroy(t.off(h)),r.fn.destroy.call(e)},current:function(){return this._current},view:function(){return this._view},focus:function(e){e=e||this._table,this._bindTable(e),e.focus()},min:function(e){return this._option("min",e)},max:function(e){return this._option("max",e)},navigateToPast:function(){this._navigate(j,-1)},navigateToFuture:function(){this._navigate(G,1)},navigateUp:function(){var e=this._index;this._title.hasClass(A)||this.navigate(this._current,++e)},navigateDown:function(e){var t=this,i=t._index,n=t.options.depth;e&&(i!==Z[n]?t.navigate(e,--i):be(t._value,t._current)&&be(t._value,e)||(t.value(e),t.trigger(D)))},navigate:function(e,t){t=isNaN(t)?Z[t]:t;var i,n,s,r,a=this,o=a.options,l=o.culture,u=o.min,c=o.max,d=a._title,p=a._table,h=a._oldTable,f=a._current,m=e&&+f<+e,g=t!==w&&t!==a._index;if(e||(e=f),a._current=e=new X(+ae(e,u,c)),t===w?t=a._index:a._index=t,a._view=n=te.views[t],s=n.compare,r=t===Z[I],d.toggleClass(A,r).attr(Y,r),r=s(e,u)<1,a[j].toggleClass(A,r).attr(Y,r),a[j].hasClass(A)&&a[j].removeClass(O),r=-1<s(e,c),a[G].toggleClass(A,r).attr(Y,r),a[G].hasClass(A)&&a[G].removeClass(O),p&&h&&h.data("animating")&&(h.kendoStop(!0,!0),p.kendoStop(!0,!0)),!(a._oldTable=p)||a._changeView){d.html(n.title(e,u,c,l)),a._table=i=v(n.content(J({min:u,max:c,date:e,url:o.url,dates:o.dates,format:o.format,otherMonth:!0,culture:l,disableDates:o.disableDates,isWeekColumnVisible:o.weekNumber,messages:o.messages},a[n.name]))),ve(i,n.name),_e(i);var _=p&&p.data("start")===i.data("start");a._animate({from:p,to:i,vertical:g,future:m,replace:_}),a.trigger(F),a._focus(e)}t===Z[o.depth]&&0<a._selectDates.length&&a._visualizeSelectedDatesInView(),"single"===a.options.selectable&&t===Z[o.depth]&&a._value&&!a.options.disableDates(a._value)&&a._class("k-state-selected",a._value),a._class(M,e),!p&&a._cell&&a._cell.removeClass(M),a._changeView=!0},selectDates:function(e){var t,i,n=this;if(e===w)return n._selectDates;i=e.map(function(e){return e.getTime()}).filter(function(e,t,i){return i.indexOf(e)===t}).map(function(e){return new Date(e)}),t=v.grep(i,function(e){if(e)return+n._validateValue(new Date(e.setHours(0,0,0,0)))==+e}),n._selectDates=0<t.length?t:0===i.length?i:n._selectDates,n._visualizeSelectedDatesInView()},value:function(e){var t=this,i=t._view,n=t._view;if(e===w)return t._value;if((e=t._validateValue(e))&&t._isMultipleSelection()){var s=new Date(+e);s.setHours(0,0,0,0),t._selectDates=[s],t.selectable._lastActive=null}i&&null===e&&t._cell?t._cell.removeClass(R):(t._changeView=!e||n&&0!==n.compare(e,t._current),t.navigate(e))},_validateValue:function(e){var t=this,i=t.options,n=i.min,s=i.max;return null===e&&(t._current=fe(t._current.getFullYear(),t._current.getMonth(),t._current.getDate())),null!==(e=l(e,i.format,i.culture))&&(oe(e=new X(+e),n,s)||(e=null)),null!==e&&t.options.disableDates(new Date(+e))?t._value===w&&(t._value=null):t._value=e,t._value},_visualizeSelectedDatesInView:function(){var i={};v.each(this._selectDates,function(e,t){i[C.calendar.views[0].toDateString(t)]=t}),this.selectable.clear();var e=this._table.find(V).filter(function(e,t){return i[v(t.firstChild).attr(C.attr(E))]});0<e.length&&this.selectable._selectElement(e,!0)},_isMultipleSelection:function(){return"multiple"===this.options.selectable},_selectable:function(){var e=this;if(e._isMultipleSelection()){var t=e.options.selectable,i=s.parseOptions(t);i.multiple&&e.element.attr("aria-multiselectable","true"),e.selectable=new s(e.wrapper,{aria:!0,inputSelectors:"input,textarea,.k-multiselect-wrap,select,button,.k-button>span,.k-button>img,span.k-icon.k-i-arrow-60-down,span.k-icon.k-i-arrow-60-up",multiple:i.multiple,filter:"table.k-month:eq(0) "+L,change:Q(e._onSelect,e),relatedTarget:Q(e._onRelatedTarget,e)})}},_onRelatedTarget:function(e){this.selectable.options.multiple&&e.is(L)&&(this._current=ye(e.find("a")),this._class(M,ye(e.find("a"))))},_onSelect:function(e){var n=this,t=e;s.parseOptions(n.options.selectable).multiple?(t.event.ctrlKey||t.event.metaKey?v(t.event.currentTarget).is(L)?n._toggleSelection(v(t.event.currentTarget)):(n._cellsBySelector(L).each(function(e,t){var i=ye(v(t).find("a"));n._deselect(i)}),n._addSelectedCellsToArray()):t.event.shiftKey?n._rangeSelection(n._cell):v(t.event.currentTarget).is(V)?n.value(ye(v(t.event.currentTarget).find("a"))):(n._selectDates=[],n._addSelectedCellsToArray()),n.trigger(D)):v(t.event.currentTarget).is("td")&&!v(t.event.currentTarget).hasClass("k-state-selected")?v(t.event.currentTarget).addClass("k-state-selected"):n._click(v(t.event.currentTarget).find("a"))},_destroySelectable:function(){this.selectable&&(this.selectable.destroy(),this.selectable=null)},_toggleSelection:function(e){var t=ye(e.find("a"));e.hasClass("k-state-selected")?this._selectDates.push(t):this._deselect(t)},_rangeSelection:function(e,t){var i,n=this,s=t||ye(n.selectable.value().first().find("a")),r=ye(e.find("a"));n.selectable._lastActive||n._value?s=n.selectable._lastActive?ye(n.selectable._lastActive.find("a")):new Date(+n._value):n.selectable._lastActive=t?n._cellByDate(n._view.toDateString(t),L):n.selectable.value().first(),n._selectDates=[],i=ce(s,r),de(n._selectDates,i,s,n.options.disableDates),n._visualizeSelectedDatesInView()},_cellsBySelector:function(e){return this._table.find(e)},_addSelectedCellsToArray:function(){var n=this;n.selectable.value().each(function(e,t){var i=ye(v(t.firstChild));n.options.disableDates(i)||n._selectDates.push(i)})},_deselect:function(e){var t=this._selectDates.map(Number).indexOf(+e);-1!=t&&this._selectDates.splice(t,1)},_dateInView:function(e){var t=ye(this._cellsBySelector(V+":first").find("a"));return+e<=+ye(this._cellsBySelector(V+":last").find("a"))&&+t<=+e},_move:function(e){var t,i,n,s,r=this,a=r.options,o=e.keyCode,l=r._view,u=r._index,c=r.options.min,d=r.options.max,p=new X(+r._current),h=C.support.isRtl(r.wrapper),f=r.options.disableDates;if(e.target===r._table[0]&&(r._active=!0),o==g.RIGHT&&!h||o==g.LEFT&&h?(t=1,i=!0):o==g.LEFT&&!h||o==g.RIGHT&&h?(t=-1,i=!0):o==g.UP?(t=0===u?-7:-4,i=!0):o==g.DOWN?(t=0===u?7:4,i=!0):o==g.SPACEBAR?i=!(t=0):o!=g.HOME&&o!=g.END||(s=l[n=o==g.HOME?"first":"last"](p),(p=new X(s.getFullYear(),s.getMonth(),s.getDate(),p.getHours(),p.getMinutes(),p.getSeconds(),p.getMilliseconds())).setFullYear(s.getFullYear()),i=!0),e.ctrlKey||e.metaKey){if(o==g.RIGHT&&!h||o==g.LEFT&&h)r.navigateToFuture(),i=!0;else if(o==g.LEFT&&!h||o==g.RIGHT&&h)r.navigateToPast(),i=!0;else if(o==g.UP)r.navigateUp(),i=!0;else if(o==g.DOWN)r._click(v(r._cell[0].firstChild)),i=!0;else if((o==g.ENTER||o==g.SPACEBAR)&&r._isMultipleSelection()){r._keyboardToggleSelection(e);var m=ye(v(r._cell[0]).find("a"));r._class(M,m)}}else e.shiftKey?(t!==w||n)&&(n||l.setDate(p,t),oe(p,c,d)||(p=ae(p,a.min,a.max)),f(p)&&(p=r._nextNavigatable(p,t)),c=fe(c.getFullYear(),c.getMonth(),c.getDate()),r._isMultipleSelection()?r._keyboardRangeSelection(e,p):r._focus(p)):(o==g.ENTER||o==g.SPACEBAR?("month"==l.name&&r._isMultipleSelection()?(r.value(ye(v(r._cell.find("a")))),r.selectable._lastActive=v(r._cell[0]),r.trigger(D)):r._click(v(r._cell[0].firstChild)),i=!0):o==g.PAGEUP?(i=!0,r.navigateToPast()):o==g.PAGEDOWN&&(i=!0,r.navigateToFuture()),(t||n)&&(n||l.setDate(p,t),oe(p,c=fe(c.getFullYear(),c.getMonth(),c.getDate()),d)||(p=ae(p,a.min,a.max)),f(p)&&(p=r._nextNavigatable(p,t)),r._isMultipleSelection()?r._dateInView(p)?(r._current=p,r._class(M,p)):r.navigate(p):r._focus(p)));return i&&e.preventDefault(),r._current},_keyboardRangeSelection:function(e,t){var i,n,s=this;if(!s._dateInView(t))return s._selectDates=[],n=ce(i=s.selectable._lastActive?ye(s.selectable._lastActive.find("a")):t,new Date(+t)),de(s._selectDates,n,i,s.options.disableDates),s.navigate(t),s._current=t,s.selectable._lastActive=s.selectable._lastActive||s._cellByDate(s._view.toDateString(t),L),void s.trigger(D);s.selectable.options.filter=1<s.wrapper.find("table").length&&+t>+s._current?"table.k-month:eq(1) "+L:"table.k-month:eq(0) "+L,s._class(M,t),s._current=t,s._rangeSelection(s._cellByDate(s._view.toDateString(t),L),t),s.trigger(D),s.selectable.options.filter="table.k-month:eq(0) "+L},_keyboardToggleSelection:function(e){var t=this;e.currentTarget=t._cell[0],t.selectable._lastActive=v(t._cell[0]),v(t._cell[0]).hasClass(R)?(t.selectable._unselect(v(t._cell[0])),t.selectable.trigger(D,{event:e})):t.selectable.value(v(t._cell[0]),{event:e})},_nextNavigatable:function(e,t){var i=!0,n=this._view,s=this.options.min,r=this.options.max,a=this.options.disableDates,o=new Date(e.getTime());for(n.setDate(o,-t);i;){if(n.setDate(e,t),!oe(e,s,r)){e=o;break}i=a(e)}return e},_animate:function(e){var t=this,i=e.from,n=e.to,s=t._active,r=t.element.children(".k-calendar-view");i?i.parent().data("animating")?(i.off(h),i.parent().kendoStop(!0,!0).remove(),i.remove(),r.append(n),t._focusView(s)):!i.is(":visible")||!1===t.options.animation||e.replace?(n.insertAfter(i),i.off(h).remove(),t._focusView(s)):t[e.vertical?"_vertical":"_horizontal"](i,n,e.future):(r.append(n),t._bindTable(n))},_horizontal:function(e,t,i){var n=this,s=n._active,r=n.options.animation.horizontal,a=r.effects,o=p(e);a&&-1!=a.indexOf(m)&&(e.add(t).css({width:o}),e.wrap("<div/>"),n._focusView(s,e),e.parent().css({position:"relative",width:2*o,float:"left","margin-left":i?0:-o}),t[i?"insertAfter":"insertBefore"](e),J(r,{effects:m+":"+(i?"right":"left"),complete:function(){e.off(h).remove(),n._oldTable=null,t.unwrap(),n._focusView(s)}}),e.parent().kendoStop(!0,!0).kendoAnimate(r))},_vertical:function(e,t){var i,n,s=this,r=s.options.animation.vertical,a=r.effects,o=s._active;a&&-1!=a.indexOf("zoom")&&(t.insertBefore(e),e.css({position:"absolute",width:t.width()}),c&&(n=(n=(i=s._cellByDate(s._view.toDateString(s._current))).position()).left+parseInt(i.width()/2,10)+"px "+(n.top+parseInt(i.height()/2,10))+"px",t.css(c,n)),e.kendoStop(!0,!0).kendoAnimate({effects:"fadeOut",duration:600,complete:function(){e.off(h).remove(),s._oldTable=null,s._focusView(o)}}),t.kendoStop(!0,!0).kendoAnimate(r))},_cellByDate:function(e,t){return this._table.find(t||"td:not(."+H+")").filter(function(){return v(this.firstChild).attr(C.attr(E))===e})},_class:function(e,t){var i,n=this,s=n._cellID,r=n._cell,a=n._view.toDateString(t);r&&r.removeAttr($).removeAttr(K).removeAttr("id"),t&&"month"==n._view.name&&(i=n.options.disableDates(t)),n._cellsBySelector(n._isMultipleSelection()?V:"td:not(."+H+")").removeClass(e),r=n._cellByDate(a,"multiple"==n.options.selectable?V:"td:not(."+H+")").attr($,!0),(e===M&&!n._active&&!1!==n.options.focusOnNav||i)&&(e=""),r.addClass(e),r[0]&&(n._cell=r),s&&(r.attr("id",s),n._table.removeAttr("aria-activedescendant").attr("aria-activedescendant",s))},_bindTable:function(e){e.on(N,this._addClassProxy).on(B,this._removeClassProxy)},_click:function(e){var t=this,i=t.options,n=new Date(+t._current),s=ye(e);T(s,0),"month"==t._view.name&&t.options.disableDates(s)&&(s=t._value),t._view.setDate(n,s),t.navigateDown(ae(n,i.min,i.max))},_focus:function(e){var t=this;0!==t._view.compare(e,t._current)?t.navigate(e):(t._current=e,t._class(M,e))},_focusView:function(e,t){e&&this.focus(t)},_viewWrapper:function(){var e=this.element,t=e.children(".k-calendar-view");t[0]||(t=v("<div class='k-calendar-view' />").insertAfter(e.find(".k-header")))},_footer:function(e){var t=this,i=re(),n=t.element,s=n.find(".k-footer");if(!e)return t._toggle(!1),void s.hide();s[0]||(s=v('<div class="k-footer"><a href="#" class="k-link k-nav-today"></a></div>').appendTo(n)),t._today=s.show().find(".k-link").html(e(i)).attr("title",C.toString(i,"D",t.options.culture)),t._toggle()},_header:function(){var e,t=this,i=t.element;i.find(".k-header")[0]||i.html('<div class="k-header"><a href="#" role="button" class="k-link k-nav-prev" '+K+'="Previous"><span class="k-icon k-i-arrow-60-left"></span></a><a href="#" role="button" aria-live="assertive" aria-atomic="true" class="k-link k-nav-fast"></a><a href="#" role="button" class="k-link k-nav-next" '+K+'="Next"><span class="k-icon k-i-arrow-60-right"></span></a></div>'),e=i.find(".k-link").on(U+" "+q+" "+N+" "+B,pe).click(!1),t._title=e.eq(1).on(f,function(){t._active=!1!==t.options.focusOnNav,t.navigateUp()}),t[j]=e.eq(0).on(f,function(){t._active=!1!==t.options.focusOnNav,t.navigateToPast()}),t[G]=e.eq(2).on(f,function(){t._active=!1!==t.options.focusOnNav,t.navigateToFuture()})},_navigate:function(e,t){var i=this,n=i._index+1,s=new X(+i._current);i._isMultipleSelection()&&(s=ye(i._table.find("td:not(.k-other-month):not(.k-out-of-range)").has(".k-link").first().find("a")),i._current=new Date(+s)),(e=i[e]).hasClass(A)||(3<n?s.setFullYear(s.getFullYear()+100*t):te.views[n].setDate(s,t),i.navigate(s))},_option:function(e,t){var i,n,s,r=this,a=r.options,o=r._value||r._current;if(t===w)return a[e];(t=l(t,a.format,a.culture))&&(a[e]=new X(+t),((i="min"===e?o<t:t<o)||(s=t,!!(n=o)&&n.getFullYear()===s.getFullYear()&&n.getMonth()===s.getMonth()))&&(i&&(r._value=null),r._changeView=!0),r._changeView||(r._changeView=!(!a.month.content&&!a.month.empty)),r.navigate(r._value),r._toggle())},_toggle:function(e){var t=this,i=t.options,n=t.options.disableDates(re()),s=t._today;e===w&&(e=oe(re(),i.min,i.max)),s&&(s.off(f),e&&!n?s.addClass(z).removeClass(A).on(f,Q(t._todayClick,t)):s.removeClass(z).addClass(A).on(f,he))},_todayClick:function(e){var t=this,i=Z[t.options.depth],n=t.options.disableDates,s=re();e.preventDefault(),n(s)||(0===t._view.compare(t._current,s)&&t._index==i&&(t._changeView=!1),t._isMultipleSelection()&&(t._selectDates=[s],t.selectable._lastActive=null),t._value=s,t.navigate(s,i),t.trigger(D))},_templates:function(){var e=this.options,t=e.footer,i=e.month,n=i.content,s=i.weekNumber,r=i.empty,a='#= kendo.toString(data,"D","'+e.culture+'") #';this.month={content:o('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link#=data.linkClass#" href="#=data.url#" '+C.attr(E)+'="#=data.dateString#" title="#=data.title#">'+(n||"#=data.value#")+"</a></td>",{useWithBlock:!!n}),empty:o('<td role="gridcell">'+(r||"&nbsp;")+"</td>",{useWithBlock:!!r}),weekNumber:o('<td class="k-alt">'+(s||"#= data.weekNumber #")+"</td>",{useWithBlock:!!s})},t&&!0!==t&&(a=t),this.footer=!1!==t?o(a,{useWithBlock:!1}):null}});t.plugin(ee);var te={firstDayOfMonth:function(e){return fe(e.getFullYear(),e.getMonth(),1)},firstVisibleDay:function(e,t){var i=(t=t||C.culture().calendar).firstDay,n=new X(e.getFullYear(),e.getMonth(),1,e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());for(n.setFullYear(e.getFullYear());n.getDay()!=i;)te.setTime(n,-864e5);return n},setTime:function(e,t){var i=e.getTimezoneOffset(),n=new X(e.getTime()+t),s=n.getTimezoneOffset()-i;e.setTime(n.getTime()+6e4*s)},views:[{name:_,title:function(e,t,i,n){return me(n).months.names[e.getMonth()]+" "+e.getFullYear()},content:function(e){var t=0,i=e.min,n=e.max,s=e.date,o=e.dates,l=e.format,u=e.culture,c=e.url,r=e.showHeader,a=e.otherMonth,d=e.isWeekColumnVisible,p=c&&o[0],h=me(u),f=h.firstDay,m=h.days,g=le(m.names,f),_=le(m.namesShort,f),v=te.firstVisibleDay(s,h),w=this.first(s),b=this.last(s),y=this.toDateString,k=re(),x='<table tabindex="0" role="grid" class="k-content" cellspacing="0" data-start="'+y(v)+'">';for(x+=r?'<caption class="k-month-header">'+this.title(s,i,n,u)+'</caption><thead><tr role="row">':'<thead><tr role="row">',d&&(x+='<th scope="col" class="k-alt">'+e.messages.weekColumnHeader+"</th>");t<7;t++)x+='<th scope="col" title="'+g[t]+'">'+_[t]+"</th>";return T(k,0),k=+k,ne({cells:42,perRow:7,html:x+='</tr></thead><tbody><tr role="row">',start:v,isWeekColumnVisible:d,weekNumber:e.weekNumber,min:fe(i.getFullYear(),i.getMonth(),i.getDate()),max:fe(n.getFullYear(),n.getMonth(),n.getDate()),otherMonth:a,content:e.content,lastDayOfMonth:b,empty:e.empty,setter:this.setDate,disableDates:e.disableDates,build:function(e,t,i){var n=[],s=e.getDay(),r="",a="#";return(e<w||b<e)&&n.push(H),i(e)&&n.push(A),+e===k&&n.push("k-today"),0!==s&&6!==s||n.push("k-weekend"),p&&function(e,t){for(var i=0,n=t.length;i<n;i++)if(e===+t[i])return!0;return!1}(+e,o)&&(a=c.replace("{0}",C.toString(e,l,u)),r=" k-action-link"),{date:e,dates:o,ns:C.ns,title:C.toString(e,"D",u),value:e.getDate(),dateString:y(e),cssClass:n[0]?' class="'+n.join(" ")+'"':"",linkClass:r,url:a}},weekNumberBuild:function(e){return{weekNumber:S(e,C.culture().calendar.firstDay),currentDate:e}}})},first:function(e){return te.firstDayOfMonth(e)},last:function(e){var t=fe(e.getFullYear(),e.getMonth()+1,0),i=te.firstDayOfMonth(e),n=Math.abs(t.getTimezoneOffset()-i.getTimezoneOffset());return n&&t.setHours(i.getHours()+n/60),t},compare:function(e,t){var i=e.getMonth(),n=e.getFullYear(),s=t.getMonth(),r=t.getFullYear();return r<n?1:n<r?-1:i==s?0:s<i?1:-1},setDate:function(e,t){var i=e.getHours();t instanceof X?e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()):te.setTime(e,864e5*t),T(e,i)},toDateString:function(e){return e.getFullYear()+"/"+e.getMonth()+"/"+e.getDate()}},{name:"year",title:function(e){return e.getFullYear()},content:function(e){var t=me(e.culture).months.namesAbbr,i=this.toDateString,n=e.min,s=e.max,r="";return e.showHeader&&(r+='<table tabindex="0" role="grid" class="k-content k-meta-view" cellspacing="0"><caption class="k-meta-header">',r+=this.title(e.date),r+='</caption><tbody><tr role="row">'),ne({min:fe(n.getFullYear(),n.getMonth(),1),max:fe(s.getFullYear(),s.getMonth(),1),start:fe(e.date.getFullYear(),0,1),html:r,setter:this.setDate,build:function(e){return{value:t[e.getMonth()],ns:C.ns,dateString:i(e),cssClass:""}}})},first:function(e){return fe(e.getFullYear(),0,e.getDate())},last:function(e){return fe(e.getFullYear(),11,e.getDate())},compare:function(e,t){return se(e,t)},setDate:function(e,t){var i,n=e.getHours();t instanceof X?(i=t.getMonth(),e.setFullYear(t.getFullYear(),i,e.getDate()),i!==e.getMonth()&&e.setDate(0)):(i=e.getMonth()+t,e.setMonth(i),11<i&&(i-=12),0<i&&e.getMonth()!=i&&e.setDate(0)),T(e,n)},toDateString:function(e){return e.getFullYear()+"/"+e.getMonth()+"/1"}},{name:"decade",title:function(e,t,i){return ie(e,t,i,10)},content:function(e){var t=e.date.getFullYear(),i=this.toDateString,n="";return e.showHeader&&(n+='<table tabindex="0" role="grid" class="k-content k-meta-view" cellspacing="0"><caption class="k-meta-header">',n+=this.title(e.date,e.min,e.max),n+='</caption><tbody><tr role="row">'),ne({start:fe(t-t%10-1,0,1),min:fe(e.min.getFullYear(),0,1),max:fe(e.max.getFullYear(),0,1),otherMonth:e.otherMonth,html:n,setter:this.setDate,build:function(e,t){return{value:e.getFullYear(),ns:C.ns,dateString:i(e),cssClass:0===t||11==t?P:""}}})},first:function(e){var t=e.getFullYear();return fe(t-t%10,e.getMonth(),e.getDate())},last:function(e){var t=e.getFullYear();return fe(t-t%10+9,e.getMonth(),e.getDate())},compare:function(e,t){return se(e,t,10)},setDate:function(e,t){ue(e,t,1)},toDateString:function(e){return e.getFullYear()+"/0/1"}},{name:I,title:function(e,t,i){return ie(e,t,i,100)},content:function(e){var t=e.date.getFullYear(),s=e.min.getFullYear(),r=e.max.getFullYear(),a=this.toDateString,i=s,n=r,o="";return(n-=n%10)-(i-=i%10)<10&&(n=i+9),e.showHeader&&(o+='<table tabindex="0" role="grid" class="k-content k-meta-view" cellspacing="0"><caption class="k-meta-header">',o+=this.title(e.date,e.min,e.max),o+='</caption><tbody><tr role="row">'),ne({start:fe(t-t%100-10,0,1),min:fe(i,0,1),max:fe(n,0,1),otherMonth:e.otherMonth,html:o,setter:this.setDate,build:function(e,t){var i=e.getFullYear(),n=i+9;return i<s&&(i=s),r<n&&(n=r),{ns:C.ns,value:i+" - "+n,dateString:a(e),cssClass:0===t||11==t?P:""}}})},first:function(e){var t=e.getFullYear();return fe(t-t%100,e.getMonth(),e.getDate())},last:function(e){var t=e.getFullYear();return fe(t-t%100+99,e.getMonth(),e.getDate())},compare:function(e,t){return se(e,t,100)},setDate:function(e,t){ue(e,t,10)},toDateString:function(e){var t=e.getFullYear();return t-t%10+"/0/1"}}]};function ie(e,t,i,n){var s,r=e.getFullYear(),a=t.getFullYear(),o=i.getFullYear();return s=(r-=r%n)+(n-1),r<a&&(r=a),o<s&&(s=o),r+"-"+s}function ne(e){var t,i=0,n=e.min,s=e.max,r=e.start,a=e.setter,o=e.build,l=e.weekNumberBuild,u=e.cells||12,c=e.isWeekColumnVisible,d=e.perRow||4,p=e.otherMonth,h=e.lastDayOfMonth,f=e.weekNumber||x,m=e.content||b,g=e.empty||y,_=e.otherMonthCellTemplate||k,v=e.html||'<table tabindex="0" role="grid" class="k-content k-meta-view" cellspacing="0"><tbody><tr role="row">';for(c&&(v+=f(l(r)));i<u;i++)0<i&&i%d==0&&(v+='</tr><tr role="row">',c&&(v+=f(p||+r<=+h?l(r):{weekNumber:"&nbsp;"}))),r=fe(r.getFullYear(),r.getMonth(),r.getDate()),T(r,0),v+=-1===(t=o(r,i,e.disableDates)).cssClass.indexOf(H)||p?oe(r,n,s)?m(t):g(t):_(t),a(r,1);return v+"</tr></tbody></table>"}function se(e,t,i){var n=e.getFullYear(),s=t.getFullYear(),r=s,a=0;return i&&(r=(s-=s%i)-s%i+i-1),r<n?a=1:n<s&&(a=-1),a}function re(){var e=new X;return new X(e.getFullYear(),e.getMonth(),e.getDate())}function ae(e,t,i){var n=re();return e&&(n=new X(+e)),n<t?n=new X(+t):i<n&&(n=new X(+i)),n}function oe(e,t,i){return+t<=+e&&+e<=+i}function le(e,t){return e.slice(t).concat(e.slice(0,t))}function ue(e,t,i){t=t instanceof X?t.getFullYear():e.getFullYear()+i*t,e.setFullYear(t)}function ce(e,t){if(+t<+e){var i=+e;te.views[0].setDate(e,t),te.views[0].setDate(t,new Date(i))}var n=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()),s=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate());return Math.ceil((+s-+n)/C.date.MS_PER_DAY)}function de(e,t,i,n){for(var s=0;s<=t;s++){var r=new Date(i.getTime());n(r=new Date(r.setDate(r.getDate()+s)))||e.push(r)}}function pe(e){v(this).hasClass("k-state-disabled")||v(this).toggleClass(O,-1<W.indexOf(e.type)||"focus"==e.type)}function he(e){e.preventDefault()}function fe(e,t,i){var n=new X(e,t,i);return n.setFullYear(e,t,i),n}function me(e){return u(e).calendars.standard}function ge(e){var t=Z[e.start],i=Z[e.depth],n=u(e.culture);e.format=a(e.format||n.calendars.standard.patterns.d),isNaN(t)&&(t=0,e.start=_),(i===w||t<i)&&(e.depth=_),null===e.dates&&(e.dates=[])}function _e(e){d&&e.find("*").attr("unselectable","on")}function ve(e,t){e.addClass("k-"+t)}function we(e){return C.isFunction(e)?e:v.isArray(e)?function(e){var t,i=[],n=["su","mo","tu","we","th","fr","sa"],s="if (found) { return true } else {return false}";if(e[0]instanceof X)i=function(e){for(var t=[],i=0;i<e.length;i++)t.push(e[i].setHours(0,0,0,0));return t}(e),t="var found = date && window.kendo.jQuery.inArray(date.setHours(0, 0, 0, 0),["+i+"]) > -1;"+s;else{for(var r=0;r<e.length;r++){var a=e[r].slice(0,2).toLowerCase(),o=v.inArray(a,n);-1<o&&i.push(o)}t="var found = date && window.kendo.jQuery.inArray(date.getDay(),["+i+"]) > -1;"+s}return new Function("date",t)}(e):v.noop}function be(e,t){return e instanceof Date&&t instanceof Date&&(e=e.getTime(),t=t.getTime()),e===t}function ye(e){var t=v(e).attr(C.attr(E)).split("/");return t=fe(t[0],t[1],t[2])}te.isEqualDatePart=function(e,t){return!!e&&e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()},te.isEqualDate=be,te.makeUnselectable=_e,te.restrictValue=ae,te.isInRange=oe,te.addClassToViewContainer=ve,te.normalize=ge,te.viewsEnum=Z,te.disabled=we,te.toDateObject=ye,te.getToday=re,te.createDate=fe,C.calendar=te}(window.kendo.jQuery),window.kendo}),("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()})("kendo.popup",["kendo.core"],function(){return function(E,e){var O=window.kendo,t=O.ui,s=t.Widget,i=O.Class,A=O.support,M=O.getOffset,H=O._outerWidth,P=O._outerHeight,c="open",o="close",n="deactivate",r="activate",v="center",w="right",d="top",b="bottom",z="absolute",p="hidden",h="body",V="location",L="position",a="visible",f="effects",l="k-state-active",u="k-state-border",m=/k-state-border-(\w+)/,g=".k-picker-wrap, .k-dropdown-wrap, .k-link",_=E(document.documentElement),y=E.proxy,k=E(window),x=A.transitions.css+"transform",R=E.extend,C=".kendoPopup",T=["font-size","font-family","font-stretch","font-style","font-weight","line-height"];function S(e,t){return!(!e||!t)&&(e===t||E.contains(e,t))}var I=s.extend({init:function(e,t){var i,n=this;(t=t||{}).isRtl&&(t.origin=t.origin||b+" "+w,t.position=t.position||"top "+w),s.fn.init.call(n,e,t),e=n.element,t=n.options,n.collisions=t.collision?t.collision.split(" "):[],n.downEvent=O.applyEventMap("down",O.guid()),1===n.collisions.length&&n.collisions.push(n.collisions[0]),i=E(n.options.anchor).closest(".k-popup,.k-group").filter(":not([class^=km-])"),t.appendTo=E(E(t.appendTo)[0]||i[0]||document.body),n.element.hide().addClass("k-popup k-group k-reset").toggleClass("k-rtl",!!t.isRtl).css({position:z}).appendTo(t.appendTo).attr("aria-hidden",!0).on("mouseenter"+C,function(){n._hovered=!0}).on("wheel"+C,function(e){var t=E(e.target).find(".k-list"),i=t.parent();t.length&&t.is(":visible")&&(0===i.scrollTop()&&e.originalEvent.deltaY<0||i.scrollTop()===i.prop("scrollHeight")-i.prop("offsetHeight")&&0<e.originalEvent.deltaY)&&e.preventDefault()}).on("mouseleave"+C,function(){n._hovered=!1}),n.wrapper=E(),!1===t.animation&&(t.animation={open:{effects:{}},close:{hide:!0,effects:{}}}),R(t.animation.open,{complete:function(){n.wrapper.css({overflow:a}),n._activated=!0,n._trigger(r)}}),R(t.animation.close,{complete:function(){n._animationClose()}}),n._mousedownProxy=function(e){n._mousedown(e)},A.mobileOS.android?n._resizeProxy=function(e){setTimeout(function(){n._resize(e)},600)}:n._resizeProxy=function(e){n._resize(e)},t.toggleTarget&&E(t.toggleTarget).on(t.toggleEvent+C,E.proxy(n.toggle,n))},events:[c,r,o,n],options:{name:"Popup",toggleEvent:"click",origin:b+" left",position:"top left",anchor:h,appendTo:null,collision:"flip fit",viewport:window,copyAnchorStyles:!0,autosize:!1,modal:!1,adjustSize:{width:0,height:0},animation:{open:{effects:"slideIn:down",transition:!0,duration:200},close:{duration:100,hide:!0}}},_animationClose:function(){var e=this,t=e.wrapper.data(V);e.wrapper.hide(),t&&e.wrapper.css(t),e.options.anchor!=h&&e._hideDirClass(),e._closing=!1,e._trigger(n)},destroy:function(){var e,t=this,i=t.options,n=t.element.off(C);s.fn.destroy.call(t),i.toggleTarget&&E(i.toggleTarget).off(C),i.modal||(_.unbind(t.downEvent,t._mousedownProxy),t._toggleResize(!1)),O.destroy(t.element.children()),n.removeData(),i.appendTo[0]===document.body&&((e=n.parent(".k-animation-container"))[0]?e.remove():n.remove())},open:function(e,t){var i,n,s=this,r={isFixed:!isNaN(parseInt(t,10)),x:e,y:t},a=s.element,o=s.options,l=E(o.anchor),u=a[0]&&a.hasClass("km-widget");if(!s.visible()){if(o.copyAnchorStyles&&(u&&"font-size"==T[0]&&T.shift(),a.css(O.getComputedStyles(l[0],T))),a.data("animating")||s._trigger(c))return;s._activated=!1,o.modal||(_.unbind(s.downEvent,s._mousedownProxy).bind(s.downEvent,s._mousedownProxy),s._toggleResize(!1),s._toggleResize(!0)),s.wrapper=n=O.wrap(a,o.autosize).css({overflow:p,display:"block",position:z}).attr("aria-hidden",!1),A.mobileOS.android&&n.css(x,"translatez(0)"),n.css(L),E(o.appendTo)[0]==document.body&&n.css(d,"-10000px"),s.flipped=s._position(r),i=s._openAnimation(),o.anchor!=h&&s._showDirClass(i),a.data(f,i.effects).kendoStop(!0).kendoAnimate(i).attr("aria-hidden",!1)}},_location:function(e){var t,i=this.element,n=this.options,s=E(n.anchor),r=i[0]&&i.hasClass("km-widget");n.copyAnchorStyles&&(r&&"font-size"==T[0]&&T.shift(),i.css(O.getComputedStyles(s[0],T))),this.wrapper=t=O.wrap(i,n.autosize).css({overflow:p,display:"block",position:z}),A.mobileOS.android&&t.css(x,"translatez(0)"),t.css(L),E(n.appendTo)[0]==document.body&&t.css(d,"-10000px"),this._position(e||{});var a=t.offset();return{width:O._outerWidth(t),height:O._outerHeight(t),left:a.left,top:a.top}},_openAnimation:function(){var e=R(!0,{},this.options.animation.open);return e.effects=O.parseEffects(e.effects,this.flipped),e},_hideDirClass:function(){var e=E(this.options.anchor),t=((e.attr("class")||"").match(m)||["","down"])[1],i=u+"-"+t;e.removeClass(i).children(g).removeClass(l).removeClass(i),this.element.removeClass(u+"-"+O.directions[t].reverse)},_showDirClass:function(e){var t=e.effects.slideIn?e.effects.slideIn.direction:"down",i=u+"-"+t;E(this.options.anchor).addClass(i).children(g).addClass(l).addClass(i),this.element.addClass(u+"-"+O.directions[t].reverse)},position:function(){this.visible()&&(this.flipped=this._position())},toggle:function(){this[this.visible()?o:c]()},visible:function(){return this.element.is(":"+a)},close:function(t){var e,i,n,s,r=this,a=r.options;if(r.visible()){if(e=r.wrapper[0]?r.wrapper:O.wrap(r.element).hide(),r._toggleResize(!1),r._closing||r._trigger(o))return void r._toggleResize(!0);r.element.find(".k-popup").each(function(){var e=E(this).data("kendoPopup");e&&e.close(t)}),_.unbind(r.downEvent,r._mousedownProxy),t?i={hide:!0,effects:{}}:(i=R(!0,{},a.animation.close),n=r.element.data(f),!(s=i.effects)&&!O.size(s)&&n&&O.size(n)&&(i.effects=n,i.reverse=!0),r._closing=!0),r.element.kendoStop(!0).attr("aria-hidden",!0),e.css({overflow:p}).attr("aria-hidden",!0),r.element.kendoAnimate(i),t&&r._animationClose()}},_trigger:function(e){return this.trigger(e,{type:e})},_resize:function(e){var t=this;-1!==A.resize.indexOf(e.type)?(clearTimeout(t._resizeTimeout),t._resizeTimeout=setTimeout(function(){t._position(),t._resizeTimeout=null},50)):(!t._hovered||t._activated&&t.element.hasClass("k-list-container"))&&t.close()},_toggleResize:function(e){var t=e?"on":"off",i=A.resize;A.mobileOS.ios||A.mobileOS.android||(i+=" scroll"),this._scrollableParents()[t]("scroll",this._resizeProxy),k[t](i,this._resizeProxy)},_mousedown:function(e){var t=this.element[0],i=this.options,n=E(i.anchor)[0],s=i.toggleTarget,r=O.eventTarget(e),a=E(r).closest(".k-popup"),o=a.parent().parent(".km-shim").length;a=a[0],!o&&a&&a!==this.element[0]||"popover"!==E(e.target).closest("a").data("rel")&&(S(t,r)||S(n,r)||s&&S(E(s)[0],r)||this.close())},_fit:function(e,t,i){var n=0;return i<e+t&&(n=i-(e+t)),e<0&&(n=-e),n},_flip:function(e,t,i,n,s,r,a){var o=0;return a=a||t,r!==s&&r!==v&&s!==v&&(n<e+a&&(o+=-(i+t)),e+o<0&&(o+=i+t)),o},_scrollableParents:function(){return E(this.options.anchor).parentsUntil("body").filter(function(e,t){return O.isScrollable(t)})},_position:function(e){var t,i,n,s,r,a,o,l=this,u=l.element,c=l.wrapper,d=l.options,p=E(d.viewport),h=A.zoomLevel(),f=!!(p[0]==window&&window.innerWidth&&h<=1.02),m=E(d.anchor),g=d.origin.toLowerCase().split(" "),_=d.position.toLowerCase().split(" "),v=l.collisions,w=10002,b=0,y=document.documentElement;if(r=d.viewport===window?{top:window.pageYOffset||document.documentElement.scrollTop||0,left:window.pageXOffset||document.documentElement.scrollLeft||0}:p.offset(),o=f?(a=window.innerWidth,window.innerHeight):(a=p.width(),p.height()),f&&0<y.scrollHeight-y.clientHeight&&(a-=(d.isRtl?-1:1)*O.support.scrollbar()),(t=m.parents().filter(c.siblings()))[0])if(n=Math.max(Number(t.css("zIndex")),0))w=n+10;else for(s=(i=m.parentsUntil(t)).length;b<s;b++)(n=Number(E(i[b]).css("zIndex")))&&w<n&&(w=n+10);c.css("zIndex",w),e&&e.isFixed?c.css({left:e.x,top:e.y}):c.css(l._align(g,_));var k=M(c,L,m[0]===c.offsetParent()[0]),x=M(c);m.offsetParent().parent(".k-animation-container,.k-popup,.k-group").length&&(k=M(c,L,!0),x=M(c)),x.top-=r.top,x.left-=r.left,l.wrapper.data(V)||c.data(V,R({},k));var C=R({},x),T=R({},k),S=d.adjustSize;"fit"===v[0]&&(T.top+=l._fit(C.top,P(c)+S.height,o/h)),"fit"===v[1]&&(T.left+=l._fit(C.left,H(c)+S.width,a/h));var I=R({},T),D=P(u),F=P(c);return!c.height()&&D&&(F+=D),"flip"===v[0]&&(T.top+=l._flip(C.top,D,P(m),o/h,g[0],_[0],F)),"flip"===v[1]&&(T.left+=l._flip(C.left,H(u),H(m),a/h,g[1],_[1],H(c))),u.css(L,z),c.css(T),T.left!=I.left||T.top!=I.top},_align:function(e,t){var i,n=this.wrapper,s=E(this.options.anchor),r=e[0],a=e[1],o=t[0],l=t[1],u=M(s),c=E(this.options.appendTo),d=H(n),p=P(n)||P(n.children().first()),h=H(s),f=P(s),m=u.top,g=u.left,_=Math.round;return c[0]!=document.body&&(m-=(i=M(c)).top,g-=i.left),r===b&&(m+=f),r===v&&(m+=_(f/2)),o===b&&(m-=p),o===v&&(m-=_(p/2)),a===w&&(g+=h),a===v&&(g+=_(h/2)),l===w&&(g-=d),l===v&&(g-=_(d/2)),{top:m,left:g}}});t.plugin(I);var D=O.support.stableSort,F="kendoTabKeyTrap",B=i.extend({init:function(e){this.element=E(e),this.element.autoApplyNS(F)},trap:function(){this.element.on("keydown",y(this._keepInTrap,this))},removeTrap:function(){this.element.kendoDestroy(F)},destroy:function(){this.element.kendoDestroy(F),this.element=void 0},shouldTrap:function(){return!0},_keepInTrap:function(e){if(9===e.which&&this.shouldTrap()&&!e.isDefaultPrevented()){var t=this._focusableElements(),i=this._sortFocusableElements(t),n=this._nextFocusable(e,i);this._focus(n),e.preventDefault()}},_focusableElements:function(){var e=this.element.find("a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex], *[contenteditable]").filter(function(e,t){return 0<=t.tabIndex&&E(t).is(":visible")&&!E(t).is("[disabled]")});return this.element.is("[tabindex]")&&e.push(this.element[0]),e},_sortFocusableElements:function(e){var t;if(D)t=e.sort(function(e,t){return e.tabIndex-t.tabIndex});else{var i="__k_index";e.each(function(e,t){t.setAttribute(i,e)}),t=e.sort(function(e,t){return e.tabIndex===t.tabIndex?parseInt(e.getAttribute(i),10)-parseInt(t.getAttribute(i),10):e.tabIndex-t.tabIndex}),e.removeAttr(i)}return t},_nextFocusable:function(e,t){var i=t.length,n=t.index(e.target);return t.get((n+(e.shiftKey?-1:1))%i)},_focus:function(e){"IFRAME"!=e.nodeName?(e.focus(),"INPUT"==e.nodeName&&e.setSelectionRange&&this._haveSelectionRange(e)&&e.setSelectionRange(0,e.value.length)):e.contentWindow.document.body.focus()},_haveSelectionRange:function(e){var t=e.type.toLowerCase();return"text"===t||"search"===t||"url"===t||"tel"===t||"password"===t}});t.Popup.TabKeyTrap=B}(window.kendo.jQuery),window.kendo}),("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()})("kendo.datepicker",["kendo.calendar","kendo.popup","kendo.dateinput"],function(){return function(a,n){var u=window.kendo,r=u.ui,o=r.Widget,c=u.parseDate,l=u.keys,i=u.support,e=u.template,s=u._activeElement,d="<div />",p="<span />",h=".kendoDatePicker",f="click"+h,m=i.mouseAndTouchPresent?u.applyEventMap("up",h.slice(1)):f,g="open",t="close",_="change",v="disabled",w="readonly",b="k-state-default",y="k-state-focused",k="k-state-selected",x="k-state-disabled",C="mousedown"+h,T="aria-disabled",S="aria-expanded",I="aria-hidden",D=u.calendar,F=D.isInRange,E=D.restrictValue,O=D.isEqualDatePart,A=a.extend,M=a.proxy,H=Date;function P(e){var t=e.parseFormats,i=e.format;D.normalize(e),(t=a.isArray(t)?t:[t]).length||t.push("yyyy-MM-dd"),-1===a.inArray(i,t)&&t.splice(0,0,e.format),e.parseFormats=t}function z(e){e.preventDefault()}var V=function(e){var t,i=this,n=document.body,s=a(d).attr(I,"true").addClass("k-calendar-container").appendTo(n);i.options=e=e||{},(t=e.id)&&(t+="_dateview",s.attr("id",t),i._dateViewID=t),i.popup=new r.Popup(s,A(e.popup,e,{name:"Popup",isRtl:u.support.isRtl(e.anchor)})),i.div=s,i.value(e.value)};V.prototype={_calendar:function(){var e,t=this,i=t.calendar,n=t.options;i||(e=a(d).attr("id",u.guid()).appendTo(t.popup.element).on(C,z).on(f,"td:has(.k-link)",M(t._click,t)),t.calendar=i=new r.Calendar(e),t._setOptions(n),u.calendar.makeUnselectable(i.element),i.navigate(t._value||t._current,n.start),t.value(t._value))},_setOptions:function(e){this.calendar.setOptions({focusOnNav:!1,change:e.change,culture:e.culture,dates:e.dates,depth:e.depth,footer:e.footer,format:e.format,max:e.max,min:e.min,month:e.month,weekNumber:e.weekNumber,start:e.start,disableDates:e.disableDates})},setOptions:function(e){var t=this.options,i=e.disableDates;i&&(e.disableDates=D.disabled(i)),this.options=A(t,e,{change:t.change,close:t.close,open:t.open}),this.calendar&&this._setOptions(this.options)},destroy:function(){this.popup.destroy()},open:function(){var e,t=this;t._calendar(),e=t.popup._hovered,t.popup._hovered=!0,t.popup.open(),setTimeout(function(){t.popup._hovered=e},1)},close:function(){this.popup.close()},min:function(e){this._option("min",e)},max:function(e){this._option("max",e)},toggle:function(){this[this.popup.visible()?t:g]()},move:function(e){var t=this,i=e.keyCode,n=t.calendar,s=e.ctrlKey&&i==l.DOWN||i==l.ENTER,r=!1;if(e.altKey)i==l.DOWN?(t.open(),e.preventDefault(),r=!0):i==l.UP&&(t.close(),e.preventDefault(),r=!0);else if(t.popup.visible()){if(i==l.ESC||s&&n._cell.hasClass(k))return t.close(),e.preventDefault(),!0;i!=l.SPACEBAR&&(t._current=n._move(e)),r=!0}return r},current:function(e){this._current=e,this.calendar._focus(e)},value:function(e){var t=this.calendar,i=this.options,n=i.disableDates;n&&n(e)&&(e=null),this._value=e,this._current=new H(+E(e,i.min,i.max)),t&&t.value(e)},_click:function(e){-1!==e.currentTarget.className.indexOf(k)&&(this.calendar.trigger("change"),this.close())},_option:function(e,t){var i=this.calendar;this.options[e]=t,i&&i[e](t)}},V.normalize=P,u.DateView=V;var L=o.extend({init:function(n,e){var s,r=this;o.fn.init.call(r,n,e),n=r.element,(e=r.options).disableDates=u.calendar.disabled(e.disableDates),e.min=c(n.attr("min"))||c(e.min),e.max=c(n.attr("max"))||c(e.max),P(e),r._initialOptions=A({},e),r._wrapper(),r.dateView=new V(A({},e,{id:n.attr("id"),anchor:r.wrapper,change:function(){r._change(this.value()),r.close()},close:function(e){r.trigger(t)?e.preventDefault():(n.attr(S,!1),s.attr(I,!0))},open:function(e){var t,i=r.options;r.trigger(g)?e.preventDefault():(r.element.val()!==r._oldText&&(t=c(n.val(),i.parseFormats,i.culture),r.dateView[t?"current":"value"](t)),n.attr(S,!0),s.attr(I,!1),r._updateARIA(t))}})),s=r.dateView.div,r._icon();try{n[0].setAttribute("type","text")}catch(e){n[0].type="text"}n.addClass("k-input").attr({role:"combobox","aria-expanded":!1,"aria-owns":r.dateView._dateViewID,autocomplete:"off"}),r._reset(),r._template(),n.is("[disabled]")||a(r.element).parents("fieldset").is(":disabled")?r.enable(!1):r.readonly(n.is("[readonly]")),r._createDateInput(e),r._old=r._update(e.value||r.element.val()),r._oldText=n.val(),u.notify(r)},events:[g,t,_],options:{name:"DatePicker",value:null,footer:"",format:"",culture:"",parseFormats:[],min:new Date(1900,0,1),max:new Date(2099,11,31),start:"month",depth:"month",animation:{},month:{},dates:[],disableDates:null,ARIATemplate:'Current focused date is #=kendo.toString(data.current, "D")#',dateInput:!1,weekNumber:!1},setOptions:function(e){var t=this,i=t._value;o.fn.setOptions.call(t,e),(e=t.options).min=c(e.min),e.max=c(e.max),P(e),t.dateView.setOptions(e),t._createDateInput(e),t._dateInput||t.element.val(u.toString(i,e.format,e.culture)),i&&t._updateARIA(i)},_editable:function(e){var t=this,i=t._dateIcon.off(h),n=t.element.off(h),s=t._inputWrapper.off(h),r=e.readonly,a=e.disable;r||a?(s.addClass(a?x:b).removeClass(a?b:x),n.attr(v,a).attr(w,r).attr(T,a)):(s.addClass(b).removeClass(x).on("mouseenter.kendoDatePicker mouseleave.kendoDatePicker",t._toggleHover),n.removeAttr(v).removeAttr(w).attr(T,!1).on("keydown"+h,M(t._keydown,t)).on("focusout"+h,M(t._blur,t)).on("focus"+h,function(){t._inputWrapper.addClass(y)}),i.on(m,M(t._click,t)).on(C,z))},readonly:function(e){this._editable({readonly:e===n||e,disable:!1})},enable:function(e){this._editable({readonly:!1,disable:!(e=e===n||e)})},destroy:function(){var e=this;o.fn.destroy.call(e),e.dateView.destroy(),e.element.off(h),e._dateIcon.off(h),e._inputWrapper.off(h),e._form&&e._form.off("reset",e._resetHandler)},open:function(){this.dateView.open()},close:function(){this.dateView.close()},min:function(e){return this._option("min",e)},max:function(e){return this._option("max",e)},value:function(e){var t=this;if(e===n)return t._value;t._old=t._update(e),null===t._old&&t.element.val(""),t._oldText=t.element.val()},_toggleHover:function(e){a(e.currentTarget).toggleClass("k-state-hover","mouseenter"===e.type)},_blur:function(){var e=this,t=e.element.val();e.close(),t!==e._oldText&&e._change(t),e._inputWrapper.removeClass(y)},_click:function(e){this.dateView.toggle(),this._focusElement(e.type)},_focusElement:function(e){var t=this.element;i.touch&&(!i.mouseAndTouchPresent||(e||"").match(/touch/i))||t[0]===s()||t.focus()},_change:function(e){var t,i=this,n=i.element.val();e=i._update(e);var s=(t=!u.calendar.isEqualDate(i._old,e))&&!i._typing,r=n!==i.element.val();(s||r)&&i.element.trigger(_),t&&(i._old=e,i._oldText=i.element.val(),i.trigger(_)),i._typing=!1},_keydown:function(e){var t=this,i=t.dateView,n=t.element.val(),s=!1;i.popup.visible()||e.keyCode!=l.ENTER||n===t._oldText?(s=i.move(e),t._updateARIA(i._current),s?t._dateInput&&e.stopImmediatePropagation&&e.stopImmediatePropagation():t._typing=!0):t._change(n)},_icon:function(){var e,t=this.element;(e=t.next("span.k-select"))[0]||(e=a('<span unselectable="on" class="k-select" aria-label="select"><span class="k-icon k-i-calendar"></span></span>').insertAfter(t)),this._dateIcon=e.attr({role:"button","aria-controls":this.dateView._dateViewID})},_option:function(e,t){var i=this.options;if(t===n)return i[e];(t=c(t,i.parseFormats,i.culture))&&(i[e]=new H(+t),this.dateView[e](t))},_update:function(e){var t,i=this,n=i.options,s=n.min,r=n.max,a=i._value,o=c(e,n.parseFormats,n.culture),l=null===o&&null===a||o instanceof Date&&a instanceof Date;return n.disableDates(o)&&(o=null,i._old||i.element.val()||(e=null)),+o==+a&&l?(t=u.toString(o,n.format,n.culture))!==e&&i.element.val(null===o?e:t):(null!==o&&O(o,s)?o=E(o,s,r):F(o,s,r)||(o=null),i._value=o,i.dateView.value(o),i._dateInput&&o?i._dateInput.value(o||e):i.element.val(u.toString(o||e,n.format,n.culture)),i._updateARIA(o)),o},_wrapper:function(){var e,t=this.element;(e=t.parents(".k-datepicker"))[0]||(e=(e=t.wrap(p).parent().addClass("k-picker-wrap k-state-default")).wrap(p).parent()),e[0].style.cssText=t[0].style.cssText,t.css({width:"100%",height:t[0].style.height}),this.wrapper=e.addClass("k-widget k-datepicker").addClass(t[0].className),this._inputWrapper=a(e[0].firstChild)},_reset:function(){var e=this,t=e.element,i=t.attr("form"),n=i?a("#"+i):t.closest("form");n[0]&&(e._resetHandler=function(){e.value(t[0].defaultValue),e.max(e._initialOptions.max),e.min(e._initialOptions.min)},e._form=n.on("reset",e._resetHandler))},_template:function(){this._ariaTemplate=e(this.options.ARIATemplate)},_createDateInput:function(e){this._dateInput&&(this._dateInput.destroy(),this._dateInput=null),e.dateInput&&(this._dateInput=new r.DateInput(this.element,{culture:e.culture,format:e.format,min:e.min,max:e.max}))},_updateARIA:function(e){var t,i=this.dateView.calendar;this.element.removeAttr("aria-activedescendant"),i&&((t=i._cell).attr("aria-label",this._ariaTemplate({current:e||i.current()})),this.element.attr("aria-activedescendant",t.attr("id")))}});r.plugin(L)}(window.kendo.jQuery),window.kendo}),("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()})("kendo.timepicker",["kendo.popup","kendo.dateinput"],function(){return function(l,n){var F=window.kendo,r=F.keys,u=F.parseDate,t=F._activeElement,i=F._extractFormat,s=F.support,a=s.browser,c=F.ui,d=c.Widget,p="open",o="change",h=".kendoTimePicker",f="click"+h,m="k-state-default",g="disabled",_="readonly",v="<span/>",w="k-state-focused",b="k-state-hover",y="mousedown"+h,E=6e4,O=864e5,k="k-state-selected",x="k-state-disabled",C="aria-selected",T="aria-expanded",S="aria-hidden",I="aria-disabled",D="aria-activedescendant",A=l.isArray,M=l.extend,H=l.proxy,P=Date,z=new P;z=new P(z.getFullYear(),z.getMonth(),z.getDate(),0,0,0);var V=function(e){var t=this,i=e.id;t.options=e,t._dates=[],t.ul=l('<ul tabindex="-1" role="listbox" aria-hidden="true" unselectable="on" class="k-list k-reset"/>').css({overflow:s.kineticScrollNeeded?"":"auto"}).on(f,"li",H(t._click,t)).on("mouseenter"+h,"li",function(){l(this).addClass(b)}).on("mouseleave"+h,"li",function(){l(this).removeClass(b)}),t.list=l("<div class='k-list-container k-list-scroller' unselectable='on'/>").append(t.ul).on(y,N),i&&(t._timeViewID=i+"_timeview",t._optionID=i+"_option_selected",t.ul.attr("id",t._timeViewID)),t._popup(),t._heightHandler=H(t._height,t),t.template=F.template('<li tabindex="-1" role="option" class="k-item" unselectable="on">#=data#</li>',{useWithBlock:!1})};function L(e){return 60*e.getHours()*E+e.getMinutes()*E+1e3*e.getSeconds()+e.getMilliseconds()}function R(e,t,i){var n,s=L(t),r=L(i);return!e||s==r||((n=L(e))<s&&(n+=O),r<s&&(r+=O),s<=n&&n<=r)}V.prototype={current:function(e){var t=this,i=t.options.active;if(e===n)return t._current;t._current&&t._current.removeClass(k).removeAttr(C).removeAttr("id"),e&&(e=l(e).addClass(k).attr("id",t._optionID).attr(C,!0),t.scroll(e[0])),t._current=e,i&&i(e)},close:function(){this.popup.close()},destroy:function(){this.ul.off(h),this.list.off(h),this.popup.destroy()},open:function(){var e,t=this;t.ul[0].firstChild||t.bind(),e=t.popup._hovered,t.popup._hovered=!0,t.popup.open(),setTimeout(function(){t.popup._hovered=e},1),t._current&&t.scroll(t._current[0])},dataBind:function(e){for(var t,i=this.options,n=i.format,s=F.toString,r=this.template,a=e.length,o=0,l="";o<a;o++)R(t=e[o],i.min,i.max)&&(l+=r(s(t,n,i.culture)));this._html(l)},refresh:function(){var e,t,i,n,s,r,a,o,l,u,c,d,p,h=this.options,f=h.format,m=(r=new P,a=new P(r.getFullYear(),r.getMonth(),r.getDate(),0,0,0),o=new P(r.getFullYear(),r.getMonth(),r.getDate(),12,0,0),-1*(a.getTimezoneOffset()-o.getTimezoneOffset())),g=m<0,_=h.min,v=h.max,w=L(_),b=L(v),y=L((n=h.interval,(s=new Date(2100,0,1)).setMinutes(-n),s)),k=h.interval*E,x=F.toString,C=this.template,T=new P(+_),S=new P(T),I=0,D="";for(i=g?(O+m*E)/k:O/k,w==b&&y!==b||(b<w&&(b+=O),i=(b-w)/k+1),t=parseInt(i,10);I<i;I++)I&&(u=k,c=g,d=void 0,p=(l=T).getTimezoneOffset(),l.setTime(l.getTime()+u),c||(d=l.getTimezoneOffset()-p,l.setTime(l.getTime()+d*E))),b&&t==I&&(e=L(T),S<T&&(e+=O),b<e&&(T=new P(+v))),this._dates.push(L(T)),D+=C(x(T,f,h.culture));this._html(D)},bind:function(){var e=this.options.dates;e&&e[0]?this.dataBind(e):this.refresh()},_html:function(e){this.ul[0].innerHTML=e,this.popup.unbind(p,this._heightHandler),this.popup.one(p,this._heightHandler),this.current(null),this.select(this._value)},scroll:function(e){if(e){var t=this.list[0],i=e.offsetTop,n=e.offsetHeight,s=t.scrollTop,r=t.clientHeight,a=i+n;i<s?s=i:s+r<a&&(s=a-r),t.scrollTop=s}},select:function(t){var e,i=this.options,n=this._current;t instanceof Date&&(t=F.toString(t,i.format,i.culture)),"string"==typeof t&&(t=n&&n.text()===t?n:(t=l.grep(this.ul[0].childNodes,function(e){return(e.textContent||e.innerText)==t}))[0]?t:null),e=this._distinctSelection(t),this.current(e)},_distinctSelection:function(e){var t,i;return e&&1<e.length&&(t=L(this._value),i=l.inArray(t,this._dates),e=this.ul.children()[i]),e},setOptions:function(e){var t=this.options;e.min=u(e.min),e.max=u(e.max),this.options=M(t,e,{active:t.active,change:t.change,close:t.close,open:t.open}),this.bind()},toggle:function(){this.popup.visible()?this.close():this.open()},value:function(e){this._value=e,this.ul[0].firstChild&&this.select(e)},_click:function(e){var t=l(e.currentTarget),i=t.text(),n=this.options.dates;n&&0<n.length&&(i=n[t.index()]),e.isDefaultPrevented()||(this.select(t),this.options.change(i,!0),this.close())},_height:function(){var e=this.list,t=e.parent(".k-animation-container"),i=this.options.height;this.ul[0].children.length&&e.add(t).show().height(this.ul[0].scrollHeight>i?i:"auto").hide()},_parse:function(e){var t=this.options,i=L(t.min)!=L(z)?t.min:null,n=L(t.max)!=L(z)?t.max:null,s=this._value||i||n||z;return e instanceof P||(e=u(e,t.parseFormats,t.culture))&&(e=new P(s.getFullYear(),s.getMonth(),s.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())),e},_adjustListWidth:function(){var e,t,i=this.list,n=i[0].style.width,s=this.options.anchor,r=F._outerWidth;!i.data("width")&&n||(t=(e=window.getComputedStyle?window.getComputedStyle(s[0],null):0)?parseFloat(e.width):r(s),e&&(a.mozilla||a.msie)&&(t+=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)+parseFloat(e.borderLeftWidth)+parseFloat(e.borderRightWidth)),n=t-(r(i)-i.width()),i.css({fontFamily:s.css("font-family"),width:n}).data("width",n))},_popup:function(){var e=this.list,t=this.options,i=t.anchor;this.popup=new c.Popup(e,M(t.popup,{anchor:i,open:t.open,close:t.close,animation:t.animation,isRtl:s.isRtl(t.anchor)}))},move:function(e){var t=e.keyCode,i=this.ul[0],n=this._current,s=t===r.DOWN;if(t===r.UP||s){if(e.altKey)return void this.toggle(s);(n=s?n?n[0].nextSibling:i.firstChild:n?n[0].previousSibling:i.lastChild)&&this.select(n),this.options.change(this._current.text()),e.preventDefault()}else t!==r.ENTER&&t!==r.TAB&&t!==r.ESC||(e.preventDefault(),n&&this.options.change(n.text(),!0),this.close())}},V.getMilliseconds=L,F.TimeView=V;var e=d.extend({init:function(i,e){var t,n,s=this;d.fn.init.call(s,i,e),i=s.element,(e=s.options).min=u(i.attr("min"))||u(e.min),e.max=u(i.attr("max"))||u(e.max),B(e),s._initialOptions=M({},e),s._wrapper(),s.timeView=n=new V(M({},e,{id:i.attr("id"),anchor:s.wrapper,format:e.format,change:function(e,t){t?s._change(e):i.val(e)},open:function(e){s.timeView._adjustListWidth(),s.trigger(p)?e.preventDefault():(i.attr(T,!0),t.attr(S,!1))},close:function(e){s.trigger("close")?e.preventDefault():(i.attr(T,!1),t.attr(S,!0))},active:function(e){i.removeAttr(D),e&&i.attr(D,n._optionID)}})),t=n.ul,s._icon(),s._reset();try{i[0].setAttribute("type","text")}catch(e){i[0].type="text"}if(i.addClass("k-input").attr({role:"combobox","aria-expanded":!1,"aria-owns":n._timeViewID,autocomplete:"off"}),i.is("[disabled]")||l(s.element).parents("fieldset").is(":disabled")?s.enable(!1):s.readonly(i.is("[readonly]")),e.dateInput){var r=e.min,a=e.max,o=new P;L(r)==L(a)&&(r=new P(o.getFullYear(),o.getMonth(),o.getDate(),0,0,0),a=new P(o.getFullYear(),o.getMonth(),o.getDate(),24,0,0)),s._dateInput=new c.DateInput(i,{culture:e.culture,format:e.format,min:r,max:a,value:e.value})}s._old=s._update(e.value||s.element.val()),s._oldText=i.val(),F.notify(s)},options:{name:"TimePicker",min:z,max:z,format:"",dates:[],parseFormats:[],value:null,interval:30,height:200,animation:{},dateInput:!1},events:[p,"close",o],setOptions:function(e){var t=this._value;d.fn.setOptions.call(this,e),B(e=this.options),this.timeView.setOptions(e),t&&this.element.val(F.toString(t,e.format,e.culture))},dataBind:function(e){A(e)&&this.timeView.dataBind(e)},_editable:function(e){var t=this,i=e.disable,n=e.readonly,s=t._arrow.off(h),r=t.element.off(h),a=t._inputWrapper.off(h);n||i?(a.addClass(i?x:m).removeClass(i?m:x),r.attr(g,i).attr(_,n).attr(I,i)):(a.addClass(m).removeClass(x).on("mouseenter.kendoTimePicker mouseleave.kendoTimePicker",t._toggleHover),r.removeAttr(g).removeAttr(_).attr(I,!1).on("keydown"+h,H(t._keydown,t)).on("focusout"+h,H(t._blur,t)).on("focus"+h,function(){t._inputWrapper.addClass(w)}),s.on(f,H(t._click,t)).on(y,N))},readonly:function(e){this._editable({readonly:e===n||e,disable:!1})},enable:function(e){this._editable({readonly:!1,disable:!(e=e===n||e)})},destroy:function(){d.fn.destroy.call(this),this.timeView.destroy(),this.element.off(h),this._arrow.off(h),this._inputWrapper.off(h),this._form&&this._form.off("reset",this._resetHandler)},close:function(){this.timeView.close()},open:function(){this.timeView.open()},min:function(e){return this._option("min",e)},max:function(e){return this._option("max",e)},value:function(e){if(e===n)return this._value;this._old=this._update(e),null===this._old&&this.element.val(""),this._oldText=this.element.val()},_blur:function(){var e=this.element.val();this.close(),e!==this._oldText&&this._change(e),this._inputWrapper.removeClass(w)},_click:function(){var e=this.element;this.timeView.toggle(),s.touch||e[0]===t()||e.focus()},_change:function(e){var t,i=this,n=i.element.val();e=i._update(e);var s=(t=!F.calendar.isEqualDate(i._old,e))&&!i._typing,r=n!==i.element.val();(s||r)&&i.element.trigger(o),t&&(i._old=e,i._oldText=i.element.val(),i.trigger(o)),i._typing=!1},_icon:function(){var e,t=this.element;(e=t.next("span.k-select"))[0]||(e=l('<span unselectable="on" class="k-select" aria-label="select"><span class="k-icon k-i-clock"></span></span>').insertAfter(t)),this._arrow=e.attr({role:"button","aria-controls":this.timeView._timeViewID})},_keydown:function(e){var t=e.keyCode,i=this.timeView,n=this.element.val();i.popup.visible()||e.altKey?(i.move(e),this._dateInput&&e.stopImmediatePropagation&&e.stopImmediatePropagation()):t===r.ENTER&&n!==this._oldText?this._change(n):this._typing=!0},_option:function(e,t){var i=this.options;if(t===n)return i[e];(t=this.timeView._parse(t))&&(t=new P(+t),i[e]=t,this.timeView.options[e]=t,this.timeView.bind())},_toggleHover:function(e){l(e.currentTarget).toggleClass(b,"mouseenter"===e.type)},_update:function(e){var t=this.options,i=this.timeView,n=i._parse(e);return R(n,t.min,t.max)||(n=null),this._value=n,this._dateInput&&n?this._dateInput.value(n||e):this.element.val(F.toString(n||e,t.format,t.culture)),i.value(n),n},_wrapper:function(){var e,t=this.element;(e=t.parents(".k-timepicker"))[0]||(e=(e=t.wrap(v).parent().addClass("k-picker-wrap k-state-default")).wrap(v).parent()),e[0].style.cssText=t[0].style.cssText,this.wrapper=e.addClass("k-widget k-timepicker").addClass(t[0].className),t.css({width:"100%",height:t[0].style.height}),this._inputWrapper=l(e[0].firstChild)},_reset:function(){var e=this,t=e.element,i=t.attr("form"),n=i?l("#"+i):t.closest("form");n[0]&&(e._resetHandler=function(){e.value(t[0].defaultValue),e.max(e._initialOptions.max),e.min(e._initialOptions.min)},e._form=n.on("reset",e._resetHandler))}});function B(e){var t=e.parseFormats;e.format=i(e.format||F.getCulture(e.culture).calendars.standard.patterns.t),(t=A(t)?t:[t]).splice(0,0,e.format),e.parseFormats=t}function N(e){e.preventDefault()}c.plugin(e)}(window.kendo.jQuery),window.kendo}),("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()})("kendo.datetimepicker",["kendo.datepicker","kendo.timepicker"],function(){return function(m,l){var g=window.kendo,c=g.TimeView,_=g.parseDate,i=g.support,n=g._activeElement,s=g._extractFormat,e=g.calendar,v=e.isInRange,w=e.restrictValue,b=e.isEqualDatePart,r=c.getMilliseconds,t=g.ui,a=t.Widget,y="change",u=".kendoDateTimePicker",d=i.mouseAndTouchPresent?g.applyEventMap("up",u.slice(1)):"click.kendoDateTimePicker",p="k-state-default",h="k-state-focused",f="k-state-disabled",k="mousedown"+u,x="aria-activedescendant",C="aria-expanded",T="aria-hidden",S="aria-owns",I="aria-disabled",D=Date,F=new D(1800,0,1),E=new D(2099,11,31),O={view:"date"},A={view:"time"},M=m.extend,o=a.extend({init:function(t,e){var i=this;a.fn.init.call(i,t,e),t=i.element,(e=i.options).disableDates=g.calendar.disabled(e.disableDates),e.min=_(t.attr("min"))||_(e.min),e.max=_(t.attr("max"))||_(e.max),z(e),i._initialOptions=M({},e),i._wrapper(),i._views(),i._icons(),i._reset(),i._template();try{t[0].setAttribute("type","text")}catch(e){t[0].type="text"}t.addClass("k-input").attr({role:"combobox","aria-expanded":!1,autocomplete:"off"}),i._midnight=i._calculateMidnight(e.min,e.max),t.is("[disabled]")||m(i.element).parents("fieldset").is(":disabled")?i.enable(!1):i.readonly(t.is("[readonly]")),i._createDateInput(e),i._old=i._update(e.value||i.element.val()),i._oldText=t.val(),g.notify(i)},options:{name:"DateTimePicker",value:null,format:"",timeFormat:"",culture:"",parseFormats:[],dates:[],disableDates:null,min:new D(F),max:new D(E),interval:30,height:200,footer:"",start:"month",depth:"month",animation:{},month:{},ARIATemplate:'Current focused date is #=kendo.toString(data.current, "d")#',dateButtonText:"Open the date view",timeButtonText:"Open the time view",dateInput:!1,weekNumber:!1},events:["open","close",y],setOptions:function(e){var t,i,n,s=this,r=s._value;a.fn.setOptions.call(s,e),(e=s.options).min=t=_(e.min),e.max=i=_(e.max),z(e),s._midnight=s._calculateMidnight(e.min,e.max),n=e.value||s._value||s.dateView._current,t&&!b(t,n)&&(t=new D(F)),i&&!b(i,n)&&(i=new D(E)),s.dateView.setOptions(e),s.timeView.setOptions(M({},e,{format:e.timeFormat,min:t,max:i})),s._createDateInput(e),s._dateInput||s.element.val(g.toString(r,e.format,e.culture)),r&&s._updateARIA(r)},_editable:function(e){var t=this,i=t.element.off(u),n=t._dateIcon.off(u),s=t._timeIcon.off(u),r=t._inputWrapper.off(u),a=e.readonly,o=e.disable;a||o?(r.addClass(o?f:p).removeClass(o?p:f),i.attr("disabled",o).attr("readonly",a).attr(I,o)):(r.addClass(p).removeClass(f).on("mouseenter.kendoDateTimePicker mouseleave.kendoDateTimePicker",t._toggleHover),i.removeAttr("disabled").removeAttr("readonly").attr(I,!1).on("keydown"+u,m.proxy(t._keydown,t)).on("focus"+u,function(){t._inputWrapper.addClass(h)}).on("focusout"+u,function(){t._inputWrapper.removeClass(h),i.val()!==t._oldText&&t._change(i.val()),t.close("date"),t.close("time")}),n.on(k,P).on(d,function(e){t.toggle("date"),t._focusElement(e.type)}),s.on(k,P).on(d,function(e){t.toggle("time"),t._focusElement(e.type)}))},_focusElement:function(e){var t=this.element;i.touch&&(!i.mouseAndTouchPresent||(e||"").match(/touch/i))||t[0]===n()||t.focus()},readonly:function(e){this._editable({readonly:e===l||e,disable:!1})},enable:function(e){this._editable({readonly:!1,disable:!(e=e===l||e)})},destroy:function(){var e=this;a.fn.destroy.call(e),e.dateView.destroy(),e.timeView.destroy(),e.element.off(u),e._dateIcon.off(u),e._timeIcon.off(u),e._inputWrapper.off(u),e._form&&e._form.off("reset",e._resetHandler)},close:function(e){"time"!==e&&(e="date"),this[e+"View"].close()},open:function(e){"time"!==e&&(e="date"),this[e+"View"].open()},min:function(e){return this._option("min",e)},max:function(e){return this._option("max",e)},toggle:function(e){var t="timeView";"time"!==e?e="date":t="dateView",this[e+"View"].toggle(),this[t].close()},value:function(e){if(e===l)return this._value;this._old=this._update(e),null===this._old&&this.element.val(""),this._oldText=this.element.val()},_change:function(e){var t,i=this,n=i.element.val();e=i._update(e);var s=(t=+i._old!=+e)&&!i._typing,r=n!==i.element.val();(s||r)&&i.element.trigger(y),t&&(i._old=e,i._oldText=i.element.val(),i.trigger(y)),i._typing=!1},_option:function(e,t){var i,n,s=this.options,r=this.timeView,a=r.options,o=this._value||this._old;if(t===l)return s[e];if(t=_(t,s.parseFormats,s.culture)){if(s.min.getTime()===s.max.getTime()&&(a.dates=[]),s[e]=new D(t.getTime()),this.dateView[e](t),this._midnight=this._calculateMidnight(s.min,s.max),o&&(i=b(s.min,o),n=b(s.max,o)),i||n){if(a[e]=t,i&&!n&&(a.max=H(s.interval)),n){if(this._midnight)return void r.dataBind([E]);i||(a.min=F)}}else a.max=E,a.min=F;r.bind()}},_toggleHover:function(e){m(e.currentTarget).toggleClass("k-state-hover","mouseenter"===e.type)},_update:function(e){var t,i,n,s,r,a=this,o=a.options,l=o.min,u=o.max,c=o.dates,d=a.timeView,p=a._value,h=_(e,o.parseFormats,o.culture),f=null===h&&null===p||h instanceof Date&&p instanceof Date;return o.disableDates&&o.disableDates(h)&&(h=null,a._old||a.element.val()||(e=null)),+h==+p&&f?(r=g.toString(h,o.format,o.culture))!==e&&(a.element.val(null===h?e:r),e instanceof String&&a.element.trigger(y)):(null!==h&&b(h,l)?h=w(h,l,u):v(h,l,u)||(h=null),a._value=h,d.value(h),a.dateView.value(h),h&&(n=a._old,i=d.options,c[0]&&(c=m.grep(c,function(e){return b(h,e)}))[0]&&(d.dataBind(c),s=!0),s||(b(h,l)&&(i.min=l,i.max=H(o.interval),t=!0),b(h,u)&&(a._midnight?(d.dataBind([E]),s=!0):(i.max=u,t||(i.min=F),t=!0))),!s&&(!n&&t||n&&!b(n,h))&&(t||(i.max=E,i.min=F),d.bind())),a._dateInput&&h?a._dateInput.value(h||e):a.element.val(g.toString(h||e,o.format,o.culture)),a._updateARIA(h)),h},_keydown:function(e){var t=this.dateView,i=this.timeView,n=this.element.val(),s=t.popup.visible(),r=this._dateInput&&e.stopImmediatePropagation;e.altKey&&e.keyCode===g.keys.DOWN?this.toggle(s?"time":"date"):s?(t.move(e),this._updateARIA(t._current)):i.popup.visible()?i.move(e):e.keyCode===g.keys.ENTER&&n!==this._oldText?this._change(n):r=!(this._typing=!0),r&&e.stopImmediatePropagation()},_views:function(){var a,i,t,n,e,s,o=this,r=o.element,l=o.options,u=r.attr("id");o.dateView=a=new g.DateView(M({},l,{id:u,anchor:o.wrapper,change:function(){var e,t,i=a.calendar.value(),n=+i,s=+l.min,r=+l.max;n!==s&&n!==r||(e=n===s?s:r,(e=new D(o._value||e)).setFullYear(i.getFullYear(),i.getMonth(),i.getDate()),v(e,s,r)&&(i=e)),o._value&&(t=g.date.setHours(new Date(i),o._value),v(t,s,r)&&(i=t)),o._change(i),o.close("date")},close:function(e){o.trigger("close",O)?e.preventDefault():(r.attr(C,!1),t.attr(T,!0),i.popup.visible()||r.removeAttr(S))},open:function(e){o.trigger("open",O)?e.preventDefault():(r.val()!==o._oldText&&(s=_(r.val(),l.parseFormats,l.culture),o.dateView[s?"current":"value"](s)),t.attr(T,!1),r.attr(C,!0).attr(S,a._dateViewID),o._updateARIA(s))}})),t=a.div,e=l.min.getTime(),o.timeView=i=new c({id:u,value:l.value,anchor:o.wrapper,animation:l.animation,format:l.timeFormat,culture:l.culture,height:l.height,interval:l.interval,min:new D(F),max:new D(E),dates:e===l.max.getTime()?[new Date(e)]:[],parseFormats:l.parseFormats,change:function(e,t){(e=i._parse(e))<l.min?(e=new D(+l.min),i.options.min=e):e>l.max&&(e=new D(+l.max),i.options.max=e),t?(o._timeSelected=!0,o._change(e)):(r.val(g.toString(e,l.format,l.culture)),a.value(e),o._updateARIA(e))},close:function(e){o.trigger("close",A)?e.preventDefault():(n.attr(T,!0),r.attr(C,!1),a.popup.visible()||r.removeAttr(S))},open:function(e){i._adjustListWidth(),o.trigger("open",A)?e.preventDefault():(r.val()!==o._oldText&&(s=_(r.val(),l.parseFormats,l.culture),o.timeView.value(s)),n.attr(T,!1),r.attr(C,!0).attr(S,i._timeViewID),i.options.active(i.current()))},active:function(e){r.removeAttr(x),e&&r.attr(x,i._optionID)}}),n=i.ul},_icons:function(){var e,t=this.element,i=this.options;(e=t.next("span.k-select"))[0]||(e=m('<span unselectable="on" class="k-select"><span class="k-link k-link-date" aria-label="'+i.dateButtonText+'"><span unselectable="on" class="k-icon k-i-calendar"></span></span><span class="k-link k-link-time" aria-label="'+i.timeButtonText+'"><span unselectable="on" class="k-icon k-i-clock"></span></span></span>').insertAfter(t)),e=e.children(),this._dateIcon=e.eq(0).attr("aria-controls",this.dateView._dateViewID),this._timeIcon=e.eq(1).attr("aria-controls",this.timeView._timeViewID)},_wrapper:function(){var e,t=this.element;(e=t.parents(".k-datetimepicker"))[0]||(e=(e=t.wrap("<span/>").parent().addClass("k-picker-wrap k-state-default")).wrap("<span/>").parent()),e[0].style.cssText=t[0].style.cssText,t.css({width:"100%",height:t[0].style.height}),this.wrapper=e.addClass("k-widget k-datetimepicker").addClass(t[0].className),this._inputWrapper=m(e[0].firstChild)},_reset:function(){var e=this,t=e.element,i=t.attr("form"),n=i?m("#"+i):t.closest("form");n[0]&&(e._resetHandler=function(){e.value(t[0].defaultValue),e.max(e._initialOptions.max),e.min(e._initialOptions.min)},e._form=n.on("reset",e._resetHandler))},_template:function(){this._ariaTemplate=g.template(this.options.ARIATemplate)},_createDateInput:function(e){this._dateInput&&(this._dateInput.destroy(),this._dateInput=null),e.dateInput&&(this._dateInput=new t.DateInput(this.element,{culture:e.culture,format:e.format,min:e.min,max:e.max}))},_calculateMidnight:function(e,t){return r(e)+r(t)===0},_updateARIA:function(e){var t,i=this.dateView.calendar;this.element.removeAttr(x),i&&((t=i._cell).attr("aria-label",this._ariaTemplate({current:e||i.current()})),this.element.attr(x,t.attr("id")))}});function H(e){var t=new Date(2100,0,1);return t.setMinutes(-e),t}function P(e){e.preventDefault()}function z(e){var t,i=g.getCulture(e.culture).calendars.standard.patterns,n=!e.parseFormats.length;e.format=s(e.format||i.g),e.timeFormat=t=s(e.timeFormat||i.t),g.DateView.normalize(e),n&&e.parseFormats.unshift("yyyy-MM-ddTHH:mm:ss"),-1===m.inArray(t,e.parseFormats)&&e.parseFormats.push(t)}t.plugin(o)}(window.kendo.jQuery),window.kendo}),("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()})("kendo.list",["kendo.data","kendo.popup"],function(){return function(p,h){var f=window.kendo,t=f.ui,r=f._outerHeight,m=/^\d+(\.\d+)?%$/i,a=t.Widget,g=f.keys,n=f.support,_=f.htmlEncode,v=f._activeElement,o=f._outerWidth,i=f.data.ObservableArray,w="change",s="k-state-focused",l="k-state-hover",u="k-i-loading",c=".k-group-header",d="cascade",b="select",y="requestStart",k="requestEnd",x=p.extend,C=p.proxy,T=p.isArray,S=n.browser,I=S.msie,e=I&&S.version<9,D=/"/g,F={ComboBox:"DropDownList",DropDownList:"ComboBox"},E=f.ui.DataBoundWidget.extend({init:function(e,t){var i,n=this,s=n.ns;a.fn.init.call(n,e,t),e=n.element,t=n.options,n._isSelect=e.is(b),n._isSelect&&n.element[0].length&&(t.dataSource||(t.dataTextField=t.dataTextField||"text",t.dataValueField=t.dataValueField||"value")),n.ul=p('<ul unselectable="on" class="k-list k-reset"/>').attr({tabIndex:-1,"aria-hidden":!0}),n.list=p("<div class='k-list-container'/>").append(n.ul).on("mousedown"+s,C(n._listMousedown,n)),(i=e.attr("id"))||(i=f.guid()),n.list.attr("id",i+"-list"),n.ul.attr("id",i+"_listbox"),t.columns&&t.columns.length&&(n.ul.removeClass("k-list").addClass("k-grid-list"),n._columnsHeader()),n._header(),n._noData(),n._footer(),n._accessors(),n._initValue()},options:{valuePrimitive:!1,footerTemplate:"",headerTemplate:"",noDataTemplate:"No data found."},setOptions:function(e){a.fn.setOptions.call(this,e),e&&e.enable!==h&&(e.enabled=e.enable),e.columns&&e.columns.length&&this._columnsHeader(),this._header(),this._noData(),this._footer(),this._renderFooter(),this._renderNoData()},focus:function(){this._focused.focus()},readonly:function(e){this._editable({readonly:e===h||e,disable:!1})},enable:function(e){this._editable({readonly:!1,disable:!(e=e===h||e)})},_header:function(){var e=p(this.header),t=this.options.headerTemplate;if(this._angularElement(e,"cleanup"),f.destroy(e),e.remove(),t){var i="function"!=typeof t?f.template(t):t;e=p(i({})),this.header=e[0]?e:null,this.list.prepend(e),this._angularElement(this.header,"compile")}else this.header=null},_columnsHeader:function(){var e=p(this.columnsHeader);this._angularElement(e,"cleanup"),f.destroy(e),e.remove();for(var t="<div class='k-grid-header'><div class='k-grid-header-wrap'><table>",i="<colgroup>",n="<tr>",s=0;s<this.options.columns.length;s++){var r=this.options.columns[s],a=r.title||r.field||"",o=r.headerTemplate||a,l="function"!=typeof o?f.template(o):o,u=r.width,c=parseInt(u,10),d="";u&&!isNaN(c)&&(d+="style='width:",d+=c,d+=m.test(u)?"%":"px",d+=";'"),i+="<col "+d+"/>",n+="<th class='k-header'>",n+=l(r),n+="</th>"}t+=i+="</colgroup>",t+=n+="</tr>",t+="</table></div></div>",this.columnsHeader=e=p(t),this.list.prepend(e),this._angularElement(this.columnsHeader,"compile")},_noData:function(){var e=p(this.noData),t=this.options.noDataTemplate;this.angular("cleanup",function(){return{elements:e}}),f.destroy(e),e.remove(),t?(this.noData=p('<div class="k-nodata" style="display:none"><div></div></div>').appendTo(this.list),this.noDataTemplate="function"!=typeof t?f.template(t):t):this.noData=null},_footer:function(){var e=p(this.footer),t=this.options.footerTemplate;this._angularElement(e,"cleanup"),f.destroy(e),e.remove(),t?(this.footer=p('<div class="k-footer"></div>').appendTo(this.list),this.footerTemplate="function"!=typeof t?f.template(t):t):this.footer=null},_listOptions:function(e){var t=this,i=t.options,n=i.virtual,s={change:C(t._listChange,t)},r=C(t._listBound,t);return n="object"==typeof n?n:{},(e=p.extend({autoBind:!1,selectable:!0,dataSource:t.dataSource,click:C(t._click,t),activate:C(t._activateItem,t),columns:i.columns,deactivate:C(t._deactivateItem,t),dataBinding:function(){t.trigger("dataBinding")},dataBound:r,height:i.height,dataValueField:i.dataValueField,dataTextField:i.dataTextField,groupTemplate:i.groupTemplate,fixedGroupTemplate:i.fixedGroupTemplate,template:i.template},e,n,s)).template||(e.template="#:"+f.expr(e.dataTextField,"data")+"#"),i.$angular&&(e.$angular=i.$angular),e},_initList:function(){var e=this,t=e._listOptions({selectedItemChange:C(e._listChange,e)});e.options.virtual?e.listView=new f.ui.VirtualList(e.ul,t):e.listView=new f.ui.StaticList(e.ul,t),e.listView.bind("listBound",C(e._listBound,e)),e._setListValue()},_setListValue:function(e){(e=e||this.options.value)!==h&&this.listView.value(e).done(C(this._updateSelectionState,this))},_updateSelectionState:p.noop,_listMousedown:function(e){this.filterInput&&this.filterInput[0]===e.target||e.preventDefault()},_isFilterEnabled:function(){var e=this.options.filter;return e&&"none"!==e},_hideClear:function(){this._clear&&this._clear.addClass("k-hidden")},_showClear:function(){this._clear&&this._clear.removeClass("k-hidden")},_clearValue:function(){this._clearText(),this._accessor(""),this.listView.value([]),this._isSelect&&(this._customOption=h),this._isFilterEnabled()&&!this.options.enforceMinLength&&(this._filter({word:"",open:!1}),this.options.highlightFirst&&this.listView.focus(0)),this._change()},_clearText:function(){this.text("")},_clearFilter:function(){this.options.virtual||this.listView.bound(!1),this._filterSource()},_filterSource:function(e,t){var i=this.options,n=i.filterFields&&e&&e.logic&&e.filters&&e.filters.length,s=this.dataSource,r=x({},s.filter()||{}),a=e||r.filters&&r.filters.length&&!e,o=V(r,i.dataTextField);if(this._clearFilterExpressions(r),!e&&!o||!this.trigger("filtering",{filter:e})){var l={filters:[],logic:"and"};n?l.filters.push(e):this._pushFilterExpression(l,e),z(r)&&(l.logic===r.logic?l.filters=l.filters.concat(r.filters):l.filters.push(r)),this._cascading&&this.listView.setDSFilter(l);var u=x({},{page:a?1:s.page(),pageSize:a?s.options.pageSize:s.pageSize(),sort:s.sort(),filter:s.filter(),group:s.group(),aggregate:s.aggregate()},{filter:l});return s[t?"read":"query"](s._mergeState(u))}},_pushFilterExpression:function(e,t){z(t)&&""!==t.value&&e.filters.push(t)},_clearFilterExpressions:function(e){if(e.filters){for(var t,i=0;i<e.filters.length;i++)"fromFilter"in e.filters[i]&&(t=i);isNaN(t)||e.filters.splice(t,1)}},_angularElement:function(e,t){e&&this.angular(t,function(){return{elements:e}})},_renderNoData:function(){var e=this.noData;e&&(this._angularElement(e,"cleanup"),e.children(":first").html(this.noDataTemplate({instance:this})),this._angularElement(e,"compile"))},_toggleNoData:function(e){p(this.noData).toggle(e)},_toggleHeader:function(e){this.listView.content.prev(c).toggle(e)},_renderFooter:function(){var e=this.footer;e&&(this._angularElement(e,"cleanup"),e.html(this.footerTemplate({instance:this})),this._angularElement(e,"compile"))},_allowOpening:function(){return this.options.noDataTemplate||this.dataSource.flatView().length},_initValue:function(){var e=this.options.value;null!==e?this.element.val(e):(e=this._accessor(),this.options.value=e),this._old=e},_ignoreCase:function(){var e,t=this.dataSource.reader.model;t&&t.fields&&(e=t.fields[this.options.dataTextField])&&e.type&&"string"!==e.type&&(this.options.ignoreCase=!1)},_focus:function(e){return this.listView.focus(e)},_filter:function(e){var t,i=this.options,n=e.word,s=i.filterFields,r=i.dataTextField;if(s&&s.length){t={logic:"or",filters:[],fromFilter:!0};for(var a=0;a<s.length;a++)this._pushFilterExpression(t,this._buildExpression(n,s[a]))}else t=this._buildExpression(n,r);this._open=e.open,this._filterSource(t)},_buildExpression:function(e,t){var i=this.options,n=i.ignoreCase;return{value:n?e.toLowerCase():e,field:t,operator:i.filter,ignoreCase:n}},_clearButton:function(){var e=this.options.messages&&this.options.messages.clear?this.options.messages.clear:"clear";this._clear||(this._clear=p('<span unselectable="on" class="k-icon k-clear-value k-i-close" title="'+e+'"></span>').attr({role:"button",tabIndex:-1})),this.options.clearButton||this._clear.remove(),this._hideClear()},search:function(e){var t=this.options;e="string"==typeof e?e:this._inputValue(),clearTimeout(this._typingTimeout),(!t.enforceMinLength&&!e.length||e.length>=t.minLength)&&(this._state="filter",this.listView&&(this.listView._emptySearch=!p.trim(e).length),this._isFilterEnabled()?this._filter({word:e,open:!0}):this._searchByWord(e))},current:function(e){return this._focus(e)},items:function(){return this.ul[0].children},destroy:function(){var e=this.ns;a.fn.destroy.call(this),this._unbindDataSource(),this.listView.destroy(),this.list.off(e),this.popup.destroy(),this._form&&this._form.off("reset",this._resetHandler)},dataItem:function(e){if(e===h)return this.listView.selectedDataItems()[0];if("number"!=typeof e){if(this.options.virtual)return this.dataSource.getByUid(p(e).data("uid"));e=p(this.items()).index(e)}return this.dataSource.flatView()[e]},_activateItem:function(){var e=this.listView.focus();e&&this._focused.add(this.filterInput).attr("aria-activedescendant",e.attr("id"))},_deactivateItem:function(){this._focused.add(this.filterInput).removeAttr("aria-activedescendant")},_accessors:function(){var e=this.element,t=this.options,i=f.getter,n=e.attr(f.attr("text-field")),s=e.attr(f.attr("value-field"));!t.dataTextField&&n&&(t.dataTextField=n),!t.dataValueField&&s&&(t.dataValueField=s),this._text=i(t.dataTextField),this._value=i(t.dataValueField)},_aria:function(e){var t=this.options,i=this._focused.add(this.filterInput);t.suggest!==h&&i.attr("aria-autocomplete",t.suggest?"both":"list"),e=e?e+" "+this.ul[0].id:this.ul[0].id,i.attr("aria-owns",e),this.ul.attr("aria-live",this._isFilterEnabled()?"polite":"off"),this._ariaLabel()},_ariaLabel:function(){var e=this._focused,t=this.element,i=t.attr("id"),n=p('label[for="'+i+'"]'),s=t.attr("aria-label"),r=t.attr("aria-labelledby");if(e!==t)if(s)e.attr("aria-label",s);else if(r)e.attr("aria-labelledby",r);else if(n.length){var a=n.attr("id")||this._generateLabelId(n,i||f.guid());e.attr("aria-labelledby",a)}},_generateLabelId:function(e,t){var i=t+"_label";return e.attr("id",i),i},_blur:function(){this._change(),this.close()},_change:function(){var e,t=this,i=t.selectedIndex,n=t.options.value,s=t.value();t._isSelect&&!t.listView.bound()&&n&&(s=n),s!==O(t._old,typeof s)&&s!==O(t._oldText,typeof s)?e=!0:t._valueBeforeCascade!==h&&t._valueBeforeCascade!==O(t._old,typeof t._valueBeforeCascade)&&t._userTriggered?e=!0:i===h||i===t._oldIndex||t.listView.isFiltered()||(e=!0),e&&(null===t._old||""===t._old||""===s?t._valueBeforeCascade=t._old=s:t.dataItem()?t._valueBeforeCascade=t._old=t.options.dataValueField?t.dataItem()[t.options.dataValueField]:t.dataItem():t._valueBeforeCascade=t._old=null,t._oldIndex=i,t._oldText=t.text&&t.text(),t._typing||t.element.trigger(w),t.trigger(w)),t.typing=!1},_data:function(){return this.dataSource.view()},_enable:function(){var e=this.options,t=this.element.is("[disabled]");e.enable!==h&&(e.enabled=e.enable),!e.enabled||t?this.enable(!1):this.readonly(this.element.is("[readonly]"))},_dataValue:function(e){var t=this._value(e);return t===h&&(t=this._text(e)),t},_offsetHeight:function(){var t=0;return this.listView.content.prevAll(":visible").each(function(){var e=p(this);t+=r(e,!0)}),t},_height:function(e){var t,i=this.list,n=this.options.height,s=this.popup.visible();if(e||this.options.noDataTemplate){if(t=i.add(i.parent(".k-animation-container")).show(),!i.is(":visible"))return void t.hide();n=this.listView.content[0].scrollHeight>n?n:"auto",t.height(n),"auto"!==n&&(n=n-this._offsetHeight()-(r(p(this.footer))||0)),this.listView.content.height(n),s||t.hide()}return n},_openHandler:function(e){this._adjustListWidth(),this.trigger("open")?e.preventDefault():(this._focused.attr("aria-expanded",!0),this.ul.attr("aria-hidden",!1))},_adjustListWidth:function(){var e,t,i=this.list,n=i[0].style.width,s=this.wrapper;if(i.data("width")||!n)return e=window.getComputedStyle?window.getComputedStyle(s[0],null):0,t=parseFloat(e&&e.width)||o(s),e&&S.msie&&(t+=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)+parseFloat(e.borderLeftWidth)+parseFloat(e.borderRightWidth)),n="border-box"!==i.css("box-sizing")?t-(o(i)-i.width()):t,i.css({fontFamily:s.css("font-family"),width:this.options.autoWidth?"auto":n,minWidth:n,whiteSpace:this.options.autoWidth?"nowrap":"normal"}).data("width",n),!0},_closeHandler:function(e){this.trigger("close")?e.preventDefault():(this._focused.attr("aria-expanded",!1),this.ul.attr("aria-hidden",!0))},_focusItem:function(){var e=this.listView,t=!e.focus(),i=H(e.select());i===h&&this.options.highlightFirst&&t&&(i=0),i!==h?e.focus(i):t&&e.scrollToIndex(0)},_calculateGroupPadding:function(e){var t=this.ul.children(".k-first:first"),i=this.listView.content.prev(c),n=0,s="right";i[0]&&"none"!==i[0].style.display&&("auto"!==e&&(n=f.support.scrollbar()),this.element.parents(".k-rtl").length&&(s="left"),n+=parseFloat(t.css("border-"+s+"-width"),10)+parseFloat(t.children(".k-group").css("padding-"+s),10),i.css("padding-"+s,n))},_calculatePopupHeight:function(e){var t=this._height(this.dataSource.flatView().length||e);this._calculateGroupPadding(t),this._calculateColumnsHeaderPadding(t)},_calculateColumnsHeaderPadding:function(e){if(this.options.columns&&this.options.columns.length){var t=n.isRtl(this.wrapper),i=f.support.scrollbar();this.columnsHeader.css(t?"padding-left":"padding-right","auto"!==e?i:0)}},_resizePopup:function(e){this.options.virtual||(this.popup.element.is(":visible")?this._calculatePopupHeight(e):this.popup.one("open",function(e){return C(function(){this._calculatePopupHeight(e)},this)}.call(this,e)))},_popup:function(){var e=this;e.popup=new t.Popup(e.list,x({},e.options.popup,{anchor:e.wrapper,open:C(e._openHandler,e),close:C(e._closeHandler,e),animation:e.options.animation,isRtl:n.isRtl(e.wrapper),autosize:e.options.autoWidth}))},_makeUnselectable:function(){e&&this.list.find("*").not(".k-textbox").attr("unselectable","on")},_toggleHover:function(e){p(e.currentTarget).toggleClass(l,"mouseenter"===e.type)},_toggle:function(e,t){var i=n.mobileOS&&(n.touch||n.MSPointers||n.pointers);e=e!==h?e:!this.popup.visible(),t||i||this._focused[0]===v()||(this._prevent=!0,this._focused.focus(),this._prevent=!1),this[e?"open":"close"]()},_triggerCascade:function(){this._cascadeTriggered&&this.value()===O(this._cascadedValue,typeof this.value())||(this._cascadedValue=this.value(),this._cascadeTriggered=!0,this.trigger(d,{userTriggered:this._userTriggered}))},_triggerChange:function(){this._valueBeforeCascade!==this.value()&&this.trigger(w)},_unbindDataSource:function(){this.dataSource.unbind(y,this._requestStartHandler).unbind(k,this._requestEndHandler).unbind("error",this._errorHandler)},requireValueMapper:function(e,t){if(((e.value instanceof Array?e.value.length:e.value)||(t instanceof Array?t.length:t))&&e.virtual&&"function"!=typeof e.virtual.valueMapper)throw new Error("ValueMapper is not provided while the value is being set. See http://docs.telerik.com/kendo-ui/controls/editors/combobox/virtualization#the-valuemapper-function")}});function O(e,t){return e!==h&&""!==e&&null!==e&&("boolean"===t?e=Boolean(e):"number"===t?e=Number(e):"string"===t&&(e=e.toString())),e}x(E,{inArray:function(e,t){var i,n,s=t.children;if(!e||e.parentNode!==t)return-1;for(i=0,n=s.length;i<n;i++)if(e===s[i])return i;return-1},unifyType:O}),f.ui.List=E,t.Select=E.extend({init:function(e,t){E.fn.init.call(this,e,t),this._initial=this.element.val()},setDataSource:function(e){var t,i=this;i.options.dataSource=e,i._dataSource(),i.listView.bound()&&(i._initialIndex=null,i.listView._current=null),i.listView.setDataSource(i.dataSource),i.options.autoBind&&i.dataSource.fetch(),(t=i._parentWidget())&&i._cascadeSelect(t)},close:function(){this.popup.close()},select:function(e){var t=this;return e===h?t.selectedIndex:t._select(e).done(function(){t._cascadeValue=t._old=t._accessor(),t._oldIndex=t.selectedIndex})},_accessor:function(e,t){return this[this._isSelect?"_accessorSelect":"_accessorInput"](e,t)},_accessorInput:function(e){var t=this.element[0];if(e===h)return t.value;null===e&&(e=""),t.value=e},_accessorSelect:function(e,t){var i=this.element[0];if(e===h)return P(i).value||"";P(i).selected=!1,t===h&&(t=-1),null!==e&&""!==e&&-1==t?this._custom(e):e?i.value=e:i.selectedIndex=t},_syncValueAndText:function(){return!0},_custom:function(e){var t=this.element,i=this._customOption;i||(i=p("<option/>"),this._customOption=i,t.append(i)),i.text(e),i[0].selected=!0},_hideBusy:function(){clearTimeout(this._busy),this._arrowIcon.removeClass(u),this._focused.attr("aria-busy",!1),this._busy=null,this._showClear()},_showBusy:function(e){var t=this;e.isDefaultPrevented()||(t._request=!0,t._busy||(t._busy=setTimeout(function(){t._arrowIcon&&(t._focused.attr("aria-busy",!0),t._arrowIcon.addClass(u),t._hideClear())},100)))},_requestEnd:function(){this._request=!1,this._hideBusy()},_dataSource:function(){var e,t=this,i=t.element,n=t.options,s=n.dataSource||{};s=p.isArray(s)?{data:s}:s,t._isSelect&&(-1<(e=i[0].selectedIndex)&&(n.index=e),s.select=i,s.fields=[{field:n.dataTextField},{field:n.dataValueField}]),t.dataSource?t._unbindDataSource():(t._requestStartHandler=C(t._showBusy,t),t._requestEndHandler=C(t._requestEnd,t),t._errorHandler=C(t._hideBusy,t)),t.dataSource=f.data.DataSource.create(s).bind(y,t._requestStartHandler).bind(k,t._requestEndHandler).bind("error",t._errorHandler)},_firstItem:function(){this.listView.focusFirst()},_lastItem:function(){this.listView.focusLast()},_nextItem:function(){this.listView.focusNext()},_prevItem:function(){this.listView.focusPrev()},_move:function(e){var t,i,n,s=this,r=s.listView,a=e.keyCode,o=a===g.DOWN;if(a===g.UP||o){if(e.altKey)s.toggle(o);else{if(!r.bound()&&!s.ul[0].firstChild)return s._fetch||(s.dataSource.one(w,function(){s._fetch=!1,s._move(e)}),s._fetch=!0,s._filterSource()),e.preventDefault(),!0;if(n=s._focus(),s._fetch||n&&!n.hasClass("k-state-selected")||(o?(s._nextItem(),s._focus()||s._lastItem()):(s._prevItem(),s._focus()||s._firstItem())),t=r.dataItemByIndex(r.getElementIndex(s._focus())),s.trigger(b,{dataItem:t,item:s._focus()}))return void s._focus(n);s._select(s._focus(),!0).done(function(){s.popup.visible()||s._blur(),null===s._cascadedValue?s._cascadedValue=s.value():s._cascadedValue=s.dataItem()?s.dataItem()[s.options.dataValueField]||s.dataItem():null})}e.preventDefault(),i=!0}else if(a===g.ENTER||a===g.TAB){s.popup.visible()&&e.preventDefault(),n=s._focus(),t=s.dataItem(),s.popup.visible()||t&&s.text()===s._text(t)||(n=null);var l,u=s.filterInput&&s.filterInput[0]===v();if(n){var c=!0;if((t=r.dataItemByIndex(r.getElementIndex(n)))&&(c=s._value(t)!==E.unifyType(s.value(),typeof s._value(t))),c&&s.trigger(b,{dataItem:t,item:n}))return;l=s._select(n)}else s.input&&((s._syncValueAndText()||s._isSelect)&&s._accessor(s.input.val()),s.listView.value(s.input.val()));s._focusElement&&s._focusElement(s.wrapper),u&&a===g.TAB?s.wrapper.focusout():l&&"function"==typeof l.done?l.done(function(){s._blur()}):s._blur(),s.close(),i=!0}else if(a===g.ESC)s.popup.visible()&&e.preventDefault(),s.close(),i=!0;else if(s.popup.visible()&&(a===g.PAGEDOWN||a===g.PAGEUP)){e.preventDefault();var d=a===g.PAGEDOWN?1:-1;r.scrollWith(d*r.screenHeight()),i=!0}return i},_fetchData:function(){var e=this,t=!!e.dataSource.view().length;e._request||e.options.cascadeFrom||e.listView.bound()||e._fetch||t||(e._fetch=!0,e.dataSource.fetch().done(function(){e._fetch=!1}))},_options:function(e,t,i){var n,s,r,a,o=this.element,l=o[0],u=e.length,c="",d=0;for(t&&(c=t);d<u;d++)n="<option",s=e[d],r=this._text(s),(a=this._value(s))!==h&&(-1!==(a+="").indexOf('"')&&(a=a.replace(D,"&quot;")),n+=' value="'+a+'"'),n+=">",r!==h&&(n+=_(r)),c+=n+="</option>";o.html(c),i!==h&&(l.value=i,l.value&&!i&&(l.selectedIndex=-1)),-1!==l.selectedIndex&&(n=P(l))&&n.setAttribute("selected","selected")},_reset:function(){var e=this,t=e.element,i=t.attr("form"),n=i?p("#"+i):t.closest("form");n[0]&&(e._resetHandler=function(){setTimeout(function(){e.value(e._initial)})},e._form=n.on("reset",e._resetHandler))},_parentWidget:function(){var e=this.options.name;if(this.options.cascadeFrom){var t=p("#"+this.options.cascadeFrom),i=t.data("kendo"+e);return i||(i=t.data("kendo"+F[e])),i}},_cascade:function(){var e,t=this,i=t.options;if(i.cascadeFrom){if(!(e=t._parentWidget()))return;t._cascadeHandlerProxy=C(t._cascadeHandler,t),t._cascadeFilterRequests=[],i.autoBind=!1,e.bind("set",function(){t.one("set",function(e){t._selectedValue=e.value||t._accessor()})}),e.first(d,t._cascadeHandlerProxy),e.listView.bound()?(t._toggleCascadeOnFocus(),t._cascadeSelect(e)):(e.one("dataBound",function(){t._toggleCascadeOnFocus(),e.popup.visible()&&e._focused.focus()}),e.value()||t.enable(!1))}},_toggleCascadeOnFocus:function(){var e=this,t=e._parentWidget(),i=I?"blur":"focusout";t._focused.add(t.filterInput).bind("focus",function(){t.unbind(d,e._cascadeHandlerProxy),t.first(w,e._cascadeHandlerProxy)}),t._focused.add(t.filterInput).bind(i,function(){t.unbind(w,e._cascadeHandlerProxy),t.first(d,e._cascadeHandlerProxy)})},_cascadeHandler:function(e){var t=this._parentWidget(),i=this.value();this._userTriggered=e.userTriggered,this.listView.bound()&&this._clearSelection(t,!0),this._cascadeSelect(t,i)},_cascadeChange:function(e){var t=this,i=t._accessor()||t._selectedValue;t._cascadeFilterRequests.length||(t._selectedValue=null),t._userTriggered?t._clearSelection(e,!0):i?(i!==O(t.listView.value()[0],typeof i)&&t.value(i),t.dataSource.view()[0]&&-1!==t.selectedIndex||t._clearSelection(e,!0)):t.dataSource.flatView().length&&t.select(t.options.index),t.enable(),t._triggerCascade(),t._triggerChange(),t._userTriggered=!1},_cascadeSelect:function(t,e){var i=this,n=t.dataItem(),s=n?n[i.options.cascadeFromParentField]||t._value(n):null,r=i.options.cascadeFromField||t.options.dataValueField;if(i._valueBeforeCascade=e!==h?e:i.value(),s||0===s){V(i.dataSource.filter()||{},r);var a=function(){var e=i._cascadeFilterRequests.shift();e&&i.unbind("dataBound",e),(e=i._cascadeFilterRequests[0])&&i.first("dataBound",e),i._cascadeChange(t)};i._cascadeFilterRequests.push(a),1===i._cascadeFilterRequests.length&&i.first("dataBound",a),i._cascading=!0,i._filterSource({field:r,operator:"eq",value:s}),i._cascading=!1}else i.enable(!1),i._clearSelection(t),i._triggerCascade(),i._triggerChange(),i._userTriggered=!1}});var A=".StaticList",M=f.ui.DataBoundWidget.extend({init:function(e,t){a.fn.init.call(this,e,t),this.element.attr("role","listbox").on("click"+A,"li",C(this._click,this)).on("mouseenter"+A,"li",function(){p(this).addClass(l)}).on("mouseleave"+A,"li",function(){p(this).removeClass(l)}),n.touch&&this._touchHandlers(),"multiple"===this.options.selectable&&this.element.attr("aria-multiselectable",!0),this.content=this.element.wrap("<div class='k-list-scroller' unselectable='on'></div>").parent(),this.header=this.content.before('<div class="k-group-header" style="display:none"></div>').prev(),this.bound(!1),this._optionID=f.guid(),this._selectedIndices=[],this._view=[],this._dataItems=[],this._values=[];var i=this.options.value;i&&(this._values=p.isArray(i)?i.slice(0):[i]),this._getter(),this._templates(),this.setDataSource(this.options.dataSource),this._onScroll=C(function(){var e=this;clearTimeout(e._scrollId),e._scrollId=setTimeout(function(){e._renderHeader()},50)},this)},options:{name:"StaticList",dataValueField:null,valuePrimitive:!1,selectable:!0,template:null,groupTemplate:null,fixedGroupTemplate:null},events:["click",w,"activate","deactivate","dataBinding","dataBound","selectedItemChange"],setDataSource:function(e){var t,i=this,n=e||{};n=p.isArray(n)?{data:n}:n,n=f.data.DataSource.create(n),i.dataSource?(i.dataSource.unbind(w,i._refreshHandler),t=i.value(),i.value([]),i.bound(!1),i.value(t)):i._refreshHandler=C(i.refresh,i),i.setDSFilter(n.filter()),i.dataSource=n.bind(w,i._refreshHandler),i._fixedHeader()},_touchHandlers:function(){var t,i,n=this,s=function(e){return(e.originalEvent||e).changedTouches[0].pageY};n.element.on("touchstart"+A,function(e){t=s(e)}),n.element.on("touchend"+A,function(e){e.isDefaultPrevented()||(i=s(e),Math.abs(i-t)<10&&(n._touchTriggered=!0,n._triggerClick(p(e.target).closest(".k-item").get(0))))})},skip:function(){return this.dataSource.skip()},setOptions:function(e){a.fn.setOptions.call(this,e),this._getter(),this._templates(),this._render()},destroy:function(){this.element.off(A),this._refreshHandler&&this.dataSource.unbind(w,this._refreshHandler),clearTimeout(this._scrollId),a.fn.destroy.call(this)},dataItemByIndex:function(e){return this.dataSource.flatView()[e]},screenHeight:function(){return this.content[0].clientHeight},scrollToIndex:function(e){var t=this.element[0].children[e];t&&this.scroll(t)},scrollWith:function(e){this.content.scrollTop(this.content.scrollTop()+e)},scroll:function(e){if(e){e[0]&&(e=e[0]);var t=this.content[0],i=e.offsetTop,n=e.offsetHeight,s=t.scrollTop,r=t.clientHeight,a=i+n;i<s?s=i:s+r<a&&(s=a-r),t.scrollTop=s}},selectedDataItems:function(e){if(e===h)return this._dataItems.slice();this._dataItems=e,this._values=this._getValues(e)},_getValues:function(e){var t=this._valueGetter;return p.map(e,function(e){return t(e)})},focusNext:function(){var e=this.focus();e=e?e.next():0,this.focus(e)},focusPrev:function(){var e=this.focus();e=e?e.prev():this.element[0].children.length-1,this.focus(e)},focusFirst:function(){this.focus(this.element[0].children[0])},focusLast:function(){this.focus(H(this.element[0].children))},focus:function(e){var t,i=this._optionID;if(e===h)return this._current;e=H(this._get(e)),e=p(this.element[0].children[e]),this._current&&(this._current.removeClass(s).removeAttr("id"),this.trigger("deactivate")),(t=!!e[0])&&(e.addClass(s),this.scroll(e),e.attr("id",i)),this._current=t?e:null,this.trigger("activate")},focusIndex:function(){return this.focus()?this.focus().index():h},skipUpdate:function(e){this._skipUpdate=e},select:function(e){var t,i,n=this,s=n.options.selectable,r="multiple"!==s&&!1!==s,a=n._selectedIndices,o=[];if(e===h)return a.slice();1===(e=n._get(e)).length&&-1===e[0]&&(e=[]);var l=p.Deferred().resolve(),u=n.isFiltered();return u&&!r&&n._deselectFiltered(e)||(r&&!u&&-1!==p.inArray(H(e),a)?n._dataItems.length&&n._view.length&&(n._dataItems=[n._view[a[0]].item]):(t=(i=n._deselect(e)).removed,(e=i.indices).length&&(r&&(e=[H(e)]),o=n._select(e)),(o.length||t.length)&&(n._valueComparer=null,n.trigger(w,{added:o,removed:t})))),l},removeAt:function(e){return this._selectedIndices.splice(e,1),this._values.splice(e,1),this._valueComparer=null,{position:e,dataItem:this._dataItems.splice(e,1)[0]}},setValue:function(e){e=p.isArray(e)||e instanceof i?e.slice(0):[e],this._values=e,this._valueComparer=null},value:function(e){var t,i=this,n=i._valueDeferred;return e===h?i._values.slice():(i.setValue(e),n&&"resolved"!==n.state()||(i._valueDeferred=n=p.Deferred()),i.bound()&&(t=i._valueIndices(i._values),"multiple"===i.options.selectable&&i.select(-1),i.select(t),n.resolve()),i._skipUpdate=!1,n)},items:function(){return this.element.children(".k-item")},_click:function(e){this._touchTriggered?this._touchTriggered=!1:e.isDefaultPrevented()||this._triggerClick(e.currentTarget)},_triggerClick:function(e){this.trigger("click",{item:p(e)})||this.select(e)},_valueExpr:function(e,t){var i,n,s=0,r=[];if(!this._valueComparer||this._valueType!==e){for(this._valueType=e;s<t.length;s++)r.push(O(t[s],e));i="for (var idx = 0; idx < "+r.length+"; idx++) { if (current === values[idx]) {   return idx; }} return -1;",n=new Function("current","values",i),this._valueComparer=function(e){return n(e,r)}}return this._valueComparer},_dataItemPosition:function(e,t){var i=this._valueGetter(e);return this._valueExpr(typeof i,t)(i)},_getter:function(){this._valueGetter=f.getter(this.options.dataValueField)},_deselect:function(e){var t,i,n,s=this.element[0].children,r=this.options.selectable,a=this._selectedIndices,o=this._dataItems,l=this._values,u=[],c=0,d=0;if(e=e.slice(),!0!==r&&e.length){if("multiple"===r)for(;c<e.length;c++)if(i=e[c],p(s[i]).hasClass("k-state-selected"))for(t=0;t<a.length;t++)if((n=a[t])===i){p(s[n]).removeClass("k-state-selected").attr("aria-selected",!1),u.push({position:t+d,dataItem:o.splice(t,1)[0]}),a.splice(t,1),e.splice(c,1),l.splice(t,1),d+=1,c-=1,t-=1;break}}else{for(;c<a.length;c++)p(s[a[c]]).removeClass("k-state-selected").attr("aria-selected",!1),u.push({position:c,dataItem:o[c]});this._values=[],this._dataItems=[],this._selectedIndices=[]}return{indices:e,removed:u}},_deselectFiltered:function(e){for(var t,i,n,s=this.element[0].children,r=[],a=0;a<e.length;a++)i=e[a],t=this._view[i].item,-1<(n=this._dataItemPosition(t,this._values))&&(r.push(this.removeAt(n)),p(s[i]).removeClass("k-state-selected"));return!!r.length&&(this.trigger(w,{added:[],removed:r}),!0)},_select:function(e){var t,i,n=this.element[0].children,s=this._view,r=[],a=0;for(-1!==H(e)&&this.focus(e);a<e.length;a++)t=s[i=e[a]],-1!==i&&t&&(t=t.item,this._selectedIndices.push(i),this._dataItems.push(t),this._values.push(this._valueGetter(t)),p(n[i]).addClass("k-state-selected").attr("aria-selected",!0),r.push({dataItem:t}));return r},getElementIndex:function(e){return p(e).data("offset-index")},_get:function(e){return"number"==typeof e?e=[e]:T(e)||(e=[(e=this.getElementIndex(e))!==h?e:-1]),e},_template:function(){var e=this.options,t=e.template;return t=t?(t=f.template(t),function(e){return'<li tabindex="-1" role="option" unselectable="on" class="k-item">'+t(e)+"</li>"}):f.template('<li tabindex="-1" role="option" unselectable="on" class="k-item">${'+f.expr(e.dataTextField,"data")+"}</li>",{useWithBlock:!1})},_templates:function(){var e,t=this.options,i={template:t.template,groupTemplate:t.groupTemplate,fixedGroupTemplate:t.fixedGroupTemplate};if(t.columns)for(var n=0;n<t.columns.length;n++){var s=t.columns[n],r=s.field?s.field.toString():"text";i["column"+n]=s.template||"#: "+r+"#"}for(var a in i)(e=i[a])&&"function"!=typeof e&&(i[a]=f.template(e));this.templates=i},_normalizeIndices:function(e){for(var t=[],i=0;i<e.length;i++)e[i]!==h&&t.push(e[i]);return t},_valueIndices:function(e,t){var i,n=this._view,s=0;if(t=t?t.slice():[],!e.length)return[];for(;s<n.length;s++)-1!==(i=this._dataItemPosition(n[s].item,e))&&(t[i]=s);return this._normalizeIndices(t)},_firstVisibleItem:function(){for(var e=this.element[0],t=this.content[0].scrollTop,i=p(e.children[0]).height(),n=Math.floor(t/i)||0,s=e.children[n]||e.lastChild,r=s.offsetTop<t;s;)if(r){if(s.offsetTop+i>t||!s.nextSibling)break;s=s.nextSibling}else{if(s.offsetTop<=t||!s.previousSibling)break;s=s.previousSibling}return this._view[p(s).data("offset-index")]},_fixedHeader:function(){this.isGrouped()&&this.templates.fixedGroupTemplate?(this.header.show(),this.content.scroll(this._onScroll)):(this.header.hide(),this.content.off("scroll",this._onScroll))},_renderHeader:function(){var e=this.templates.fixedGroupTemplate;if(e){var t=this._firstVisibleItem();t&&t.group&&this.header.html(e(t.group))}},_renderItem:function(e){var t='<li tabindex="-1" role="option" unselectable="on" class="k-item',i=e.item,n=0!==e.index,s=e.selected,r=this.isGrouped(),a=this.options.columns&&this.options.columns.length;return n&&e.newGroup&&(t+=" k-first"),e.isLastGroupedItem&&a&&(t+=" k-last"),s&&(t+=" k-state-selected"),t+='" aria-selected="'+(s?"true":"false")+'" data-offset-index="'+e.index+'">',t+=a?this._renderColumns(i):this.templates.template(i),n&&e.newGroup?t+=a?'<div class="k-cell k-group-cell"><span>'+this.templates.groupTemplate(e.group)+"</span></div>":'<div class="k-group">'+this.templates.groupTemplate(e.group)+"</div>":r&&a&&(t+="<div class='k-cell k-spacer-cell'></div>"),t+"</li>"},_renderColumns:function(e){for(var t="",i=0;i<this.options.columns.length;i++){var n=this.options.columns[i].width,s=parseInt(n,10),r="";n&&!isNaN(s)&&(r+="style='width:",r+=s,r+=m.test(n)?"%":"px",r+=";'"),t+="<span class='k-cell' "+r+">",t+=this.templates["column"+i](e),t+="</span>"}return t},_render:function(){var e,t,i,n,s="",r=0,a=0,o=[],l=this.dataSource.view(),u=this.value(),c=this.isGrouped();if(c)for(r=0;r<l.length;r++)for(t=l[r],i=!0,n=0;n<t.items.length;n++)e={selected:this._selected(t.items[n],u),item:t.items[n],group:t.value,newGroup:i,isLastGroupedItem:n===t.items.length-1,index:a},o[a]=e,a+=1,s+=this._renderItem(e),i=!1;else for(r=0;r<l.length;r++)e={selected:this._selected(l[r],u),item:l[r],index:r},o[r]=e,s+=this._renderItem(e);this._view=o,this.element[0].innerHTML=s,c&&o.length&&this._renderHeader()},_selected:function(e,t){return(!this.isFiltered()||"multiple"===this.options.selectable)&&-1!==this._dataItemPosition(e,t)},setDSFilter:function(e){this._lastDSFilter=x({},e)},isFiltered:function(){return this._lastDSFilter||this.setDSFilter(this.dataSource.filter()),!f.data.Query.compareFilters(this.dataSource.filter(),this._lastDSFilter)},refresh:function(e){var t,i=this,n=e&&e.action,s=i.options.skipUpdateOnBind,r="itemchange"===n;i.trigger("dataBinding"),i._angularItems("cleanup"),i._fixedHeader(),i._render(),i.bound(!0),r||"remove"===n?(t=function(e,t){var i,n,s,r,a=t.length,o=e.length,l=[],u=[];if(o)for(s=0;s<o;s++){for(i=e[s],n=!1,r=0;r<a;r++)if(i===t[r]){n=!0,l.push({index:s,item:i});break}n||u.push(i)}return{changed:l,unchanged:u}}(i._dataItems,e.items)).changed.length&&(r?i.trigger("selectedItemChange",{items:t.changed}):i.value(i._getValues(t.unchanged))):i.isFiltered()||i._skipUpdate||i._emptySearch?(i.focus(0),i._skipUpdate&&(i._skipUpdate=!1,i._selectedIndices=i._valueIndices(i._values,i._selectedIndices))):s||n&&"add"!==n||i.value(i._values),i._valueDeferred&&i._valueDeferred.resolve(),i._angularItems("compile"),i.trigger("dataBound")},bound:function(e){if(e===h)return this._bound;this._bound=e},isGrouped:function(){return(this.dataSource.group()||[]).length}});function H(e){return e[e.length-1]}function P(e){var t=e.selectedIndex;return-1<t?e.options[t]:{}}function z(e){return!(!e||p.isEmptyObject(e)||e.filters&&!e.filters.length)}function V(e,t){var i,n=!1;return e.filters&&(i=p.grep(e.filters,function(e){return n=V(e,t),e.filters?e.filters.length:e.field!=t}),n||e.filters.length===i.length||(n=!0),e.filters=i),n}t.plugin(M)}(window.kendo.jQuery),window.kendo}),("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()})("kendo.fx",["kendo.core"],function(){return function(f,e){var l=window.kendo,m=l.effects,r=f.each,g=f.extend,t=f.proxy,u=l.support,n=u.browser,_=u.transforms,v=u.transitions,h={scale:0,scalex:0,scaley:0,scale3d:0},w={translate:0,translatex:0,translatey:0,translate3d:0},a=void 0!==document.documentElement.style.zoom&&!_,o=/matrix3?d?\s*\(.*,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?/i,b=/^(-?[\d\.\-]+)?[\w\s]*,?\s*(-?[\d\.\-]+)?[\w\s]*/i,c=/translatex?$/i,d=/(zoom|fade|expand)(\w+)/,p=/(zoom|fade|expand)/,s=/[xy]$/i,y=["perspective","rotate","rotatex","rotatey","rotatez","rotate3d","scale","scalex","scaley","scalez","scale3d","skew","skewx","skewy","translate","translatex","translatey","translatez","translate3d","matrix","matrix3d"],k=["rotate","scale","scalex","scaley","skew","skewx","skewy","translate","translatex","translatey","matrix"],x={rotate:"deg",scale:"",skew:"px",translate:"px"},i=_.css,C=Math.round,T="height",S="origin",I="overflow",D="translate",F="position",E="completeCallback",O=i+"transition",A=i+"transform",M=i+"backface-visibility",H=i+"perspective",P="1500px",z="perspective(1500px)",V={left:{reverse:"right",property:"left",transition:"translatex",vertical:!1,modifier:-1},right:{reverse:"left",property:"left",transition:"translatex",vertical:!1,modifier:1},down:{reverse:"up",property:"top",transition:"translatey",vertical:!0,modifier:1},up:{reverse:"down",property:"top",transition:"translatey",vertical:!0,modifier:-1},top:{reverse:"bottom"},bottom:{reverse:"top"},in:{reverse:"out",modifier:-1},out:{reverse:"in",modifier:1},vertical:{reverse:"vertical"},horizontal:{reverse:"horizontal"}};if(l.directions=V,g(f.fn,{kendoStop:function(e,t){return v?m.stopQueue(this,e||!1,t||!1):this.stop(e,t)}}),_&&!v){r(k,function(e,n){f.fn[n]=function(e){if(void 0===e)return U(this,n);var t=f(this)[0],i=n+"("+e+x[n.replace(s,"")]+")";return-1==t.style.cssText.indexOf(A)?f(this).css(A,i):t.style.cssText=t.style.cssText.replace(new RegExp(n+"\\(.*?\\)","i"),i),this},f.fx.step[n]=function(e){f(e.elem)[n](e.now)}});var L=f.fx.prototype.cur;f.fx.prototype.cur=function(){return-1!=k.indexOf(this.prop)?parseFloat(f(this.elem)[this.prop]()):L.apply(this,arguments)}}function R(e){return parseInt(e,10)}function B(e,t){return R(e.css(t))}function N(e){for(var t in e)-1!=y.indexOf(t)&&-1==k.indexOf(t)&&delete e[t];return e}function W(e,t){var i,n,s,r,a=[],o={};for(n in t)i=n.toLowerCase(),r=_&&-1!=y.indexOf(i),!u.hasHW3D&&r&&-1==k.indexOf(i)?delete t[n]:(s=t[n],r?a.push(n+"("+s+")"):o[n]=s);return a.length&&(o[A]=a.join(" ")),o}function U(e,t){if(_){var i=e.css(A);if("none"==i)return"scale"==t?1:0;var n=i.match(new RegExp(t+"\\s*\\(([\\d\\w\\.]+)")),s=0;return n?s=R(n[1]):(n=i.match(o)||[0,0,0,0,0],t=t.toLowerCase(),c.test(t)?s=parseFloat(n[3]/n[2]):"translatey"==t?s=parseFloat(n[4]/n[2]):"scale"==t?s=parseFloat(n[2]):"rotate"==t&&(s=parseFloat(Math.atan2(n[2],n[1])))),s}return parseFloat(e.css(t))}l.toggleClass=function(i,e,t,n){return e&&(e=e.split(" "),v&&(t=g({exclusive:"all",duration:400,ease:"ease-out"},t),i.css(O,t.exclusive+" "+t.duration+"ms "+t.ease),setTimeout(function(){i.css(O,"").css(T)},t.duration)),r(e,function(e,t){i.toggleClass(t,n)})),i},l.parseEffects=function(e,a){var o={};return"string"==typeof e?r(e.split(" "),function(e,t){var i=!p.test(t),n=t.replace(d,function(e,t,i){return t+":"+i.toLowerCase()}).split(":"),s=n[1],r={};1<n.length&&(r.direction=a&&i?V[s].reverse:s),o[n[0]]=r}):r(e,function(e){var t=this.direction;t&&a&&!p.test(e)&&(this.direction=V[t].reverse),o[e]=this}),o},v&&g(m,{transition:function(e,t,i){var n,s,r=0,a=e.data("keys")||[];i=g({duration:200,ease:"ease-out",complete:null,exclusive:"all"},i);var o=!1,l=function(){o||(o=!0,s&&(clearTimeout(s),s=null),e.removeData("abortId").dequeue().css(O,"").css(O),i.complete.call(e))};i.duration=f.fx&&f.fx.speeds[i.duration]||i.duration,n=W(0,t),f.merge(a,function(e){var t=[];for(var i in e)t.push(i);return t}(n)),e.data("keys",f.unique(a)).height(),e.css(O,i.exclusive+" "+i.duration+"ms "+i.ease).css(O),e.css(n).css(A),v.event&&(e.one(v.event,l),0!==i.duration&&(r=500)),s=setTimeout(l,i.duration+r),e.data("abortId",s),e.data(E,l)},stopQueue:function(e,t,i){var n,s=e.data("keys"),r=!i&&s,a=e.data(E);return r&&(n=l.getComputedStyles(e[0],s)),a&&a(),r&&e.css(n),e.removeData("keys").stop(t)}});var q=l.Class.extend({init:function(e,t){this.element=e,this.effects=[],this.options=t,this.restore=[]},run:function(e){var t,i,n,s,r,a,o=e.length,l=this.element,u=this.options,c=f.Deferred(),d={},p={};for(this.effects=e,c.done(f.proxy(this,"complete")),l.data("animating",!0),i=0;i<o;i++)for((t=e[i]).setReverse(u.reverse),t.setOptions(u),this.addRestoreProperties(t.restore),t.prepare(d,p),n=0,a=(r=t.children()).length;n<a;n++)r[n].duration(u.duration).run();for(var h in u.effects)g(p,u.effects[h].properties);for(l.is(":visible")||g(d,{display:l.data("olddisplay")||"block"}),_&&!u.reset&&(s=l.data("targetTransform"))&&(d=g(s,d)),d=W(0,d),_&&!v&&(d=N(d)),l.css(d).css(A),i=0;i<o;i++)e[i].setup();return u.init&&u.init(),l.data("targetTransform",p),m.animate(l,p,g({},u,{complete:c.resolve})),c.promise()},stop:function(){f(this.element).kendoStop(!0,!0)},addRestoreProperties:function(e){for(var t,i=this.element,n=0,s=e.length;n<s;n++)t=e[n],this.restore.push(t),i.data(t)||i.data(t,i.css(t))},restoreCallback:function(){for(var e=this.element,t=0,i=this.restore.length;t<i;t++){var n=this.restore[t];e.css(n,e.data(n))}},complete:function(){var e=0,t=this.element,i=this.options,n=this.effects,s=n.length;for(t.removeData("animating").dequeue(),i.hide&&t.data("olddisplay",t.css("display")).hide(),this.restoreCallback(),a&&!_&&setTimeout(f.proxy(this,"restoreCallback"),0);e<s;e++)n[e].teardown();i.completeCallback&&i.completeCallback(t)}});m.promise=function(e,t){var i,n,s=[],r=new q(e,t),a=l.parseEffects(t.effects);for(var o in t.effects=a)(i=m[G(o)])&&(n=new i(e,a[o].direction),s.push(n));s[0]?r.run(s):(e.is(":visible")||e.css({display:e.data("olddisplay")||"block"}).css("display"),t.init&&t.init(),e.dequeue(),r.complete())},g(m,{animate:function(e,p,t){var i=!1!==t.transition;delete t.transition,v&&"transition"in m&&i?m.transition(e,p,t):_?e.animate(N(p),{queue:!1,show:!1,hide:!1,duration:t.duration,complete:t.complete}):e.each(function(){var c=f(this),d={};r(y,function(e,t){var i,n=p?p[t]+" ":null;if(n){var s=p;if(t in h&&void 0!==p[t])i=n.match(b),_&&g(s,{scale:+i[0]});else if(t in w&&void 0!==p[t]){var r=c.css(F),a="absolute"==r||"fixed"==r;c.data(D)||(a?c.data(D,{top:B(c,"top")||0,left:B(c,"left")||0,bottom:B(c,"bottom"),right:B(c,"right")}):c.data(D,{top:B(c,"marginTop")||0,left:B(c,"marginLeft")||0}));var o=c.data(D);if(i=n.match(b)){var l=t==D+"y"?0:+i[1],u=t==D+"y"?+i[1]:+i[2];a?(isNaN(o.right)?isNaN(l)||g(s,{left:o.left+l}):isNaN(l)||g(s,{right:o.right-l}),isNaN(o.bottom)?isNaN(u)||g(s,{top:o.top+u}):isNaN(u)||g(s,{bottom:o.bottom-u})):(isNaN(l)||g(s,{marginLeft:o.left+l}),isNaN(u)||g(s,{marginTop:o.top+u}))}}!_&&"scale"!=t&&t in s&&delete s[t],s&&g(d,s)}}),n.msie&&delete d.scale,c.animate(d,{queue:!1,show:!1,hide:!1,duration:t.duration,complete:t.complete})})}}),m.animatedPromise=m.promise;var j=l.Class.extend({init:function(e,t){this.element=e,this._direction=t,this.options={},this._additionalEffects=[],this.restore||(this.restore=[])},reverse:function(){return this._reverse=!0,this.run()},play:function(){return this._reverse=!1,this.run()},add:function(e){return this._additionalEffects.push(e),this},direction:function(e){return this._direction=e,this},duration:function(e){return this._duration=e,this},compositeRun:function(){var e=new q(this.element,{reverse:this._reverse,duration:this._duration}),t=this._additionalEffects.concat([this]);return e.run(t)},run:function(){if(this._additionalEffects&&this._additionalEffects[0])return this.compositeRun();var e,t,i=this.element,n=0,s=this.restore,r=s.length,a=f.Deferred(),o={},l={},u=this.children(),c=u.length;for(a.done(f.proxy(this,"_complete")),i.data("animating",!0),n=0;n<r;n++)e=s[n],i.data(e)||i.data(e,i.css(e));for(n=0;n<c;n++)u[n].duration(this._duration).run();return this.prepare(o,l),i.is(":visible")||g(o,{display:i.data("olddisplay")||"block"}),_&&(t=i.data("targetTransform"))&&(o=g(t,o)),o=W(0,o),_&&!v&&(o=N(o)),i.css(o).css(A),this.setup(),i.data("targetTransform",l),m.animate(i,l,{duration:this._duration,complete:a.resolve}),a.promise()},stop:function(){var e=0,t=this.children(),i=t.length;for(e=0;e<i;e++)t[e].stop();return f(this.element).kendoStop(!0,!0),this},restoreCallback:function(){for(var e=this.element,t=0,i=this.restore.length;t<i;t++){var n=this.restore[t];e.css(n,e.data(n))}},_complete:function(){var e=this.element;e.removeData("animating").dequeue(),this.restoreCallback(),this.shouldHide()&&e.data("olddisplay",e.css("display")).hide(),a&&!_&&setTimeout(f.proxy(this,"restoreCallback"),0),this.teardown()},setOptions:function(e){g(!0,this.options,e)},children:function(){return[]},shouldHide:f.noop,setup:f.noop,prepare:f.noop,teardown:f.noop,directions:[],setReverse:function(e){return this._reverse=e,this}});function G(e){return e.charAt(0).toUpperCase()+e.substring(1)}function Y(t,e){var s=j.extend(e),i=s.prototype.directions;m[G(t)]=s,m.Element.prototype[t]=function(e,t,i,n){return new s(this.element,e,t,i,n)},r(i,function(e,n){m.Element.prototype[t+G(n)]=function(e,t,i){return new s(this.element,n,e,t,i)}})}var $=["left","right","up","down"],K=["in","out"];function Q(e,a,o,l){Y(e,{directions:K,startValue:function(e){return this._startValue=e,this},endValue:function(e){return this._endValue=e,this},shouldHide:function(){return this._shouldHide},prepare:function(e,t){var i,n,s="out"===this._direction,r=this.element.data(a);i=isNaN(r)||r==o?void 0!==this._startValue?this._startValue:s?o:l:r,n=void 0!==this._endValue?this._endValue:s?l:o,this._reverse?(e[a]=n,t[a]=i):(e[a]=i,t[a]=n),this._shouldHide=t[a]===l}})}Y("slideIn",{directions:$,divisor:function(e){return this.options.divisor=e,this},prepare:function(e,t){var i,n=this.element,s=l._outerWidth,r=l._outerHeight,a=V[this._direction],o=-a.modifier*(a.vertical?r(n):s(n))/(this.options&&this.options.divisor||1)+"px";this._reverse&&(i=e,e=t,t=i),_?(e[a.transition]=o,t[a.transition]="0px"):(e[a.property]=o,t[a.property]="0px")}}),Y("tile",{directions:$,init:function(e,t,i){j.prototype.init.call(this,e,t),this.options={previous:i}},previousDivisor:function(e){return this.options.previousDivisor=e,this},children:function(){var e=this._reverse,t=this.options.previous,i=this.options.previousDivisor||1,n=this._direction,s=[l.fx(this.element).slideIn(n).setReverse(e)];return t&&s.push(l.fx(t).slideIn(V[n].reverse).divisor(i).setReverse(!e)),s}}),Q("fade","opacity",1,0),Q("zoom","scale",1,.01),Y("slideMargin",{prepare:function(e,t){var i,n=this.element,s=this.options,r=n.data(S),a=s.offset,o=this._reverse;o||null!==r||n.data(S,parseFloat(n.css("margin-"+s.axis))),i=n.data(S)||0,t["margin-"+s.axis]=o?i:i+a}}),Y("slideTo",{prepare:function(e,t){var i=this.element,n=this.options.offset.split(","),s=this._reverse;_?(t.translatex=s?0:n[0],t.translatey=s?0:n[1]):(t.left=s?0:n[0],t.top=s?0:n[1]),i.css("left")}}),Y("expand",{directions:["horizontal","vertical"],restore:[I],prepare:function(e,t){var i=this.element,n=this.options,s=this._reverse,r="vertical"===this._direction?T:"width",a=i[0].style[r],o=i.data(r),l=parseFloat(o||a),u=C(i.css(r,"auto")[r]());e.overflow="hidden",l=n&&n.reset?u||l:l||u,t[r]=(s?0:l)+"px",e[r]=(s?l:0)+"px",void 0===o&&i.data(r,a)},shouldHide:function(){return this._reverse},teardown:function(){var e=this.element,t="vertical"===this._direction?T:"width",i=e.data(t);"auto"!=i&&""!==i||setTimeout(function(){e.css(t,"auto").css(t)},0)}});var J={position:"absolute",marginLeft:0,marginTop:0,scale:1};Y("transfer",{init:function(e,t){this.element=e,this.options={target:t},this.restore=[]},setup:function(){this.element.appendTo(document.body)},prepare:function(e,t){var i=this.element,n=m.box(i),s=m.box(this.options.target),r=U(i,"scale"),a=m.fillScale(s,n),o=m.transformOrigin(s,n);g(e,J),t.scale=1,i.css(A,"scale(1)").css(A),i.css(A,"scale("+r+")"),e.top=n.top,e.left=n.left,e.transformOrigin=o.x+"px "+o.y+"px",this._reverse?e.scale=a:t.scale=a}});var X={top:"rect(auto auto $size auto)",bottom:"rect($size auto auto auto)",left:"rect(auto $size auto auto)",right:"rect(auto auto auto $size)"},Z={top:{start:"rotatex(0deg)",end:"rotatex(180deg)"},bottom:{start:"rotatex(-180deg)",end:"rotatex(0deg)"},left:{start:"rotatey(0deg)",end:"rotatey(-180deg)"},right:{start:"rotatey(180deg)",end:"rotatey(0deg)"}};function ee(e,t){var i=e[l.directions[t].vertical?T:"width"]()/2+"px";return X[t].replace("$size",i)}Y("turningPage",{directions:$,init:function(e,t,i){j.prototype.init.call(this,e,t),this._container=i},prepare:function(e,t){var i=this._reverse,n=i?V[this._direction].reverse:this._direction,s=Z[n];e.zIndex=1,this._clipInHalf&&(e.clip=ee(this._container,l.directions[n].reverse)),e[M]="hidden",t[A]=z+(i?s.start:s.end),e[A]=z+(i?s.end:s.start)},setup:function(){this._container.append(this.element)},face:function(e){return this._face=e,this},shouldHide:function(){var e=this._reverse,t=this._face;return e&&!t||!e&&t},clipInHalf:function(e){return this._clipInHalf=e,this},temporary:function(){return this.element.addClass("temp-page"),this}}),Y("staticPage",{directions:$,init:function(e,t,i){j.prototype.init.call(this,e,t),this._container=i},restore:["clip"],prepare:function(e,t){var i=this._reverse?V[this._direction].reverse:this._direction;e.clip=ee(this._container,i),e.opacity=.999,t.opacity=1},shouldHide:function(){var e=this._reverse,t=this._face;return e&&!t||!e&&t},face:function(e){return this._face=e,this}}),Y("pageturn",{directions:["horizontal","vertical"],init:function(e,t,i,n){j.prototype.init.call(this,e,t),this.options={},this.options.face=i,this.options.back=n},children:function(){var e,t=this.options,i="horizontal"===this._direction?"left":"top",n=l.directions[i].reverse,s=this._reverse,r=t.face.clone(!0).removeAttr("id"),a=t.back.clone(!0).removeAttr("id"),o=this.element;return s&&(e=i,i=n,n=e),[l.fx(t.face).staticPage(i,o).face(!0).setReverse(s),l.fx(t.back).staticPage(n,o).setReverse(s),l.fx(r).turningPage(i,o).face(!0).clipInHalf(!0).temporary().setReverse(s),l.fx(a).turningPage(n,o).clipInHalf(!0).temporary().setReverse(s)]},prepare:function(e,t){e[H]=P,e.transformStyle="preserve-3d",e.opacity=.999,t.opacity=1},teardown:function(){this.element.find(".temp-page").remove()}}),Y("flip",{directions:["horizontal","vertical"],init:function(e,t,i,n){j.prototype.init.call(this,e,t),this.options={},this.options.face=i,this.options.back=n},children:function(){var e,t=this.options,i="horizontal"===this._direction?"left":"top",n=l.directions[i].reverse,s=this._reverse,r=this.element;return s&&(e=i,i=n,n=e),[l.fx(t.face).turningPage(i,r).face(!0).setReverse(s),l.fx(t.back).turningPage(n,r).setReverse(s)]},prepare:function(e){e[H]=P,e.transformStyle="preserve-3d"}});var te=!u.mobileOS.android;Y("replace",{_before:f.noop,_after:f.noop,init:function(e,t,i){j.prototype.init.call(this,e),this._previous=f(t),this._transitionClass=i},duration:function(){throw new Error("The replace effect does not support duration setting; the effect duration may be customized through the transition class rule")},beforeTransition:function(e){return this._before=e,this},afterTransition:function(e){return this._after=e,this},_both:function(){return f().add(this._element).add(this._previous)},_containerClass:function(){var e=this._direction,t="k-fx k-fx-start k-fx-"+this._transitionClass;return e&&(t+=" k-fx-"+e),this._reverse&&(t+=" k-fx-reverse"),t},complete:function(e){if(!(!this.deferred||e&&f(e.target).is(".km-touch-scrollbar, .km-actionsheet-wrapper"))){var t=this.container;t.removeClass("k-fx-end").removeClass(this._containerClass()).off(v.event,this.completeProxy),this._previous.hide().removeClass("k-fx-current"),this.element.removeClass("k-fx-next"),te&&t.css(I,""),this.isAbsolute||this._both().css(F,""),this.deferred.resolve(),delete this.deferred}},run:function(){if(this._additionalEffects&&this._additionalEffects[0])return this.compositeRun();var e=this,t=e.element,i=e._previous,n=t.parents().filter(i.parents()).first(),s=e._both(),r=f.Deferred(),a=t.css(F);return n.length||(n=t.parent()),this.container=n,this.deferred=r,this.isAbsolute="absolute"==a,this.isAbsolute||s.css(F,"absolute"),te&&(n.css(I),n.css(I,"hidden")),v?(t.addClass("k-fx-hidden"),n.addClass(this._containerClass()),this.completeProxy=f.proxy(this,"complete"),n.on(v.event,this.completeProxy),l.animationFrame(function(){t.removeClass("k-fx-hidden").addClass("k-fx-next"),i.css("display","").addClass("k-fx-current"),e._before(i,t),l.animationFrame(function(){n.removeClass("k-fx-start").addClass("k-fx-end"),e._after(i,t)})})):this.complete(),r.promise()},stop:function(){this.complete()}});var ie=l.Class.extend({init:function(){this._tickProxy=t(this._tick,this),this._started=!1},tick:f.noop,done:f.noop,onEnd:f.noop,onCancel:f.noop,start:function(){this.enabled()&&(this.done()?this.onEnd():(this._started=!0,l.animationFrame(this._tickProxy)))},enabled:function(){return!0},cancel:function(){this._started=!1,this.onCancel()},_tick:function(){this._started&&(this.tick(),this.done()?(this._started=!1,this.onEnd()):l.animationFrame(this._tickProxy))}}),ne=ie.extend({init:function(e){g(this,e),ie.fn.init.call(this)},done:function(){return this.timePassed()>=this.duration},timePassed:function(){return Math.min(this.duration,new Date-this.startDate)},moveTo:function(e){var t=this,i=t.movable;t.initial=i[t.axis],t.delta=e.location-t.initial,t.duration="number"==typeof e.duration?e.duration:300,t.tick=t._easeProxy(e.ease),t.startDate=new Date,t.start()},_easeProxy:function(e){var t=this;return function(){t.movable.moveAxis(t.axis,e(t.timePassed(),t.initial,t.delta,t.duration))}}});g(ne,{easeOutExpo:function(e,t,i,n){return e==n?t+i:i*(1-Math.pow(2,-10*e/n))+t},easeOutBack:function(e,t,i,n,s){return i*((e=e/n-1)*e*(2.70158*e+1.70158)+1)+t}}),m.Animation=ie,m.Transition=ne,m.createEffect=Y,m.box=function(e){var t=(e=f(e)).offset();return t.width=l._outerWidth(e),t.height=l._outerHeight(e),t},m.transformOrigin=function(e,t){var i=(e.left-t.left)*t.width/(t.width-e.width),n=(e.top-t.top)*t.height/(t.height-e.height);return{x:isNaN(i)?0:i,y:isNaN(n)?0:n}},m.fillScale=function(e,t){return Math.min(e.width/t.width,e.height/t.height)},m.fitScale=function(e,t){return Math.max(e.width/t.width,e.height/t.height)}}(window.kendo.jQuery),window.kendo}),("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()})("kendo.userevents",["kendo.core"],function(){return function(u,e){var l=window.kendo,c=l.support,t=l.Class,d=l.Observable,r=u.now,p=u.extend,i=c.mobileOS,a=i&&i.android,h=800,f=c.browser.msie?5:0,m="gesturechange",g="gestureend",_="gesturetap",n={api:0,touch:0,mouse:9,pointer:9},v=!c.touch||c.mouseAndTouchPresent;function s(e,t){var i=e.x.location,n=e.y.location,s=t.x.location,r=t.y.location,a=i-s,o=n-r;return{center:{x:(i+s)/2,y:(n+r)/2},distance:Math.sqrt(a*a+o*o)}}function w(e){var t,i,n,s=[],r=e.originalEvent,a=e.currentTarget,o=0;if(e.api)s.push({id:2,event:e,target:e.target,currentTarget:e.target,location:e,type:"api"});else if(e.type.match(/touch/))for(t=(i=r?r.changedTouches:[]).length;o<t;o++)n=i[o],s.push({location:n,event:e,target:n.target,currentTarget:a,id:n.identifier,type:"touch"});else c.pointers||c.msPointers?s.push({location:r,event:e,target:e.target,currentTarget:a,id:r.pointerId,type:"pointer"}):s.push({id:1,event:e,target:e.target,currentTarget:a,location:e,type:"mouse"});return s}var o=t.extend({init:function(e,t){this.axis=e,this._updateLocationData(t),this.startLocation=this.location,this.velocity=this.delta=0,this.timeStamp=r()},move:function(e){var t=this,i=e["page"+t.axis],n=r(),s=n-t.timeStamp||1;!i&&a||(t.delta=i-t.location,t._updateLocationData(e),t.initialDelta=i-t.startLocation,t.velocity=t.delta/s,t.timeStamp=n)},_updateLocationData:function(e){var t=this.axis;this.location=e["page"+t],this.client=e["client"+t],this.screen=e["screen"+t]}}),b=t.extend({init:function(e,t,i){p(this,{x:new o("X",i.location),y:new o("Y",i.location),type:i.type,useClickAsTap:e.useClickAsTap,threshold:e.threshold||n[i.type],userEvents:e,target:t,currentTarget:i.currentTarget,initialTouch:i.target,id:i.id,pressEvent:i,_clicks:e._clicks,supportDoubleTap:e.supportDoubleTap,_moved:!1,_finished:!1})},press:function(){this._holdTimeout=setTimeout(u.proxy(this,"_hold"),this.userEvents.minHold),this._trigger("press",this.pressEvent)},_tap:function(e){var t=this;t.userEvents._clicks++,1==t.userEvents._clicks&&(t._clickTimeout=setTimeout(function(){1==t.userEvents._clicks?t._trigger("tap",e):t._trigger("doubleTap",e),t.userEvents._clicks=0},300))},_hold:function(){this._trigger("hold",this.pressEvent)},move:function(e){var t=this;if(!t._finished){if(t.x.move(e.location),t.y.move(e.location),!t._moved){if(t._withinIgnoreThreshold())return;if(k.current&&k.current!==t.userEvents)return t.dispose();t._start(e)}t._finished||t._trigger("move",e)}},end:function(e){this.endTime=r(),this._finished||(this._finished=!0,this._trigger("release",e),this._moved?this._trigger("end",e):this.useClickAsTap||(this.supportDoubleTap?this._tap(e):this._trigger("tap",e)),clearTimeout(this._holdTimeout),this.dispose())},dispose:function(){var e=this.userEvents.touches;this._finished=!0,this.pressEvent=null,clearTimeout(this._holdTimeout),e.splice(u.inArray(this,e),1)},skip:function(){this.dispose()},cancel:function(){this.dispose()},isMoved:function(){return this._moved},_start:function(e){clearTimeout(this._holdTimeout),this.startTime=r(),this._moved=!0,this._trigger("start",e)},_trigger:function(e,t){var i=t.event,n={touch:this,x:this.x,y:this.y,target:this.target,event:i};this.userEvents.notify(e,n)&&i.preventDefault()},_withinIgnoreThreshold:function(){var e=this.x.initialDelta,t=this.y.initialDelta;return Math.sqrt(e*e+t*t)<=this.threshold}});function y(e){for(var t=l.eventMap.up.split(" "),i=0,n=t.length;i<n;i++)e(t[i])}var k=d.extend({init:function(e,t){var i,n=this,s=l.guid();if(t=t||{},i=n.filter=t.filter,n.threshold=t.threshold||f,n.minHold=t.minHold||h,n.touches=[],n._maxTouches=t.multiTouch?2:1,n.allowSelection=t.allowSelection,n.captureUpIfMoved=t.captureUpIfMoved,n.useClickAsTap=!t.fastTap&&!c.delayedClick(),n.eventNS=s,n._clicks=0,n.supportDoubleTap=t.supportDoubleTap,e=u(e).handler(n),d.fn.init.call(n),p(n,{element:e,surface:t.global&&v?u(e[0].ownerDocument.documentElement):u(t.surface||e),stopPropagation:t.stopPropagation,pressed:!1}),n.surface.handler(n).on(l.applyEventMap("move",s),"_move").on(l.applyEventMap("up cancel",s),"_end"),e.on(l.applyEventMap("down",s),i,"_start"),n.useClickAsTap&&e.on(l.applyEventMap("click",s),i,"_click"),c.pointers||c.msPointers)if(c.browser.version<11){var r="pinch-zoom double-tap-zoom";e.css("-ms-touch-action",t.touchAction&&"none"!=t.touchAction?r+" "+t.touchAction:r)}else e.css("touch-action",t.touchAction||"none");if(t.preventDragEvent&&e.on(l.applyEventMap("dragstart",s),l.preventDefault),e.on(l.applyEventMap("mousedown",s),i,{root:e},"_select"),n.captureUpIfMoved&&c.eventCapture){var a=n.surface[0],o=u.proxy(n.preventIfMoving,n);y(function(e){a.addEventListener(e,o,!0)})}n.bind(["press","hold","tap","doubleTap","start","move","end","release","cancel","gesturestart",m,g,_,"select"],t)},preventIfMoving:function(e){this._isMoved()&&e.preventDefault()},destroy:function(){var t=this;if(!t._destroyed){if(t._destroyed=!0,t.captureUpIfMoved&&c.eventCapture){var i=t.surface[0];y(function(e){i.removeEventListener(e,t.preventIfMoving)})}t.element.kendoDestroy(t.eventNS),t.surface.kendoDestroy(t.eventNS),t.element.removeData("handler"),t.surface.removeData("handler"),t._disposeAll(),t.unbind(),delete t.surface,delete t.element,delete t.currentTarget}},capture:function(){k.current=this},cancel:function(){this._disposeAll(),this.trigger("cancel")},notify:function(e,t){var i=this.touches;if(this._isMultiTouch()){switch(e){case"move":e=m;break;case"end":e=g;break;case"tap":e=_}p(t,{touches:i},s(i[0],i[1]))}return this.trigger(e,p(t,{type:e}))},press:function(e,t,i){this._apiCall("_start",e,t,i)},move:function(e,t){this._apiCall("_move",e,t)},end:function(e,t){this._apiCall("_end",e,t)},_isMultiTouch:function(){return 1<this.touches.length},_maxTouchesReached:function(){return this.touches.length>=this._maxTouches},_disposeAll:function(){for(var e=this.touches;0<e.length;)e.pop().dispose()},_isMoved:function(){return u.grep(this.touches,function(e){return e.isMoved()}).length},_select:function(e){this.allowSelection&&!this.trigger("select",{event:e})||e.preventDefault()},_start:function(e){var t,i,n=this,s=0,r=n.filter,a=w(e),o=a.length,l=e.which;if(!(l&&1<l||n._maxTouchesReached()))for(k.current=null,n.currentTarget=e.currentTarget,n.stopPropagation&&e.stopPropagation();s<o&&!n._maxTouchesReached();s++)i=a[s],(t=r?u(i.currentTarget):n.element).length&&(i=new b(n,t,i),n.touches.push(i),i.press(),n._isMultiTouch()&&n.notify("gesturestart",{}))},_move:function(e){this._eachTouch("move",e)},_end:function(e){this._eachTouch("end",e)},_click:function(e){var t={touch:{initialTouch:e.target,target:u(e.currentTarget),endTime:r(),x:{location:e.pageX,client:e.clientX},y:{location:e.pageY,client:e.clientY}},x:e.pageX,y:e.pageY,target:u(e.currentTarget),event:e,type:"tap"};this.trigger("tap",t)&&e.preventDefault()},_eachTouch:function(e,t){var i,n,s,r,a={},o=w(t),l=this.touches;for(i=0;i<l.length;i++)a[(n=l[i]).id]=n;for(i=0;i<o.length;i++)(r=a[(s=o[i]).id])&&r[e](s)},_apiCall:function(e,t,i,n){this[e]({api:!0,pageX:t,pageY:i,clientX:t,clientY:i,target:u(n||this.element)[0],stopPropagation:u.noop,preventDefault:u.noop})}});k.defaultThreshold=function(e){f=e},k.minHold=function(e){h=e},l.getTouches=w,l.touchDelta=s,l.UserEvents=k}(window.kendo.jQuery),window.kendo}),("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()})("kendo.menu",["kendo.popup"],function(){return function(x,b){var C=window.kendo,e=C.ui,s=C._activeElement,y=C.support.touch&&C.support.mobileOS,r="mousedown",k=x.extend,T=x.proxy,n=x.each,t=C.template,l=C.keys,a=e.Widget,i=/^(ul|a|div)$/i,_=".kendoMenu",S="open",I="k-menu",o="k-link k-menu-link",u="k-last",D="close",c="timer",d="k-first",p="k-image",h="select",F="zIndex",E="activate",O="deactivate",f="touchstart"+_+" MSPointerDown"+_+" pointerdown"+_,m=C.support.pointers,g=C.support.msPointers,A=g||m,v=C.support.touch?"touchstart":"",w=m?"pointerover":g?"MSPointerOver":"mouseenter",M=m?"pointerout":g?"MSPointerOut":"mouseleave",H="DOMMouseScroll"+_+" mousewheel"+_,P=C.support.resize+_,z="group",V="groupparent",L=x(document.documentElement),R="kendoPopup",B="k-state-default",N="k-state-hover",W="k-state-focused",U="k-state-disabled",q=".k-menu",j=".k-menu-group",G=".k-animation-container",Y=j+","+G,$=":not(.k-list) > .k-item",K=".k-item",Q=".k-item:not(.k-state-disabled)",J=":not(.k-item.k-separator)",X=K+J+":eq(0)",Z=K+J+":last",ee=".k-menu-scroll-button",te={2:1,touch:1},ie={content:t("<div #= contentCssAttributes(item) # tabindex='-1'>#= content(item) #</div>"),group:t("<ul class='#= groupCssClass(group) #'#= groupAttributes(group) # role='menu' aria-hidden='true'>#= renderItems(data) #</ul>"),itemWrapper:t("<#= tag(item) # class='#= textClass(item) #'#= textAttributes(item) #>#= image(data) ##= sprite(item) ##= text(item) ##= arrow(data) #</#= tag(item) #>"),item:t("<li class='#= wrapperCssClass(group, item) #' #= itemCssAttributes(item) # role='menuitem'  #=item.items ? \"aria-haspopup='true'\": \"\"##=item.enabled === false ? \"aria-disabled='true'\" : ''#>#= itemWrapper(data) ## if (item.items) { ##= subGroup({ items: item.items, menu: menu, group: { expanded: item.expanded } }) ## } else if (item.content || item.contentUrl) { ##= renderContent(data) ## } #</li>"),scrollButton:t("<span class='k-button k-button-icon k-menu-scroll-button k-scroll-#= direction #' unselectable='on'><span class='k-icon k-i-arrow-60-#= direction #'></span></span>"),image:t("<img #= imageCssAttributes(item) # alt='' src='#= item.imageUrl #' />"),arrow:t("<span class='#= arrowClass(item, group) #'></span>"),sprite:t("<span class='k-sprite #= spriteCssClass #'></span>"),empty:t("")},ne={wrapperCssClass:function(e,t){var i="k-item",n=t.index;return!1===t.enabled?i+=" k-state-disabled":i+=" k-state-default",e.firstLevel&&0===n&&(i+=" k-first"),n==e.length-1&&(i+=" k-last"),t.cssClass&&(i+=" "+t.cssClass),t.attr&&t.attr.hasOwnProperty("class")&&(i+=" "+t.attr.class),t.selected&&(i+=" k-state-selected"),i},itemCssAttributes:function(e){var t="",i=e.attr||{};for(var n in i)i.hasOwnProperty(n)&&"class"!==n&&(t+=n+'="'+i[n]+'" ');return t},imageCssAttributes:function(e){var t="",i=e.imageAttr||{};for(var n in i.class?i.class+=" "+p:i.class=p,i)i.hasOwnProperty(n)&&(t+=n+'="'+i[n]+'" ');return t},contentCssAttributes:function(e){var t="",i=e.contentAttr||{},n="k-content k-group k-menu-group";for(var s in i.class?i.class+=" "+n:i.class=n,i)i.hasOwnProperty(s)&&(t+=s+'="'+i[s]+'" ');return t},textClass:function(){return o},textAttributes:function(e){return e.url?" href='"+e.url+"'":""},arrowClass:function(e,t){var i="k-icon";return t.horizontal?i+=" k-i-arrow-60-down":i+=" k-i-arrow-60-right",i},text:function(e){return!1===e.encoded?e.text:C.htmlEncode(e.text)},tag:function(e){return e.url?"a":"span"},groupAttributes:function(e){return!0!==e.expanded?" style='display:none'":""},groupCssClass:function(){return"k-group k-menu-group"},content:function(e){return e.content?e.content:"&nbsp;"}};function se(e,t){try{return x.contains(e,t)}catch(e){return!1}}function re(e){(e=x(e)).addClass("k-item").children("img").addClass(p),e.children("a").addClass(o).children("img").addClass(p),e.filter(":not([disabled])").addClass(B),e.filter(".k-separator").empty().append("&nbsp;"),e.filter("li[disabled]").addClass(U).removeAttr("disabled").attr("aria-disabled",!0),e.filter("[role]").length||e.attr("role","menuitem"),e.children(".k-link").length||e.contents().filter(function(){return!(this.nodeName.match(i)||3==this.nodeType&&!x.trim(this.nodeValue))}).wrapAll("<span class='"+o+"'/>"),ae(e),oe(e)}function ae(e){(e=x(e)).find("> .k-link > [class*=k-i-arrow-60]:not(.k-sprite)").remove(),e.filter(":has(.k-menu-group)").children(".k-link:not(:has([class*=k-i-arrow]:not(.k-sprite)))").each(function(){var e,t,i=x(this),n=(e=i.parent().parent(),t=C.support.isRtl(e),e.hasClass(I+"-horizontal")?" k-i-arrow-60-down":t?" k-i-arrow-60-left":" k-i-arrow-60-right");i.append("<span class='k-icon"+n+" k-menu-expand-arrow'/>")})}function oe(e){(e=x(e)).filter(".k-first:not(:first-child)").removeClass(d),e.filter(".k-last:not(:last-child)").removeClass(u),e.filter(":first-child").addClass(d),e.filter(":last-child").addClass(u)}function le(e){if(e&&e.length)for(var t in e){var i=e.eq(t);i.find("ul").length?i.attr("aria-haspopup",!0):i.removeAttr("aria-haspopup")}}function ue(e){if(!e.hasClass(I))return e.parentsUntil("."+I,"li")}function ce(e,t){var i,n,s,r=(n=t.select,s=C.isFunction,n&&s(n)?n:null);r&&(i=r,x(e).children(".k-link").data({selectHandler:i})),t.items&&x(e).children("ul").children("li").each(function(e){ce(this,t.items[e])})}function de(e){return e?"li[data-groupparent='"+e+"']":"li[data-groupparent]"}function pe(e){return e?"ul[data-group='"+e+"']":"ul[data-group]"}function he(s,r){var e=s.find(de()),a=[];return e.each(function(e,t){for(var i=(t=x(t)).data(V),n=s;i;)(n=r.find(pe(i)+":visible")).length&&a.push(n),i=(t=n.find(de())).data(V)}),a}function fe(e,t){var i=e.data(z);return i?t.find(de(i)):x([])}function me(e,t){var i=e.data(V);return i?t.children(G).children(pe(i)):x([])}function ge(e,t){for(var i=0,n=e.parentNode;n&&!isNaN(n[t]);)i+=n[t],n=n.parentNode;return i}function _e(e){return A&&e.originalEvent&&e.originalEvent.pointerType in te}function ve(e){e.contents().filter(function(){return"LI"!=this.nodeName}).remove()}var we=a.extend({init:function(e,t){var i=this;a.fn.init.call(i,e,t),e=i.wrapper=i.element,t=i.options,i._initData(t),i._updateClasses(),i._animations(t),i.nextItemZIndex=100,i._tabindex(),i._initOverflow(t),i._attachMenuEventsHandlers(),t.openOnClick&&(i.clicked=!1),e.attr("role","menubar"),e[0].id&&(i._ariaId=C.format("{0}_mn_active",e[0].id)),C.notify(i)},events:[S,D,E,O,h],options:{name:"Menu",animation:{open:{duration:200},close:{duration:100}},orientation:"horizontal",direction:"default",openOnClick:!1,closeOnClick:!0,hoverDelay:100,scrollable:!1,popupCollision:b},_initData:function(e){var t=this;e.dataSource&&(t.angular("cleanup",function(){return{elements:t.element.children()}}),t.element.empty(),t.append(e.dataSource,t.element),t.angular("compile",function(){return{elements:t.element.children()}}))},_attachMenuEventsHandlers:function(){var e=this,t=e.element,i=e.options,n=e._overflowWrapper();(n||t).on(f,K,T(e._focusHandler,e)).on("click"+_,".k-item.k-state-disabled",!1).on("click"+_,K,T(e._click,e)).on(f+" "+r+_,".k-content",T(e._preventClose,e)).on(w+_,Q,T(e._mouseenter,e)).on(M+_,Q,T(e._mouseleave,e)).on(r+_,Q,T(e._mousedown,e)).on(v+_+" "+w+_+" "+M+_+" "+r+_+" click"+_,".k-item:not(.k-state-disabled) > .k-link",T(e._toggleHover,e)),t.on("keydown"+_,T(e._keydown,e)).on("focus"+_,T(e._focus,e)).on("focus"+_,".k-content",T(e._focus,e)).on("blur"+_,T(e._removeHoverItem,e)).on("blur"+_,"[tabindex]",T(e._checkActiveElement,e)),n&&n.on(M+_,Y,T(e._mouseleavePopup,e)).on(w+_,Y,T(e._mouseenterPopup,e)),i.openOnClick&&(e._documentClickHandler=T(e._documentClick,e),x(document).click(e._documentClickHandler))},_detachMenuEventsHandlers:function(){var e=this._overflowWrapper();e&&e.off(_),this.element.off(_),this._documentClickHandler&&x(document).unbind("click",this._documentClickHandler)},_initOverflow:function(e){var t,i,n=this,s="horizontal"==e.orientation;if(e.scrollable){n._openedPopups={},n._scrollWrapper=n.element.wrap("<div class='k-menu-scroll-wrapper "+e.orientation+"'></div>").parent(),s&&ve(n.element),t=x(ie.scrollButton({direction:s?"left":"up"})),i=x(ie.scrollButton({direction:s?"right":"down"})),t.add(i).appendTo(n._scrollWrapper),n._initScrolling(n.element,t,i,s);var r=n.element.outerWidth(),a=n.element[0].style.width;a="auto"===a?"":a,s&&x(window).on(P,C.throttle(function(){n._setOverflowWrapperWidth(r,a),n._toggleScrollButtons(n.element,t,i,s)},100)),n._setOverflowWrapperWidth(r,a),n._toggleScrollButtons(n.element,t,i,s)}},_overflowWrapper:function(){return this._scrollWrapper||this._popupsWrapper},_setOverflowWrapperWidth:function(e,t){var i=this._scrollWrapper.css("width");this._scrollWrapper.css({width:""});var n=this._scrollWrapper.outerWidth();this._scrollWrapper.css({width:i});var s=this.element.outerWidth(),r=this.element[0].offsetWidth-this.element[0].clientWidth;if(s!=n&&0<n){var a=t?Math.min(e,n):n;this.element.width(a-r),this._scrollWrapper.width(a)}},_reinitOverflow:function(e){(e.scrollable&&!this.options.scrollable||!e.scrollable&&this.options.scrollable||e.scrollable&&this.options.scrollable&&e.scrollable.distance!=this.options.scrollable.distance||e.orientation!=this.options.orientation)&&(this._detachMenuEventsHandlers(),this._destroyOverflow(),this._initOverflow(e),this._attachMenuEventsHandlers())},_destroyOverflow:function(){var s=this._overflowWrapper();s&&(s.off(_),s.find(ee).off(_).remove(),s.children(G).each(function(e,t){var i=x(t).children(j);i.off(H);var n=fe(i,s);n.length&&n.append(t)}),s.find(de()).removeAttr("data-groupparent"),s.find(pe()).removeAttr("data-group"),this.element.off(H),x(window).off(P),s.contents().unwrap(),this._scrollWrapper=this._popupsWrapper=this._openedPopups=b)},_initScrolling:function(a,o,l,u){var c=this,e=c.options.scrollable,t=x.isNumeric(e.distance)?e.distance:50,d=t/2,i="-="+t,n="+="+t,s="-="+2*t,r="+="+2*t,p=!1,h=!1,f=function(e){var t=u?{scrollLeft:e}:{scrollTop:e};a.finish().animate(t,"fast","linear",function(){p&&f(e)}),c._toggleScrollButtons(a,o,l,u)},m=function(e){p||h||(f(e.data.direction),p=!0)},g=function(e){var t,i=u?{scrollLeft:e.data.direction}:{scrollTop:e.data.direction};t=e.originalEvent,h=y&&/touch/i.test(t.type||"")||_e(e),a.stop().animate(i,"fast","linear",function(){h?(c._toggleScrollButtons(a,o,l,u),p=!0):x(e.currentTarget).trigger(w)}),p=!1,e.stopPropagation(),e.preventDefault()};o.on(w+_,{direction:i},m).on(C.eventMap.down+_,{direction:s},g),l.on(w+_,{direction:n},m).on(C.eventMap.down+_,{direction:r},g),o.add(l).on(M+_,function(){a.stop(),p=!1,c._toggleScrollButtons(a,o,l,u)}),a.on(H,function(e){if(!e.ctrlKey&&!e.shiftKey&&!e.altKey){var t=(s=e.originalEvent,r=0,s.wheelDelta&&(r=0<(r=-s.wheelDelta/120)?Math.ceil(r):Math.floor(r)),s.detail&&(r=Math.round(s.detail/3)),r),i=(0<t?"+=":"-=")+Math.abs(t)*d,n=u?{scrollLeft:i}:{scrollTop:i};c._closeChildPopups(a),a.finish().animate(n,"fast","linear",function(){c._toggleScrollButtons(a,o,l,u)}),e.preventDefault()}var s,r})},_toggleScrollButtons:function(e,t,i,n){var s=n?e.scrollLeft():e.scrollTop(),r=n?"scrollWidth":"scrollHeight",a=n?"offsetWidth":"offsetHeight";t.toggle(0!==s),i.toggle(s<e[0][r]-e[0][a]-1)},setOptions:function(e){var t=this.options.animation;this._animations(e),e.animation=k(!0,t,e.animation),"dataSource"in e&&this._initData(e),this._updateClasses(),this._reinitOverflow(e),a.fn.setOptions.call(this,e)},destroy:function(){a.fn.destroy.call(this),this._detachMenuEventsHandlers(),this._destroyOverflow(),C.destroy(this.element)},enable:function(e,t){return this._toggleDisabled(e,!1!==t),this},disable:function(e){return this._toggleDisabled(e,!1),this},append:function(t,e){e=this.element.find(e);var i=this._insert(t,e,e.length?e.find("> .k-menu-group, > .k-animation-container > .k-menu-group"):null);return n(i.items,function(e){i.group.append(this),ae(this),ce(this,t[e]||t)}),ae(e),oe(i.group.find(".k-first, .k-last").add(i.items)),le(ue(i.group)),this},insertBefore:function(t,i){i=this.element.find(i);var e=this._insert(t,i,i.parent());return n(e.items,function(e){i.before(this),ae(this),oe(this),ce(this,t[e]||t)}),oe(i),this},insertAfter:function(t,i){i=this.element.find(i);var e=this._insert(t,i,i.parent());return n(e.items,function(e){i.after(this),ae(this),oe(this),ce(this,t[e]||t)}),oe(i),this},_insert:function(e,t,i){var n,s;t&&t.length||(i=this.element);var r=x.isPlainObject(e),a={firstLevel:i.hasClass(I),horizontal:i.hasClass(I+"-horizontal"),expanded:!0,length:i.children().length};return t&&!i.length&&(i=x(we.renderGroup({group:a})).appendTo(t)),r||x.isArray(e)?n=x(x.map(r?[e]:e,function(e,t){return"string"==typeof e?x(e).get():x(we.renderItem({group:a,item:k(e,{index:t})})).get()})):(s=(n="string"==typeof e&&"<"!=e.charAt(0)?this.element.find(e):x(e)).find("> ul").addClass("k-menu-group").attr("role","menu"),(n=n.filter("li")).add(s.find("> li")).each(function(){re(this)})),{items:n,group:i}},remove:function(e){var t=(e=this.element.find(e)).parentsUntil(this.element,$),i=e.parent("ul:not(.k-menu)");if(e.remove(),i&&!i.children($).length){var n=ue(i),s=i.parent(G);s.length?s.remove():i.remove(),le(n)}return t.length&&(ae(t=t.eq(0)),oe(t)),this},open:function(e){var f=this,m=f.options,g="horizontal"==m.orientation,_=m.direction,v=C.support.isRtl(f.wrapper),w=f._overflowWrapper();e=(w||f.element).find(e),/^(top|bottom|default)$/.test(_)&&(_=v?g?(_+" left").replace("default","bottom"):"left":g?(_+" right").replace("default","bottom"):"right");var t=">.k-popup:visible,>.k-animation-container>.k-popup:visible",i=function(){x(this).data(R)&&f.close(x(this).closest("li.k-item"),!0)};return e.siblings().find(t).each(i),w&&e.find(t).each(i),f.options.openOnClick&&(f.clicked=!0),e.each(function(){var h=x(this);clearTimeout(h.data(c)),h.data(c,setTimeout(function(){var e,t,i,n,s=h.find(".k-menu-group:first:hidden");if(!s[0]&&w&&(t=f._getPopup(h),s=t&&t.element),!s.is(":visible")&&s[0]&&!1===f._triggerEvent({item:h[0],type:S})){if(!s.find(".k-menu-group")[0]&&1<s.children(".k-item").length){var r=x(window).height(),a=function(){s.css({maxHeight:r-(C._outerHeight(s)-s.height())-C.getShadows(s).bottom,overflow:"auto"})};C.support.browser.msie&&C.support.browser.version<=7?setTimeout(a,0):a()}else s.css({maxHeight:"",overflow:""});h.data(F,h.css(F));var o=f.nextItemZIndex++;h.css(F,o),f.options.scrollable&&h.parent().siblings(ee).css({zIndex:++o}),e=s.data(R);var l=h.parent().hasClass(I),u=l&&g,c=function(e,t,i){e=e.split(" ")[!t+0]||e;var n={origin:["bottom",i?"right":"left"],position:["top",i?"right":"left"]};return/left|right/.test(e)?(n.origin=["top",e],n.position[1]=C.directions[e].reverse):(n.origin[0]=e,n.position[0]=C.directions[e].reverse),n.origin=n.origin.join(" "),n.position=n.position.join(" "),n}(_,l,v),d=m.animation.open.effects,p=d!==b?d:"slideIn:"+(n=l,(i=(i=_).split(" ")[!n+0]||i).replace("top","up").replace("bottom","down"));e?((e=s.data(R)).options.origin=c.origin,e.options.position=c.position,e.options.animation.open.effects=p):e=s.kendoPopup({activate:function(){f._triggerEvent({item:this.wrapper.parent(),type:E})},deactivate:function(e){e.sender.element.removeData("targetTransform").css({opacity:""}),f._triggerEvent({item:this.wrapper.parent(),type:O})},origin:c.origin,position:c.position,collision:m.popupCollision!==b?m.popupCollision:u?"fit":"fit flip",anchor:h,appendTo:w||h,animation:{open:k(!0,{effects:p},m.animation.open),close:m.animation.close},open:T(f._popupOpen,f),close:function(e){var t=e.sender.wrapper.parent();if(w){var i=e.sender.element.data(z);i&&(t=(w||f.element).find(de(i))),e.sender.wrapper.children(ee).hide()}f._triggerEvent({item:t[0],type:D})?e.preventDefault():(t.css(F,t.data(F)),t.removeData(F),f.options.scrollable&&t.parent().siblings(ee).css({zIndex:""}),(y||A||C.support.mouseAndTouchPresent)&&(t.removeClass(N),f._removeHoverItem()))}}).data(R),s.removeAttr("aria-hidden"),f._configurePopupOverflow(e,h),e._hovered=!0,e.open(),f._initPopupScrolling(e)}},f.options.hoverDelay))}),f},_configurePopupOverflow:function(e,t){if(this.options.scrollable&&(this._wrapPopupElement(e),!t.attr("data-groupparent"))){var i=(new Date).getTime();t.attr("data-groupparent",i),e.element.attr("data-group",i)}},_wrapPopupElement:function(e){e.element.parent().is(G)||(e.wrapper=C.wrap(e.element,e.options.autosize).css({overflow:"hidden",display:"block",position:"absolute"}))},_initPopupScrolling:function(e,t,i){this.options.scrollable&&e.element[0].scrollHeight>e.element[0].offsetHeight&&this._initPopupScrollButtons(e,t,i)},_initPopupScrollButtons:function(i,n,s){var r=this,a=i.wrapper.children(ee),e=r.options.animation,t=(e&&e.open&&e.open.duration||0)+30;setTimeout(function(){if(!a.length){var e=x(ie.scrollButton({direction:n?"left":"up"})),t=x(ie.scrollButton({direction:n?"right":"down"}));a=e.add(t).appendTo(i.wrapper),r._initScrolling(i.element,e,t,n),s||a.on(w+_,function(){var n=r._overflowWrapper();x(he(i.element,n)).each(function(e,t){var i=n.find(de(t.data(z)));r.close(i)})}).on(M+_,function(){setTimeout(function(){x.isEmptyObject(r._openedPopups)&&r._closeParentPopups(i.element)},30)})}r._toggleScrollButtons(i.element,a.first(),a.last(),n)},t)},_popupOpen:function(e){this._keyTriggered||e.sender.element.children("."+W).removeClass(W),this.options.scrollable&&this._setPopupHeight(e.sender)},_setPopupHeight:function(e,t){var i=e.element,n=i.add(i.parent(G));n.height(i.hasClass(I)&&this._initialHeight||"");var s=e._location(t),r=x(window).height(),a=s.height,o=t?0:Math.max(s.top,0),l=t?0:ge(this._overflowWrapper()[0],"scrollTop"),u=window.innerHeight-r,c=r-C.getShadows(i).bottom+u;if(!(a+o<c+l)){var d=Math.min(c,c-o+l);n.css({overflow:"hidden",height:d+"px"})}},close:function(r,e){var a=this,o=a._overflowWrapper(),t=o||a.element;return(r=t.find(r)).length||(r=t.find(">.k-item")),r.each(function(){var s=x(this);!e&&a._isRootItem(s)&&(a.clicked=!1),clearTimeout(s.data(c)),s.data(c,setTimeout(function(){var e,i,t,n=a._getPopup(s);if(n&&(t=s.data(V),!o||!t||!a._openedPopups[t.toString()]||a._forceClose)){if(!a._forceClose&&(e=n.element,i=!1,x.isEmptyObject(a._openedPopups)||x(he(e,o)).each(function(e,t){return!(i=!!a._openedPopups[t.data(z).toString()])}),i))return;n.close(),n.element.attr("aria-hidden",!0),o&&a._forceClose&&r.last().is(s[0])&&delete a._forceClose}},a.options.hoverDelay))}),a},_getPopup:function(e){var t=e.find(".k-menu-group:not(.k-list-container):not(.k-calendar-container):first:visible").data(R),i=this._overflowWrapper();if(!t&&i){var n=e.data(V);n&&(t=i.find(pe(n)).data(R))}return t},_toggleDisabled:function(e,t){this.element.find(e).each(function(){x(this).toggleClass(B,t).toggleClass(U,!t).attr("aria-disabled",!t)})},_toggleHover:function(e){var t=x(C.eventTarget(e)||e.target).closest($),i=e.type==w||-1!==r.indexOf(e.type);t.siblings().removeClass(N),t.parents("li."+U).length||t.toggleClass(N,i||"mousedown"==e.type||"pointerover"==e.type||e.type==v),this._removeHoverItem()},_preventClose:function(){this.options.closeOnClick||(this._closurePrevented=!0)},_checkActiveElement:function(e){var t=this,i=x(e?e.currentTarget:this._hoverItem()),n=t._findRootParent(i)[0];this._closurePrevented||setTimeout(function(){document.hasFocus()&&(se(n,C._activeElement())||!e||se(n,e.currentTarget))||t.close(n)},0),this._closurePrevented=!1},_removeHoverItem:function(){var e=this._hoverItem();e&&e.hasClass(W)&&(e.removeClass(W),this._oldHoverItem=null)},_updateClasses:function(){var e,t=this.element;t.removeClass("k-menu-horizontal k-menu-vertical"),t.addClass("k-widget k-reset k-header k-menu-init "+I).addClass(I+"-"+this.options.orientation),t.find("li > ul").filter(function(){return!C.support.matchesSelector.call(this,".k-menu-init div ul")}).addClass("k-group k-menu-group").attr("role","menu").attr("aria-hidden",t.is(":visible")).parent("li").attr("aria-haspopup","true").end().find("li > div").addClass("k-content").attr("tabindex","-1"),e=t.find("> li,.k-menu-group > li"),t.removeClass("k-menu-init"),e.each(function(){re(this)})},_mouseenter:function(e){var i=this,t=x(e.currentTarget),n=i._itemHasChildren(t),s=t.data(V)||t.parent().data(z),r=_e(e);s&&(i._openedPopups[s.toString()]=!0),e.delegateTarget!=t.parents(q)[0]&&e.delegateTarget!=t.parents(".k-menu-scroll-wrapper,.k-popups-wrapper")[0]||(i._keyTriggered=!1,i.options.openOnClick.rootMenuItems&&i._isRootItem(t.closest($))||i.options.openOnClick.subMenuItems&&!i._isRootItem(t.closest($))||(!(!1===i.options.openOnClick||!1===i.options.openOnClick.rootMenuItems&&i._isRootItem(t.closest($))||!1===i.options.openOnClick.subMenuItems&&!i._isRootItem(t.closest($))||i.clicked)||y||r&&i._isRootItem(t.closest($))||!se(e.currentTarget,e.relatedTarget)&&n&&i.open(t),(!0===i.options.openOnClick&&i.clicked||y)&&t.siblings().each(T(function(e,t){i.close(t,!0)},i))))},_mousedown:function(e){var i=this,t=x(e.currentTarget);(i.options.openOnClick.subMenuItems&&!i._isRootItem(t)||y)&&t.siblings().each(T(function(e,t){i.close(t,!0)},i))},_mouseleave:function(e){var t=x(e.currentTarget),i=t.data(V),n=t.children(G).length||t.children(j).length||i,s=x(window);i&&delete this._openedPopups[i.toString()],t.parentsUntil(G,".k-list-container,.k-calendar-container")[0]?e.stopImmediatePropagation():!1!==this.options.openOnClick&&(this.options.openOnClick.rootMenuItems||!this._isRootItem(t))&&(this.options.openOnClick.subMenuItems||this._isRootItem(t))||y||_e(e)||se(e.currentTarget,e.relatedTarget||e.target)||!n||se(e.currentTarget,C._activeElement())?(C.support.browser.msie&&!e.toElement&&!e.relatedTarget&&!_e(e)||e.clientX<0||e.clientY<0||e.clientY>s.height()||e.clientX>s.width())&&this.close(t):this.close(t,!0)},_mouseenterPopup:function(e){var t=x(e.currentTarget);if(!t.parent().is(G)){var i=(t=t.children("ul")).data(z);i&&(this._openedPopups[i.toString()]=!0)}},_mouseleavePopup:function(e){var t=x(e.currentTarget);!_e(e)&&t.is(G)&&this._closePopups(t.children("ul"))},_closePopups:function(t){var i=this,e=i._overflowWrapper(),n=t.data(z);if(n){delete i._openedPopups[n.toString()];var s=e.find(de(n));setTimeout(function(){if(i.options.openOnClick)i._closeChildPopups(t);else if(x.isEmptyObject(i._openedPopups)){var e=i._innerPopup(t);i._closeParentPopups(e)}else i.close(s,!0)},0)}},_closeChildPopups:function(e){var t=this,i=t._overflowWrapper();x(he(e,i)).each(function(){var e=i.find(de(this.data(z)));t.close(e,!0)})},_innerPopup:function(e){var t=he(e,this._overflowWrapper());return t[t.length-1]||e},_closeParentPopups:function(e){var t=this._overflowWrapper(),i=e.data(z),n=t.find(de(i));for(i=n.parent().data(z),this.close(n,!0);i&&!this._openedPopups[i]&&!n.parent().is(q);)n=t.find(de(i)),this.close(n,!0),i=n.parent().data(z)},_click:function(e){for(var t,i,n,s,r=this,a=r.options,o=x(C.eventTarget(e)),l=o[0],u=o[0]?o[0].nodeName.toUpperCase():"",c="INPUT"==u||"SELECT"==u||"BUTTON"==u||"LABEL"==u,d=o.closest(".k-link"),p=o.closest($),h=p[0],f=d.attr("href"),m=o.attr("href"),g=x("<a href='#' />").attr("href"),_=!!f&&f!==g,v=_&&!!f.match(/^#/),w=!!m&&m!==g,b=r._overflowWrapper();l&&l.parentNode!=h;)l=l.parentNode;if(!x(l).is("div:not(.k-animation-container,.k-list-container)"))if(p.hasClass(U))e.preventDefault();else{if(e.handled||!r._triggerSelect(o,h)||c||e.preventDefault(),e.handled=!0,i=p.children(Y),b){var y=p.data(V);y&&(i=b.find(pe(y)))}if(n=i.is(":visible"),s=a.openOnClick&&n&&r._isRootItem(p),a.closeOnClick&&(!_||v)&&(!i.length||s)){p.removeClass(N).css("height"),r._oldHoverItem=r._findRootParent(p);var k=r._parentsUntil(d,r.element,$);return r._forceClose=!!b,r.close(k),r.clicked=!1,void(-1!="MSPointerUp".indexOf(e.type)&&e.preventDefault())}_&&e.enterKey&&d[0].click(),(r._isRootItem(p)&&!1!==a.openOnClick||a.openOnClick.subMenuItems||C.support.touch||_e(e)&&r._isRootItem(p.closest($)))&&(_||c||w||e.preventDefault(),r.clicked=!0,t=i.is(":visible")?D:S,(a.closeOnClick||t!=D)&&r[t](p))}},_parentsUntil:function(e,t,i){var n=this._overflowWrapper();if(n){var s=function(e,t){var i=[],n=function(e){for(;e.parentNode&&!t.is(e.parentNode);)i.push(e.parentNode),e=e.parentNode},s=e[0]||e;n(s);for(var r=i[i.length-1];x(r).is(G)&&(s=fe(x(r).children("ul"),t)[0]);)i.push(s),n(s),r=i[i.length-1];return i}(e,n),r=[];return x(s).each(function(){var e=x(this);if(e.is(t))return!1;e.is(i)&&r.push(this)}),x(r)}return e.parentsUntil(t,i)},_triggerSelect:function(e,t){var i,n=(e=e.is(".k-link")?e:e.closest(".k-link")).data("selectHandler");n&&(i=this._getEventData(e),n.call(this,i));var s=i&&i.isDefaultPrevented(),r=this._triggerEvent({item:t,type:h});return s||r},_getEventData:function(e){return{sender:this,target:e,_defaultPrevented:!1,preventDefault:function(){this._defaultPrevented=!0},isDefaultPrevented:function(){return this._defaultPrevented}}},_documentClick:function(e){se((this._overflowWrapper()||this.element)[0],e.target)||(this.clicked=!1)},_focus:function(e){var t=e.target,i=this._hoverItem(),n=s();if(t!=this.wrapper[0]&&!x(t).is(":kendoFocusable"))return e.stopPropagation(),x(t).closest(".k-content").closest(".k-menu-group").closest(".k-item").addClass(W),void this.wrapper.focus();n===e.currentTarget&&(i.length?this._moveHover([],i):this._oldHoverItem||this._moveHover([],this.wrapper.children().first()))},_keydown:function(e){var t,i,n,s=this,r=e.keyCode,a=s._oldHoverItem,o=C.support.isRtl(s.wrapper);if(e.target==e.currentTarget||r==l.ESC){if(a||(a=s._oldHoverItem=s._hoverItem()),i=s._itemBelongsToVertival(a),n=s._itemHasChildren(a),s._keyTriggered=!0,r==l.RIGHT)t=s[o?"_itemLeft":"_itemRight"](a,i,n);else if(r==l.LEFT)t=s[o?"_itemRight":"_itemLeft"](a,i,n);else if(r==l.DOWN)t=s._itemDown(a,i,n);else if(r==l.UP)t=s._itemUp(a,i,n);else if(r==l.HOME)s._moveHover(a,a.parent().children().first()),e.preventDefault();else if(r==l.END)s._moveHover(a,a.parent().children().last()),e.preventDefault();else if(r==l.ESC)t=s._itemEsc(a,i);else if(r==l.ENTER||r==l.SPACEBAR)0<(t=a.children(".k-link")).length&&(s._click({target:t[0],preventDefault:function(){},enterKey:!0}),n&&!a.hasClass(U)?(s.open(a),s._moveHover(a,s._childPopupElement(a).children().first())):s._moveHover(a,s._findRootParent(a)));else if(r==l.TAB)return t=s._findRootParent(a),s._moveHover(a,t),void s._checkActiveElement();t&&t[0]&&(e.preventDefault(),e.stopPropagation())}},_hoverItem:function(){return this.wrapper.find(".k-item.k-state-hover,.k-item.k-state-focused").filter(":visible")},_itemBelongsToVertival:function(e){var t=this.wrapper.hasClass("k-menu-vertical");return e.length&&e.parent().hasClass("k-menu-group")||t},_itemHasChildren:function(e){return!!(e&&e.length&&e[0].nodeType)&&(0<e.children(".k-menu-group, div.k-animation-container").length||!!e.data(V)&&!!this._overflowWrapper().children(pe(e.data(V))))},_moveHover:function(e,t){var i=this._ariaId;e.length&&t.length&&e.removeClass(W),t.length&&(t[0].id&&(i=t[0].id),t.addClass(W),this._oldHoverItem=t,i&&(this.element.removeAttr("aria-activedescendant"),x("#"+i).removeAttr("id"),t.attr("id",i),this.element.attr("aria-activedescendant",i)),this._scrollToItem(t))},_findRootParent:function(e){return this._isRootItem(e)?e:this._parentsUntil(e,q,"li.k-item").last()},_isRootItem:function(e){return e.parent().hasClass(I)},_itemRight:function(e,t,i){var n,s,r,a=this;if(t){if(i&&!e.hasClass(U))a.open(e),n=a._childPopupElement(e).children().first();else if("horizontal"==a.options.orientation){if(s=a._findRootParent(e),r=a._overflowWrapper()){var o=me(s,r);a._closeChildPopups(o)}a.close(s),n=s.nextAll(X)}}else(n=e.nextAll(X)).length||(n=e.prevAll(Z)),a.close(e);return n&&!n.length?n=a.wrapper.children(".k-item").first():n||(n=[]),a._moveHover(e,n),n},_itemLeft:function(e,t){var i,n;return t?(i=e.parent().closest(".k-item"),n=this._overflowWrapper(),!i.length&&n&&(i=fe(e.parent(),n)),this.close(i),this._isRootItem(i)&&"horizontal"==this.options.orientation&&(i=i.prevAll(X))):((i=e.prevAll(X)).length||(i=e.nextAll(Z)),this.close(e)),i.length||(i=this.wrapper.children(".k-item").last()),this._moveHover(e,i),i},_itemDown:function(e,t,i){var n;if(t)n=e.nextAll(X);else{if(!i||e.hasClass(U))return;this.open(e),n=this._childPopupElement(e).children().first()}return!n.length&&e.length?n=e.parent().children().first():e.length||(n=this.wrapper.children(".k-item").first()),this._moveHover(e,n),n},_itemUp:function(e,t){var i;if(t)return!(i=e.prevAll(X)).length&&e.length?i=e.parent().children().last():e.length||(i=this.wrapper.children(".k-item").last()),this._moveHover(e,i),i},_scrollToItem:function(e){var t=this;if(t.options.scrollable&&e&&e.length){var i,n=e.parent(),s=!!n.hasClass(I)&&"horizontal"==t.options.orientation,r=s?"scrollLeft":"scrollTop",a=s?C._outerWidth:C._outerHeight,o=n[r](),l=a(e),u=e[0][s?"offsetLeft":"offsetTop"],c=a(n),d=n.siblings(ee),p=d.length?a(d.first()):0;if(o+c<u+l+p?i=u+l-c+p:u-p<o&&(i=u-p),!isNaN(i)){var h={};h[r]=i,n.finish().animate(h,"fast","linear",function(){t._toggleScrollButtons(n,d.first(),d.last(),s)})}}},_itemEsc:function(e,t){var i;return t?(i=e.parent().closest(".k-item"),this.close(i),this._moveHover(e,i),i):e},_childPopupElement:function(e){var t=e.find(".k-menu-group"),i=this._overflowWrapper();return!t.length&&i&&(t=me(e,i)),t},_triggerEvent:function(e){return this.trigger(e.type,{type:e.type,item:e.item})},_focusHandler:function(e){var t=this,i=x(C.eventTarget(e)).closest($);i.hasClass(U)||setTimeout(function(){t._moveHover([],i),i.children(".k-content")[0]&&i.parent().closest(".k-item").removeClass(W)},200)},_animations:function(e){e&&"animation"in e&&!e.animation&&(e.animation={open:{effects:{}},close:{hide:!0,effects:{}}})}});k(we,{renderItem:function(e){e=k({menu:{},group:{}},e);var t=ie.empty,i=e.item;return ie.item(k(e,{image:i.imageUrl?ie.image:t,sprite:i.spriteCssClass?ie.sprite:t,itemWrapper:ie.itemWrapper,renderContent:we.renderContent,arrow:i.items||i.content?ie.arrow:t,subGroup:we.renderGroup},ne))},renderGroup:function(e){return ie.group(k({renderItems:function(e){for(var t="",i=0,n=e.items,s=n?n.length:0,r=k({length:s},e.group);i<s;i++)t+=we.renderItem(k(e,{group:r,item:k({index:i},n[i])}));return t}},e,ne))},renderContent:function(e){return ie.content(k(e,ne))}});var be=we.extend({init:function(e,t){we.fn.init.call(this,e,t),this._marker=C.guid().substring(0,8),this.target=x(this.options.target),this._popup(),this._wire()},_initOverflow:function(e){var t=this;e.scrollable&&!t._overflowWrapper()&&(t._openedPopups={},t._popupsWrapper=(t.element.parent().is(G)?t.element.parent():t.element).wrap("<div class='k-popups-wrapper "+e.orientation+"'></div>").parent(),"horizontal"==t.options.orientation&&ve(t.element),e.appendTo&&e.appendTo.append(t._popupsWrapper),t._initialHeight=t.element[0].style.height,t._initialWidth=t.element[0].style.width)},options:{name:"ContextMenu",filter:null,showOn:"contextmenu",orientation:"vertical",alignToAnchor:!1,target:"body"},events:[S,D,E,O,h],setOptions:function(e){var t=this;we.fn.setOptions.call(t,e),t.target.off(t.showOn+_+t._marker,t._showProxy),t.userEvents&&t.userEvents.destroy(),t.target=x(t.options.target),e.orientation&&t.popup.wrapper[0]&&t.popup.element.unwrap(),t._wire(),we.fn.setOptions.call(this,e)},destroy:function(){this.target.off(this.options.showOn+_+this._marker),L.off(C.support.mousedown+_+this._marker,this._closeProxy),this.userEvents&&this.userEvents.destroy(),we.fn.destroy.call(this)},open:function(e,t){var i=this;if(e=x(e)[0],se(i.element[0],x(e)[0])||i._itemHasChildren(x(e)))we.fn.open.call(i,e);else if(!1===i._triggerEvent({item:i.element,type:S})){if(i.popup.visible()&&i.options.filter&&(i.popup.close(!0),i.popup.element.kendoStop(!0)),t!==b){var n=i._overflowWrapper();if(n){var s=n.offset();e-=s.left,t-=s.top}i.popup.wrapper.hide(),i._configurePopupScrolling(e,t),i.popup.open(e,t)}else i.popup.options.anchor=e||i.popup.anchor||i.target,i.popup.element.kendoStop(!0),i._configurePopupScrolling(),i.popup.open();L.off(i.popup.downEvent,i.popup._mousedownProxy),L.on(C.support.mousedown+_+i._marker,i._closeProxy)}return i},_configurePopupScrolling:function(e,t){var i=this.popup,n="horizontal"==this.options.orientation;this.options.scrollable&&(this._wrapPopupElement(i),i.element.parent().css({position:"",height:""}),i.element.css({visibility:"hidden",display:"",position:""}),n?this._setPopupWidth(i,isNaN(e)?b:{isFixed:!0,x:e,y:t}):this._setPopupHeight(i,isNaN(e)?b:{isFixed:!0,x:e,y:t}),i.element.css({visibility:"",display:"none",position:"absolute"}),this._initPopupScrollButtons(i,n,!0),i.element.siblings(ee).hide())},_setPopupWidth:function(e,t){var i=e.element,n=i.add(i.parent(G));n.width(this._initialWidth||"");var s=e._location(t),r=x(window).width(),a=s.width,o=Math.max(s.left,0),l=t?0:ge(this._overflowWrapper()[0],"scrollLeft"),u=C.getShadows(i),c=r-u.left-u.right;a+o<c+l||n.css({overflow:"hidden",width:c-o+l+"px"})},close:function(){var e=this;se(e.element[0],x(arguments[0])[0])||e._itemHasChildren(arguments[0])?we.fn.close.call(e,arguments[0]):e.popup.visible()&&!1===e._triggerEvent({item:e.element,type:D})&&(e.popup.close(),L.off(C.support.mousedown+_+e._marker,e._closeProxy),e.unbind(h,e._closeTimeoutProxy))},_showHandler:function(e){var t,i=e,n=this,s=n.options,r=x(i.currentTarget);e.event&&((i=e.event).pageX=e.x.location,i.pageY=e.y.location),se(n.element[0],e.relatedTarget||e.target)||((n._eventOrigin=i).preventDefault(),i.stopImmediatePropagation(),n.element.find("."+W).removeClass(W),(s.filter&&r.is(s.filter)||!s.filter)&&(s.alignToAnchor?(n.popup.options.anchor=i.currentTarget,n.open(i.currentTarget)):(n.popup.options.anchor=i.currentTarget,n._targetChild?(t=n.target.offset(),n.open(i.pageX-t.left,i.pageY-t.top)):n.open(i.pageX,i.pageY))))},_closeHandler:function(e){var t=this,i=x(e.relatedTarget||e.target),n=i.closest(t.target.selector)[0]==t.target[0],s=i.closest(K),r=t._itemHasChildren(s),a=t._overflowWrapper(),o=se(t.element[0],i[0])||a&&se(a[0],i[0]),l=3!==(t._eventOrigin=e).which;t.popup.visible()&&(l&&n||!n)&&(t.options.closeOnClick&&!r&&o||!o)&&(o?(this.unbind(h,this._closeTimeoutProxy),t.bind(h,t._closeTimeoutProxy)):t.close())},_wire:function(){var e=this,t=e.options,i=e.target;e._showProxy=T(e._showHandler,e),e._closeProxy=T(e._closeHandler,e),e._closeTimeoutProxy=T(e.close,e),i[0]&&(C.support.mobileOS&&"contextmenu"==t.showOn?(e.userEvents=new C.UserEvents(i,{filter:t.filter,allowSelection:!1}),i.on(t.showOn+_+e._marker,!1),e.userEvents.bind("hold",e._showProxy)):t.filter?i.on(t.showOn+_+e._marker,t.filter,e._showProxy):i.on(t.showOn+_+e._marker,e._showProxy))},_triggerEvent:function(e){var t=x(this.popup.options.anchor)[0],i=this._eventOrigin;return this._eventOrigin=b,this.trigger(e.type,k({type:e.type,item:e.item||this.element[0],target:t},i?{event:i}:{}))},_popup:function(){var e=this,t=e._overflowWrapper();e._triggerProxy=T(e._triggerEvent,e),e.popup=e.element.addClass("k-context-menu").kendoPopup({autosize:!0,anchor:e.target||"body",copyAnchorStyles:e.options.copyAnchorStyles,collision:e.options.popupCollision||"fit",animation:e.options.animation,activate:e._triggerProxy,deactivate:e._triggerProxy,appendTo:t||e.options.appendTo,close:t?function(e){x(he(e.sender.element,t)).each(function(e,t){var i=t.data(R);i&&i.close(!0)})}:x.noop}).data(R),e._targetChild=se(e.target[0],e.popup.element[0])}});e.plugin(we),e.plugin(be)}(window.kendo.jQuery),window.kendo}),("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()})("kendo.draganddrop",["kendo.core","kendo.userevents"],function(){return function(l,e){var n,o=window.kendo,u=o.support,d=window.document,p=l(window),t=o.Class,r=o.ui.Widget,s=o.Observable,a=o.UserEvents,c=l.proxy,f=l.extend,h=o.getOffset,m={},g={},_={},v=o.elementUnderCursor,w="change",i="dragcancel",b="hintDestroyed",y="dragenter",k="dragleave";function x(e,t){return parseInt(e.css(t),10)||0}function C(e,t){return Math.min(Math.max(e,t.min),t.max)}function T(e,t){var i=h(e),n=o._outerWidth,s=o._outerHeight,r=i.left+x(e,"borderLeftWidth")+x(e,"paddingLeft"),a=i.top+x(e,"borderTopWidth")+x(e,"paddingTop");return{x:{min:r,max:r+e.width()-n(t,!0)},y:{min:a,max:a+e.height()-s(t,!0)}}}var S,I=s.extend({init:function(e,t){var i=this,n=e[0];i.capture=!1,n.addEventListener?(l.each(o.eventMap.down.split(" "),function(){n.addEventListener(this,c(i._press,i),!0)}),l.each(o.eventMap.up.split(" "),function(){n.addEventListener(this,c(i._release,i),!0)})):(l.each(o.eventMap.down.split(" "),function(){n.attachEvent(this,c(i._press,i))}),l.each(o.eventMap.up.split(" "),function(){n.attachEvent(this,c(i._release,i))})),s.fn.init.call(i),i.bind(["press","release"],t||{})},captureNext:function(){this.capture=!0},cancelCapture:function(){this.capture=!1},_press:function(e){this.trigger("press"),this.capture&&e.preventDefault()},_release:function(e){this.trigger("release"),this.capture&&(e.preventDefault(),this.cancelCapture())}}),D=s.extend({init:function(e){var t=this;s.fn.init.call(t),t.forcedEnabled=!1,l.extend(t,e),t.scale=1,t.horizontal?(t.measure="offsetWidth",t.scrollSize="scrollWidth",t.axis="x"):(t.measure="offsetHeight",t.scrollSize="scrollHeight",t.axis="y")},makeVirtual:function(){l.extend(this,{virtual:!0,forcedEnabled:!0,_virtualMin:0,_virtualMax:0})},virtualSize:function(e,t){this._virtualMin===e&&this._virtualMax===t||(this._virtualMin=e,this._virtualMax=t,this.update())},outOfBounds:function(e){return e>this.max||e<this.min},forceEnabled:function(){this.forcedEnabled=!0},getSize:function(){return this.container[0][this.measure]},getTotal:function(){return this.element[0][this.scrollSize]},rescale:function(e){this.scale=e},update:function(e){var t=this,i=t.virtual?t._virtualMax:t.getTotal(),n=i*t.scale,s=t.getSize();(0!==i||t.forcedEnabled)&&(t.max=t.virtual?-t._virtualMin:0,t.size=s,t.total=n,t.min=Math.min(t.max,s-n),t.minScale=s/i,t.centerOffset=(n-s)/2,t.enabled=t.forcedEnabled||s<n,e||t.trigger(w,t))}}),F=s.extend({init:function(e){s.fn.init.call(this),this.x=new D(f({horizontal:!0},e)),this.y=new D(f({horizontal:!1},e)),this.container=e.container,this.forcedMinScale=e.minScale,this.maxScale=e.maxScale||100,this.bind(w,e)},rescale:function(e){this.x.rescale(e),this.y.rescale(e),this.refresh()},centerCoordinates:function(){return{x:Math.min(0,-this.x.centerOffset),y:Math.min(0,-this.y.centerOffset)}},refresh:function(){var e=this;e.x.update(),e.y.update(),e.enabled=e.x.enabled||e.y.enabled,e.minScale=e.forcedMinScale||Math.min(e.x.minScale,e.y.minScale),e.fitScale=Math.max(e.x.minScale,e.y.minScale),e.trigger(w)}}),E=s.extend({init:function(e){f(this,e),s.fn.init.call(this)},outOfBounds:function(){return this.dimension.outOfBounds(this.movable[this.axis])},dragMove:function(e){var t=this.dimension,i=this.axis,n=this.movable,s=n[i]+e;t.enabled&&((s<t.min&&e<0||s>t.max&&0<e)&&(e*=this.resistance),n.translateAxis(i,e),this.trigger(w,this))}}),O=t.extend({init:function(e){var c,d,t,p,h=this;f(h,{elastic:!0},e),t=h.elastic?.5:0,p=h.movable,h.x=c=new E({axis:"x",dimension:h.dimensions.x,resistance:t,movable:p}),h.y=d=new E({axis:"y",dimension:h.dimensions.y,resistance:t,movable:p}),h.userEvents.bind(["press","move","end","gesturestart","gesturechange"],{gesturestart:function(e){h.gesture=e,h.offset=h.dimensions.container.offset()},press:function(e){l(e.event.target).closest("a").is("[data-navigate-on-press=true]")&&e.sender.cancel()},gesturechange:function(e){var t,i=h.gesture,n=i.center,s=e.center,r=e.distance/i.distance,a=h.dimensions.minScale,o=h.dimensions.maxScale;p.scale<=a&&r<1&&(r+=.8*(1-r)),p.scale*r>=o&&(r=o/p.scale);var l=p.x+h.offset.left,u=p.y+h.offset.top;t={x:(l-n.x)*r+s.x-l,y:(u-n.y)*r+s.y-u},p.scaleWith(r),c.dragMove(t.x),d.dragMove(t.y),h.dimensions.rescale(p.scale),(h.gesture=e).preventDefault()},move:function(e){e.event.target.tagName.match(/textarea|input/i)||(c.dimension.enabled||d.dimension.enabled?(c.dragMove(e.x.delta),d.dragMove(e.y.delta),e.preventDefault()):e.touch.skip())},end:function(e){e.preventDefault()}})}}),A=u.transitions.prefix+"Transform";S=u.hasHW3D?function(e,t,i){return"translate3d("+e+"px,"+t+"px,0) scale("+i+")"}:function(e,t,i){return"translate("+e+"px,"+t+"px) scale("+i+")"};var M=s.extend({init:function(e){var t=this;s.fn.init.call(t),t.element=l(e),t.element[0].style.webkitTransformOrigin="left top",t.x=0,t.y=0,t.scale=1,t._saveCoordinates(S(t.x,t.y,t.scale))},translateAxis:function(e,t){this[e]+=t,this.refresh()},scaleTo:function(e){this.scale=e,this.refresh()},scaleWith:function(e){this.scale*=e,this.refresh()},translate:function(e){this.x+=e.x,this.y+=e.y,this.refresh()},moveAxis:function(e,t){this[e]=t,this.refresh()},moveTo:function(e){f(this,e),this.refresh()},refresh:function(){var e,t=this,i=t.x,n=t.y;t.round&&(i=Math.round(i),n=Math.round(n)),(e=S(i,n,t.scale))!=t.coordinates&&(o.support.browser.msie&&o.support.browser.version<10?(t.element[0].style.position="absolute",t.element[0].style.left=t.x+"px",t.element[0].style.top=t.y+"px"):t.element[0].style[A]=e,t._saveCoordinates(e),t.trigger(w))},_saveCoordinates:function(e){this.coordinates=e}});function H(e,t){var i,n=t.options.group,s=e[n];if(r.fn.destroy.call(t),1<s.length){for(i=0;i<s.length;i++)if(s[i]==t){s.splice(i,1);break}}else s.length=0,delete e[n]}var P=r.extend({init:function(e,t){r.fn.init.call(this,e,t);var i=this.options.group;i in g?g[i].push(this):g[i]=[this]},events:[y,k,"drop"],options:{name:"DropTarget",group:"default"},destroy:function(){H(g,this)},_trigger:function(e,t){var i=m[this.options.group];if(i)return this.trigger(e,f({},t.event,{draggable:i,dropTarget:t.dropTarget}))},_over:function(e){this._trigger(y,e)},_out:function(e){this._trigger(k,e)},_drop:function(e){var t=m[this.options.group];t&&(t.dropped=!this._trigger("drop",e))}});P.destroyGroup=function(e){var t,i=g[e]||_[e];if(i){for(t=0;t<i.length;t++)r.fn.destroy.call(i[t]);i.length=0,delete g[e],delete _[e]}},P._cache=g;var z=P.extend({init:function(e,t){r.fn.init.call(this,e,t);var i=this.options.group;i in _?_[i].push(this):_[i]=[this]},destroy:function(){H(_,this)},options:{name:"DropTargetArea",group:"default",filter:null}}),V=r.extend({init:function(e,t){var i=this;r.fn.init.call(i,e,t),i._activated=!1,i.userEvents=new a(i.element,{global:!0,allowSelection:!0,filter:i.options.filter,threshold:i.options.distance,start:c(i._start,i),hold:c(i._hold,i),move:c(i._drag,i),end:c(i._end,i),cancel:c(i._cancel,i),select:c(i._select,i)}),i._afterEndHandler=c(i._afterEnd,i),i._captureEscape=c(i._captureEscape,i)},events:["hold","dragstart","drag","dragend",i,b],options:{name:"Draggable",distance:o.support.touch?0:5,group:"default",cursorOffset:null,axis:null,container:null,filter:null,ignore:null,holdToDrag:!1,autoScroll:!1,dropped:!1},cancelHold:function(){this._activated=!1},_captureEscape:function(e){e.keyCode===o.keys.ESC&&(this._trigger(i,{event:e}),this.userEvents.cancel())},_updateHint:function(e){var t,i=this.options,n=this.boundaries,s=i.axis,r=this.options.cursorOffset;t=r?{left:e.x.location+r.left,top:e.y.location+r.top}:(this.hintOffset.left+=e.x.delta,this.hintOffset.top+=e.y.delta,l.extend({},this.hintOffset)),n&&(t.top=C(t.top,n.y),t.left=C(t.left,n.x)),"x"===s?delete t.top:"y"===s&&delete t.left,this.hint.css(t)},_shouldIgnoreTarget:function(e){var t=this.options.ignore;return t&&l(e).is(t)},_select:function(e){this._shouldIgnoreTarget(e.event.target)||e.preventDefault()},_start:function(t){var i=this,e=i.options,n=e.container?l(e.container):null,s=e.hint;if(this._shouldIgnoreTarget(t.touch.initialTouch)||e.holdToDrag&&!i._activated)i.userEvents.cancel();else{if(i.currentTarget=t.target,i.currentTargetOffset=h(i.currentTarget),s){i.hint&&i.hint.stop(!0,!0).remove(),i.hint=o.isFunction(s)?l(s.call(i,i.currentTarget)):s;var r=h(i.currentTarget);i.hintOffset=r,i.hint.css({position:"absolute",zIndex:2e4,left:r.left,top:r.top}).appendTo(d.body),i.angular("compile",function(){i.hint.removeAttr("ng-repeat");for(var e=l(t.target);!e.data("$$kendoScope")&&e.length;)e=e.parent();return{elements:i.hint.get(),scopeFrom:e.data("$$kendoScope")}})}(m[e.group]=i).dropped=!1,n&&(i.boundaries=T(n,i.hint)),l(d).on("keyup",i._captureEscape),i._trigger("dragstart",t)&&(i.userEvents.cancel(),i._afterEnd()),i.userEvents.capture()}},_hold:function(e){this.currentTarget=e.target,this._trigger("hold",e)?this.userEvents.cancel():this._activated=!0},_drag:function(e){e.preventDefault();var t=this._elementUnderCursor(e);if(this.options.autoScroll&&this._cursorElement!==t&&(this._scrollableParent=B(t),this._cursorElement=t),this._lastEvent=e,this._processMovement(e,t),this.options.autoScroll&&this._scrollableParent[0]){var i=N(e.x.location,e.y.location,L(this._scrollableParent));this._scrollCompenstation=l.extend({},this.hintOffset),0===(this._scrollVelocity=i).y&&0===i.x?(clearInterval(this._scrollInterval),this._scrollInterval=null):this._scrollInterval||(this._scrollInterval=setInterval(l.proxy(this,"_autoScroll"),50))}this.hint&&this._updateHint(e)},_processMovement:function(i,e){this._withDropTarget(e,function(e,t){if(e){if(n){if(t===n.targetElement)return;n._trigger(k,f(i,{dropTarget:l(n.targetElement)}))}e._trigger(y,f(i,{dropTarget:l(t)})),n=f(e,{targetElement:t})}else n&&(n._trigger(k,f(i,{dropTarget:l(n.targetElement)})),n=null)}),this._trigger("drag",f(i,{dropTarget:n,elementUnderCursor:e}))},_autoScroll:function(){var e=this._scrollableParent[0],t=this._scrollVelocity,i=this._scrollCompenstation;if(e){var n,s,r=this._elementUnderCursor(this._lastEvent);this._processMovement(this._lastEvent,r);var a=e===R()[0];s=a?(n=d.body.scrollHeight>p.height(),d.body.scrollWidth>p.width()):(n=e.offsetHeight<=e.scrollHeight,e.offsetWidth<=e.scrollWidth);var o=e.scrollTop+t.y,l=n&&0<o&&o<e.scrollHeight,u=e.scrollLeft+t.x,c=s&&0<u&&u<e.scrollWidth;l&&(e.scrollTop+=t.y),c&&(e.scrollLeft+=t.x),this.hint&&a&&(c||l)&&(l&&(i.top+=t.y),c&&(i.left+=t.x),this.hint.css(i))}},_end:function(i){this._withDropTarget(this._elementUnderCursor(i),function(e,t){e&&(e._drop(f({},i,{dropTarget:l(t)})),n=null)}),this._cancel(this._trigger("dragend",i))},_cancel:function(e){var t=this;t._scrollableParent=null,this._cursorElement=null,clearInterval(this._scrollInterval),t._activated=!1,t.hint&&!t.dropped?setTimeout(function(){t.hint.stop(!0,!0),e?t._afterEndHandler():t.hint.animate(t.currentTargetOffset,"fast",t._afterEndHandler)},0):t._afterEnd()},_trigger:function(e,t){return this.trigger(e,f({},t.event,{x:t.x,y:t.y,currentTarget:this.currentTarget,initialTarget:t.touch?t.touch.initialTouch:null,dropTarget:t.dropTarget,elementUnderCursor:t.elementUnderCursor}))},_elementUnderCursor:function(e){var t=v(e),i=this.hint;return i&&function(e,t){try{return l.contains(e,t)||e==t}catch(e){return!1}}(i[0],t)&&(i.hide(),(t=v(e))||(t=v(e)),i.show()),t},_withDropTarget:function(e,t){var i,n=this.options.group,s=g[n],r=_[n];(s&&s.length||r&&r.length)&&((i=function(e,t,i){for(var n,s,r=0,a=t&&t.length,o=i&&i.length;e&&e.parentNode;){for(r=0;r<a;r++)if((n=t[r]).element[0]===e)return{target:n,targetElement:e};for(r=0;r<o;r++)if(s=i[r],l.contains(s.element[0],e)&&u.matchesSelector.call(e,s.options.filter))return{target:s,targetElement:e};e=e.parentNode}}(e,s,r))?t(i.target,i.targetElement):t())},destroy:function(){r.fn.destroy.call(this),this._afterEnd(),this.userEvents.destroy(),this._scrollableParent=null,this._cursorElement=null,clearInterval(this._scrollInterval),this.currentTarget=null},_afterEnd:function(){this.hint&&this.hint.remove(),delete m[this.options.group],this.trigger("destroy"),this.trigger(b),l(d).off("keyup",this._captureEscape)}});function L(e){var t,i,n,s=R()[0];return e[0]===s?{top:i=s.scrollTop,left:n=s.scrollLeft,bottom:i+p.height(),right:n+p.width()}:((t=e.offset()).bottom=t.top+e.height(),t.right=t.left+e.width(),t)}function R(){return l(o.support.browser.edge||o.support.browser.safari?d.body:d.documentElement)}function B(e){var t=R();if(!e||e===d.body||e===d.documentElement)return t;for(var i=l(e)[0];i&&!o.isScrollable(i)&&i!==d.body;)i=i.parentNode;return i===d.body?t:l(i)}function N(e,t,i){var n={x:0,y:0};return e-i.left<50?n.x=-(50-(e-i.left)):i.right-e<50&&(n.x=50-(i.right-e)),t-i.top<50?n.y=-(50-(t-i.top)):i.bottom-t<50&&(n.y=50-(i.bottom-t)),n}o.ui.plugin(P),o.ui.plugin(z),o.ui.plugin(V),o.TapCapture=I,o.containerBoundaries=T,f(o.ui,{Pane:O,PaneDimensions:F,Movable:M}),o.ui.Draggable.utils={autoScrollVelocity:N,scrollableViewPort:L,findScrollableParent:B}}(window.kendo.jQuery),window.kendo}),("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()})("kendo.slider",["kendo.draganddrop"],function(){return function(f,e){var m=window.kendo,s=m.ui.Widget,r=m.ui.Draggable,g=m._outerWidth,_=m._outerHeight,a=f.extend,o=m.format,n=m.parseFloat,l=f.proxy,u=f.isArray,v=Math,c=m.support,t=c.pointers,i=c.msPointers,d="change",p="slide",h=".slider",w="touchstart.slider mousedown"+h,b=t?"pointerdown"+h:i?"MSPointerDown"+h:w,y="touchend.slider mouseup"+h,k=t?"pointerup":i?"MSPointerUp"+h:y,x="moveSelection",C="keydown"+h,T="click"+h,S="mouseover"+h,I="focus"+h,D="blur"+h,F=".k-draghandle",E=".k-slider-track",O=".k-tick",A="k-state-selected",M="k-state-focused",H="k-state-default",P="k-state-disabled",z="disabled",V="tabindex",L=m.getTouches,R=s.extend({init:function(e,t){var i=this;if(s.fn.init.call(i,e,t),t=i.options,i._isHorizontal="horizontal"==t.orientation,i._isRtl=i._isHorizontal&&m.support.isRtl(e),i._position=i._isHorizontal?"left":"bottom",i._sizeFn=i._isHorizontal?"width":"height",i._outerSize=i._isHorizontal?g:_,t.tooltip.format=t.tooltip.enabled&&t.tooltip.format||"{0}",t.smallStep<=0)throw new Error("Kendo UI Slider smallStep must be a positive number.");i._createHtml(),i.wrapper=i.element.closest(".k-slider"),i._trackDiv=i.wrapper.find(E),i._setTrackDivWidth(),i._maxSelection=i._trackDiv[i._sizeFn](),i._sliderItemsInit(),i._reset(),i._tabindex(i.wrapper.find(F)),i[t.enabled?"enable":"disable"]();var n=m.support.isRtl(i.wrapper)?-1:1;i._keyMap={37:N(-1*n*t.smallStep),40:N(-t.smallStep),39:N(1*n*t.smallStep),38:N(+t.smallStep),35:W(t.max),36:W(t.min),33:N(+t.largeStep),34:N(-t.largeStep)},m.notify(i)},events:[d,p],options:{enabled:!0,min:0,max:10,smallStep:1,largeStep:5,orientation:"horizontal",tickPlacement:"both",tooltip:{enabled:!0,format:"{0}"}},_distance:function(){return q(this.options.max-this.options.min)},_resize:function(){this._setTrackDivWidth(),this.wrapper.find(".k-slider-items").remove(),this._maxSelection=this._trackDiv[this._sizeFn](),this._sliderItemsInit(),this._refresh(),this.options.enabled&&this.enable(!0)},_sliderItemsInit:function(){var e=this,t=e.options,i=e._maxSelection/((t.max-t.min)/t.smallStep),n=e._calculateItemsWidth(v.floor(e._distance()/t.smallStep));"none"!=t.tickPlacement&&2<=i&&(f(this.element).parent().find(".k-slider-items").remove(),e._trackDiv.before(function(e,t){var i,n="<ul class='k-reset k-slider-items'>",s=v.floor(q(t/e.smallStep))+1;for(i=0;i<s;i++)n+="<li class='k-tick' role='presentation'>&nbsp;</li>";return n+="</ul>"}(t,e._distance())),e._setItemsWidth(n),e._setItemsTitle()),e._calculateSteps(n),"none"!=t.tickPlacement&&2<=i&&t.largeStep>=t.smallStep&&e._setItemsLargeTick()},getSize:function(){return m.dimensions(this.wrapper)},_setTrackDivWidth:function(){var e=2*parseFloat(this._trackDiv.css(this._isRtl?"right":this._position),10);this._trackDiv[this._sizeFn](this.wrapper[this._sizeFn]()-2-e)},_setItemsWidth:function(e){var t,i=this,n=i.options,s=e.length-1,r=i.wrapper.find(O),a=0,o=r.length,l=0;for(t=0;t<o-2;t++)f(r[t+1])[i._sizeFn](e[t]);if(i._isHorizontal?(f(r[0]).addClass("k-first")[i._sizeFn](e[s-1]),f(r[s]).addClass("k-last")[i._sizeFn](e[s])):(f(r[s]).addClass("k-first")[i._sizeFn](e[s]),f(r[0]).addClass("k-last")[i._sizeFn](e[s-1])),i._distance()%n.smallStep!=0&&!i._isHorizontal){for(t=0;t<e.length;t++)l+=e[t];a=i._maxSelection-l,a+=parseFloat(i._trackDiv.css(i._position),10)+2,i.wrapper.find(".k-slider-items").css("padding-top",a)}},_setItemsTitle:function(){for(var e=this.options,t=this.wrapper.find(O),i=e.min,n=t.length,s=this._isHorizontal&&!this._isRtl?0:n-1,r=this._isHorizontal&&!this._isRtl?n:-1,a=this._isHorizontal&&!this._isRtl?1:-1;s-r!=0;s+=a)f(t[s]).attr("title",o(e.tooltip.format,q(i))),i+=e.smallStep},_setItemsLargeTick:function(){var e,t=this.options,i=this.wrapper.find(O),n=0;if(Y(t.largeStep)%Y(t.smallStep)==0||3<=this._distance()/t.largeStep)for(this._isHorizontal||this._isRtl||(i=f.makeArray(i).reverse()),n=0;n<i.length;n++){e=f(i[n]);var s=q(Y(this._values[n]-this.options.min));s%Y(t.smallStep)==0&&s%Y(t.largeStep)==0&&(e.addClass("k-tick-large").html("<span class='k-label'>"+e.attr("title")+"</span>"),0!==n&&n!==i.length-1&&e.css("line-height",e[this._sizeFn]()+"px"))}},_calculateItemsWidth:function(e){var t,i,n,s=this.options,r=parseFloat(this._trackDiv.css(this._sizeFn))+1,a=this._distance(),o=r/a;for(0<a/s.smallStep-v.floor(a/s.smallStep)&&(r-=a%s.smallStep*o),t=r/e,i=[],n=0;n<e-1;n++)i[n]=t;return i[e-1]=i[e]=t/2,this._roundWidths(i)},_roundWidths:function(e){var t,i=0,n=e.length;for(t=0;t<n;t++)i+=e[t]-v.floor(e[t]),e[t]=v.floor(e[t]);return i=v.round(i),this._addAdditionalSize(i,e)},_addAdditionalSize:function(e,t){if(0===e)return t;var i,n=parseFloat(t.length-1)/parseFloat(1==e?e:e-1);for(i=0;i<e;i++)t[parseInt(v.round(n*i),10)]+=1;return t},_calculateSteps:function(e){var t,i=this,n=i.options,s=n.min,r=0,a=i._distance(),o=v.ceil(a/n.smallStep),l=1;if(o+=a/n.smallStep%1==0?1:0,e.splice(0,0,2*e[o-2]),e.splice(o-1,1,2*e.pop()),i._pixelSteps=[r],i._values=[s],0!==o){for(;l<o;)r+=(e[l-1]+e[l])/2,i._pixelSteps[l]=r,s+=n.smallStep,i._values[l]=q(s),l++;t=a%n.smallStep==0?o-1:o,i._pixelSteps[t]=i._maxSelection,i._values[t]=n.max,i._isRtl&&(i._pixelSteps.reverse(),i._values.reverse())}},_getValueFromPosition:function(e,t){var i,n=this,s=n.options,r=v.max(s.smallStep*(n._maxSelection/n._distance()),0),a=0,o=r/2;if(n._isHorizontal?(a=e-t.startPoint,n._isRtl&&(a=n._maxSelection-a)):a=t.startPoint-e,n._maxSelection-(parseInt(n._maxSelection%r,10)-3)/2<a)return s.max;for(i=0;i<n._pixelSteps.length;i++)if(v.abs(n._pixelSteps[i]-a)-1<=o)return q(n._values[i])},_getFormattedValue:function(e,t){var i,n,s,r=this.options.tooltip;return u(e)?(n=e[0],s=e[1]):t&&t.type&&(n=t.selectionStart,s=t.selectionEnd),t&&(i=t.tooltipTemplate),!i&&r.template&&(i=m.template(r.template)),u(e)||t&&t.type?i?i({selectionStart:n,selectionEnd:s}):(n=o(r.format,n))+" - "+(s=o(r.format,s)):(t&&(t.val=e),i?i({value:e}):o(r.format,e))},_getDraggableArea:function(){var e=m.getOffset(this._trackDiv);return{startPoint:this._isHorizontal?e.left:e.top+this._maxSelection,endPoint:this._isHorizontal?e.left+this._maxSelection:e.top}},_createHtml:function(){var e,t,i,n,s,r,a,o,l,u=this.element,c=this.options,d=u.find("input");2==d.length?(d.eq(0).prop("value",U(c.selectionStart)),d.eq(1).prop("value",U(c.selectionEnd))):u.prop("value",U(c.value)),u.wrap((i=c,n=u,s=this._isHorizontal,r=s?" k-slider-horizontal":" k-slider-vertical",a=i.style?i.style:n.attr("style"),o=n.attr("class")?" "+n.attr("class"):"",l="","bottomRight"==i.tickPlacement?l=" k-slider-bottomright":"topLeft"==i.tickPlacement&&(l=" k-slider-topleft"),"<div class='k-widget k-slider"+r+o+"'"+(a=a?" style='"+a+"'":"")+"><div class='k-slider-wrap"+(i.showButtons?" k-slider-buttons":"")+l+"'></div></div>")).hide(),c.showButtons&&u.before(B(c,"increase",this._isHorizontal,this._isRtl)).before(B(c,"decrease",this._isHorizontal,this._isRtl)),u.before((e=c,"<div class='k-slider-track'><div class='k-slider-selection'>\x3c!-- --\x3e</div><a href='#' class='k-draghandle' title='"+(2==(t=u.is("input")?1:2)?e.leftDragHandleTitle:e.dragHandleTitle)+"' role='slider' aria-valuemin='"+e.min+"' aria-valuemax='"+e.max+"' aria-valuenow='"+(1<t?e.selectionStart||e.min:e.value||e.min)+"'>Drag</a>"+(1<t?"<a href='#' class='k-draghandle' title='"+e.rightDragHandleTitle+"'role='slider' aria-valuemin='"+e.min+"' aria-valuemax='"+e.max+"' aria-valuenow='"+(e.selectionEnd||e.max)+"'>Drag</a>":"")+"</div>"))},_focus:function(e){var t=this,i=e.target,n=t.value(),s=t._drag;s||(i==t.wrapper.find(F).eq(0)[0]?(s=t._firstHandleDrag,t._activeHandle=0):(s=t._lastHandleDrag,t._activeHandle=1),n=n[t._activeHandle]),f(i).addClass(M+" "+A),s&&((t._activeHandleDrag=s).selectionStart=t.options.selectionStart,s.selectionEnd=t.options.selectionEnd,s._updateTooltip(n))},_focusWithMouse:function(e){e=f(e);var t=this,i=e.is(F)?e.index():0;window.setTimeout(function(){t.wrapper.find(F)[2==i?1:0].focus()},1),t._setTooltipTimeout()},_blur:function(e){var t=this._activeHandleDrag;f(e.target).removeClass(M+" "+A),t&&(t._removeTooltip(),delete this._activeHandleDrag,delete this._activeHandle)},_setTooltipTimeout:function(){var t=this;t._tooltipTimeout=window.setTimeout(function(){var e=t._drag||t._activeHandleDrag;e&&e._removeTooltip()},300)},_clearTooltipTimeout:function(){window.clearTimeout(this._tooltipTimeout);var e=this._drag||this._activeHandleDrag;e&&e.tooltipDiv&&e.tooltipDiv.stop(!0,!1).css("opacity",1)},_reset:function(){var e=this.element,t=e.attr("form"),i=t?f("#"+t):e.closest("form");i[0]&&(this._form=i.on("reset",l(this._formResetHandler,this)))},min:function(e){if(!e)return this.options.min;this.setOptions({min:e})},max:function(e){if(!e)return this.options.max;this.setOptions({max:e})},setOptions:function(e){s.fn.setOptions.call(this,e),this._sliderItemsInit(),this._refresh()},destroy:function(){this._form&&this._form.off("reset",this._formResetHandler),s.fn.destroy.call(this)}});function B(e,t,i,n){var s="";return s=i?!n&&"increase"==t||n&&"increase"!=t?"k-i-arrow-60-right":"k-i-arrow-60-left":"increase"==t?"k-i-arrow-60-up":"k-i-arrow-60-down","<a class='k-button k-button-"+t+"' title='"+e[t+"ButtonTitle"]+"' aria-label='"+e[t+"ButtonTitle"]+"'><span class='k-icon "+s+"'></span></a>"}function N(t){return function(e){return e+t}}function W(e){return function(){return e}}function U(e){return(e+"").replace(".",m.cultures.current.numberFormat["."])}function q(e){var t,i,n,s;return e=parseFloat(e,10),n=e.toString(),s=0,(n=n.split("."))[1]&&(s=n[1].length),t=s=10<s?10:s,i=v.pow(10,t||0),v.round(e*i)/i}function j(e,t){var i=n(e.getAttribute(t));return null===i&&(i=void 0),i}function G(e){return void 0!==e}function Y(e){return 1e4*e}var $=R.extend({init:function(e,t){var i;e.type="text",t=a({},{value:j(e,"value"),min:j(e,"min"),max:j(e,"max"),smallStep:j(e,"step")},t),e=f(e),t&&void 0===t.enabled&&(t.enabled=!e.is("[disabled]")),R.fn.init.call(this,e,t),G((t=this.options).value)&&null!==t.value||(t.value=t.min,e.prop("value",U(t.min))),t.value=v.max(v.min(t.value,t.max),t.min),i=this.wrapper.find(F),this._selection=new $.Selection(i,this,t),this._drag=new $.Drag(i,"",this,t)},options:{name:"Slider",showButtons:!0,increaseButtonTitle:"Increase",decreaseButtonTitle:"Decrease",dragHandleTitle:"drag",tooltip:{format:"{0:#,#.##}"},value:null},enable:function(e){var t,i,r=this,n=r.options;if(r.disable(),!1!==e){if(r.wrapper.removeClass(P).addClass(H),r.wrapper.find("input").removeAttr(z),t=function(e){var t=L(e)[0];if(t){var i=r._isHorizontal?t.location.pageX:t.location.pageY,n=r._getDraggableArea(),s=f(e.target);s.hasClass("k-draghandle")?s.addClass(M+" "+A):(r._update(r._getValueFromPosition(i,n)),r._focusWithMouse(e.target),r._drag.dragstart(e),e.preventDefault())}},r.wrapper.find(O+", "+E).on(b,t).end().on(b,function(){f(document.documentElement).one("selectstart",m.preventDefault)}).on(k,function(){r._drag._end()}),r.wrapper.find(F).attr(V,0).on(y,function(){r._setTooltipTimeout()}).on(T,function(e){r._focusWithMouse(e.target),e.preventDefault()}).on(I,l(r._focus,r)).on(D,l(r._blur,r)),i=l(function(e){var t=r._nextValueByIndex(r._valueIndex+1*e);r._setValueInRange(t),r._drag._updateTooltip(t)},r),n.showButtons){var s=l(function(e,t){this._clearTooltipTimeout(),(1===e.which||c.touch&&0===e.which)&&(i(t),this.timeout=setTimeout(l(function(){this.timer=setInterval(function(){i(t)},60)},this),200))},r);r.wrapper.find(".k-button").on(y,l(function(e){this._clearTimer(),r._focusWithMouse(e.target)},r)).on(S,function(e){f(e.currentTarget).addClass("k-state-hover")}).on("mouseout"+h,l(function(e){f(e.currentTarget).removeClass("k-state-hover"),this._clearTimer()},r)).eq(0).on(w,l(function(e){s(e,1)},r)).click(!1).end().eq(1).on(w,l(function(e){s(e,-1)},r)).click(m.preventDefault)}r.wrapper.find(F).off(C,!1).on(C,l(this._keydown,r)),n.enabled=!0}},disable:function(){this.wrapper.removeClass(H).addClass(P),f(this.element).prop(z,z),this.wrapper.find(".k-button").off(w).on(w,function(e){e.preventDefault(),f(this).addClass("k-state-active")}).off(y).on(y,function(e){e.preventDefault(),f(this).removeClass("k-state-active")}).off("mouseleave"+h).on("mouseleave"+h,m.preventDefault).off(S).on(S,m.preventDefault),this.wrapper.find(O+", "+E).off(b).off(k),this.wrapper.find(F).attr(V,-1).off(y).off(C).off(T).off(I).off(D),this.options.enabled=!1},_update:function(e){var t=this.value()!=e;this.value(e),t&&this.trigger(d,{value:this.options.value})},value:function(e){var t=this.options;if(e=q(e),isNaN(e))return t.value;e>=t.min&&e<=t.max&&t.value!=e&&(this.element.prop("value",U(e)),t.value=e,this._refreshAriaAttr(e),this._refresh())},_refresh:function(){this.trigger(x,{value:this.options.value})},_refreshAriaAttr:function(e){var t,i=this._drag;t=i&&i._tooltipDiv?i._tooltipDiv.text():this._getFormattedValue(e,null),this.wrapper.find(F).attr("aria-valuenow",e).attr("aria-valuetext",t)},_clearTimer:function(){clearTimeout(this.timeout),clearInterval(this.timer)},_keydown:function(e){e.keyCode in this._keyMap&&(this._clearTooltipTimeout(),this._setValueInRange(this._keyMap[e.keyCode](this.options.value)),this._drag._updateTooltip(this.value()),e.preventDefault())},_setValueInRange:function(e){var t=this.options;e=q(e),isNaN(e)?this._update(t.min):(e=v.max(v.min(e,t.max),t.min),this._update(e))},_nextValueByIndex:function(e){var t=this._values.length;return this._isRtl&&(e=t-1-e),this._values[v.max(0,v.min(e,t-1))]},_formResetHandler:function(){var t=this,i=t.options.min;setTimeout(function(){var e=t.element[0].value;t.value(""===e||isNaN(e)?i:e)})},destroy:function(){R.fn.destroy.call(this),this.wrapper.off(h).find(".k-button").off(h).end().find(F).off(h).end().find(O+", "+E).off(h).end(),this._drag.draggable.destroy(),this._drag._removeTooltip(!0)}});$.Selection=function(o,l,u){function t(e){var t=e-u.min,i=l._valueIndex=v.ceil(q(t/u.smallStep)),n=parseInt(l._pixelSteps[i],10),s=l._trackDiv.find(".k-slider-selection"),r=parseInt(l._outerSize(o)/2,10),a=l._isRtl?2:0;s[l._sizeFn](l._isRtl?l._maxSelection-n:n),o.css(l._position,n-r-a)}t(u.value),l.bind([p,x],function(e){t(parseFloat(e.value,10))}),l.bind(d,function(e){t(parseFloat(e.sender.value(),10))})},$.Drag=function(e,t,i,n){var s=this;s.owner=i,s.options=n,s.element=e,s.type=t,s.draggable=new r(e,{distance:0,dragstart:l(s._dragstart,s),drag:l(s.drag,s),dragend:l(s.dragend,s),dragcancel:l(s.dragcancel,s)}),e.click(!1),e.on("dragstart",function(e){e.preventDefault()})},$.Drag.prototype={dragstart:function(e){(this.owner._activeDragHandle=this).draggable.userEvents.cancel(),this._dragstart(e),this.dragend()},_dragstart:function(e){var t=this,i=t.owner,n=t.options;n.enabled?(this.owner._activeDragHandle=this,i.element.off(S),i.wrapper.find("."+M).removeClass(M+" "+A),t.element.addClass(M+" "+A),f(document.documentElement).css("cursor","pointer"),t.dragableArea=i._getDraggableArea(),t.step=v.max(n.smallStep*(i._maxSelection/i._distance()),0),t.type?(t.selectionStart=n.selectionStart,t.selectionEnd=n.selectionEnd,i._setZIndex(t.type)):t.oldVal=t.val=n.value,t._removeTooltip(!0),t._createTooltip()):e.preventDefault()},_createTooltip:function(){var e,t=this,i=t.owner,n=t.options.tooltip,s="",r=f(window);n.enabled&&(n.template&&(t.tooltipTemplate=m.template(n.template)),f(".k-slider-tooltip").remove(),t.tooltipDiv=f("<div class='k-widget k-tooltip k-slider-tooltip'>\x3c!-- --\x3e</div>").appendTo(document.body),s=i._getFormattedValue(t.val||i.value(),t),t.type||(e="k-callout-"+(i._isHorizontal?"s":"e"),t.tooltipInnerDiv="<div class='k-callout "+e+"'>\x3c!-- --\x3e</div>",s+=t.tooltipInnerDiv),t.tooltipDiv.html(s),t._scrollOffset={top:r.scrollTop(),left:r.scrollLeft()},t.moveTooltip())},drag:function(e){var t,i=this,n=i.owner,s=e.x.location,r=e.y.location,a=i.dragableArea.startPoint,o=i.dragableArea.endPoint;e.preventDefault(),n._isHorizontal?n._isRtl?i.val=i.constrainValue(s,a,o,s<o):i.val=i.constrainValue(s,a,o,o<=s):i.val=i.constrainValue(r,o,a,r<=o),i.oldVal!=i.val&&(i.oldVal=i.val,t=i.type?("firstHandle"==i.type?i.val<i.selectionEnd?i.selectionStart=i.val:i.selectionStart=i.selectionEnd=i.val:i.val>i.selectionStart?i.selectionEnd=i.val:i.selectionStart=i.selectionEnd=i.val,{values:[i.selectionStart,i.selectionEnd],value:[i.selectionStart,i.selectionEnd]}):{value:i.val},n.trigger(p,t)),i._updateTooltip(i.val)},_updateTooltip:function(e){var t="";this.options.tooltip.enabled&&(this.tooltipDiv||this._createTooltip(),t=this.owner._getFormattedValue(q(e),this),this.type||(t+=this.tooltipInnerDiv),this.tooltipDiv.html(t),this.moveTooltip())},dragcancel:function(){return this.owner._refresh(),f(document.documentElement).css("cursor",""),this._end()},dragend:function(){var e=this.owner;return f(document.documentElement).css("cursor",""),this.type?e._update(this.selectionStart,this.selectionEnd):(e._update(this.val),this.draggable.userEvents._disposeAll()),this.draggable.userEvents.cancel(),this._end()},_end:function(){var e=this.owner;return e._focusWithMouse(this.element),e.element.on(S),!1},_removeTooltip:function(e){var t=this,i=t.owner;t.tooltipDiv&&i.options.tooltip.enabled&&i.options.enabled&&(e?(t.tooltipDiv.remove(),t.tooltipDiv=null):t.tooltipDiv.fadeOut("slow",function(){f(this).remove(),t.tooltipDiv=null}))},moveTooltip:function(){var e,t,i,n,s=this,r=s.owner,a=0,o=0,l=s.element,u=m.getOffset(l),c=f(window),d=s.tooltipDiv.find(".k-callout"),p=g(s.tooltipDiv),h=_(s.tooltipDiv);n=s.type?(e=r.wrapper.find(F),u=m.getOffset(e.eq(0)),t=m.getOffset(e.eq(1)),o=r._isHorizontal?(a=t.top,u.left+(t.left-u.left)/2):(a=u.top+(t.top-u.top)/2,t.left),g(e.eq(0))+16):(a=u.top,o=u.left,g(l)+16),r._isHorizontal?(o-=parseInt((p-r._outerSize(l))/2,10),a-=h+8+(d.length?d.height():0)):(a-=parseInt((h-r._outerSize(l))/2,10),o-=p+8+(d.length?d.width():0)),r._isHorizontal?(a+=i=s._flip(a,h,n,_(c)+s._scrollOffset.top),o+=s._fit(o,p,g(c)+s._scrollOffset.left)):(i=s._flip(o,p,n,g(c)+s._scrollOffset.left),a+=s._fit(a,h,_(c)+s._scrollOffset.top),o+=i),0<i&&d&&(d.removeClass(),d.addClass("k-callout k-callout-"+(r._isHorizontal?"n":"w"))),s.tooltipDiv.css({top:a,left:o})},_fit:function(e,t,i){var n=0;return i<e+t&&(n=i-(e+t)),e<0&&(n=-e),n},_flip:function(e,t,i,n){var s=0;return n<e+t&&(s+=-(i+t)),e+s<0&&(s+=i+t),s},constrainValue:function(e,t,i,n){return t<e&&e<i?this.owner._getValueFromPosition(e,this.dragableArea):n?this.options.max:this.options.min}},m.ui.plugin($);var K=R.extend({init:function(e,t){var i=f(e).find("input"),n=i.eq(0)[0],s=i.eq(1)[0];n.type="text",s.type="text",t&&t.showButtons&&(window.console&&window.console.warn("showbuttons option is not supported for the range slider, ignoring"),t.showButtons=!1),(t=a({},{selectionStart:j(n,"value"),min:j(n,"min"),max:j(n,"max"),smallStep:j(n,"step")},{selectionEnd:j(s,"value"),min:j(s,"min"),max:j(s,"max"),smallStep:j(s,"step")},t))&&void 0===t.enabled&&(t.enabled=!i.is("[disabled]")),R.fn.init.call(this,e,t),G((t=this.options).selectionStart)&&null!==t.selectionStart||(t.selectionStart=t.min,i.eq(0).prop("value",U(t.min))),G(t.selectionEnd)&&null!==t.selectionEnd||(t.selectionEnd=t.max,i.eq(1).prop("value",U(t.max)));var r=this.wrapper.find(F);this._selection=new K.Selection(r,this,t),this._firstHandleDrag=new $.Drag(r.eq(0),"firstHandle",this,t),this._lastHandleDrag=new $.Drag(r.eq(1),"lastHandle",this,t)},options:{name:"RangeSlider",leftDragHandleTitle:"drag",rightDragHandleTitle:"drag",tooltip:{format:"{0:#,#.##}"},selectionStart:null,selectionEnd:null},enable:function(e){var t,u=this,c=u.options;u.disable(),!1!==e&&(u.wrapper.removeClass(P).addClass(H),u.wrapper.find("input").removeAttr(z),t=function(e){var t=L(e)[0];if(t){var i,n,s,r=u._isHorizontal?t.location.pageX:t.location.pageY,a=u._getDraggableArea(),o=u._getValueFromPosition(r,a),l=f(e.target);if(l.hasClass("k-draghandle"))return u.wrapper.find("."+M).removeClass(M+" "+A),void l.addClass(M+" "+A);(s=o<c.selectionStart?(i=o,n=c.selectionEnd,u._firstHandleDrag):o>u.selectionEnd?(i=c.selectionStart,n=o,u._lastHandleDrag):o-c.selectionStart<=c.selectionEnd-o?(i=o,n=c.selectionEnd,u._firstHandleDrag):(i=c.selectionStart,n=o,u._lastHandleDrag)).dragstart(e),u._setValueInRange(i,n),u._focusWithMouse(s.element)}},u.wrapper.find(O+", "+E).on(b,t).end().on(b,function(){f(document.documentElement).one("selectstart",m.preventDefault)}).on(k,function(){u._activeDragHandle&&u._activeDragHandle._end()}),u.wrapper.find(F).attr(V,0).on(y,function(){u._setTooltipTimeout()}).on(T,function(e){u._focusWithMouse(e.target),e.preventDefault()}).on(I,l(u._focus,u)).on(D,l(u._blur,u)),u.wrapper.find(F).off(C,m.preventDefault).eq(0).on(C,l(function(e){this._keydown(e,"firstHandle")},u)).end().eq(1).on(C,l(function(e){this._keydown(e,"lastHandle")},u)),u.options.enabled=!0)},disable:function(){this.wrapper.removeClass(H).addClass(P),this.wrapper.find("input").prop(z,z),this.wrapper.find(O+", "+E).off(b).off(k),this.wrapper.find(F).attr(V,-1).off(y).off(C).off(T).off(I).off(D),this.options.enabled=!1},_keydown:function(e,t){var i,n,s,r=this,a=r.options.selectionStart,o=r.options.selectionEnd;e.keyCode in r._keyMap&&(r._clearTooltipTimeout(),"firstHandle"==t?(s=r._activeHandleDrag=r._firstHandleDrag,o<(a=r._keyMap[e.keyCode](a))&&(o=a)):(s=r._activeHandleDrag=r._lastHandleDrag,(o=r._keyMap[e.keyCode](o))<a&&(a=o)),r._setValueInRange(q(a),q(o)),i=Math.max(a,r.options.selectionStart),n=Math.min(o,r.options.selectionEnd),s.selectionEnd=Math.max(n,r.options.selectionStart),s.selectionStart=Math.min(i,r.options.selectionEnd),s._updateTooltip(r.value()[r._activeHandle]),e.preventDefault())},_update:function(e,t){var i=this.value(),n=i[0]!=e||i[1]!=t;this.value([e,t]),n&&this.trigger(d,{values:[e,t],value:[e,t]})},value:function(e){return e&&e.length?this._value(e[0],e[1]):this._value()},_value:function(e,t){var i=this.options,n=i.selectionStart,s=i.selectionEnd;if(isNaN(e)&&isNaN(t))return[n,s];e=q(e),t=q(t),e>=i.min&&e<=i.max&&t>=i.min&&t<=i.max&&e<=t&&(n==e&&s==t||(this.element.find("input").eq(0).prop("value",U(e)).end().eq(1).prop("value",U(t)),i.selectionStart=e,i.selectionEnd=t,this._refresh(),this._refreshAriaAttr(e,t)))},values:function(e,t){return u(e)?this._value(e[0],e[1]):this._value(e,t)},_refresh:function(){var e=this.options;this.trigger(x,{values:[e.selectionStart,e.selectionEnd],value:[e.selectionStart,e.selectionEnd]}),e.selectionStart==e.max&&e.selectionEnd==e.max&&this._setZIndex("firstHandle")},_refreshAriaAttr:function(e,t){var i,n=this.wrapper.find(F),s=this._activeHandleDrag;i=this._getFormattedValue([e,t],s),n.eq(0).attr("aria-valuenow",e),n.eq(1).attr("aria-valuenow",t),n.attr("aria-valuetext",i)},_setValueInRange:function(e,t){var i=this.options;e=v.max(v.min(e,i.max),i.min),t=v.max(v.min(t,i.max),i.min),e==i.max&&t==i.max&&this._setZIndex("firstHandle"),this._update(v.min(e,t),v.max(e,t))},_setZIndex:function(t){this.wrapper.find(F).each(function(e){f(this).css("z-index","firstHandle"==t?1-e:e)})},_formResetHandler:function(){var n=this,s=n.options;setTimeout(function(){var e=n.element.find("input"),t=e[0].value,i=e[1].value;n.values(""===t||isNaN(t)?s.min:t,""===i||isNaN(i)?s.max:i)})},destroy:function(){R.fn.destroy.call(this),this.wrapper.off(h).find(O+", "+E).off(h).end().find(F).off(h),this._firstHandleDrag.draggable.destroy(),this._lastHandleDrag.draggable.destroy()}});K.Selection=function(f,m,g){function t(e){var t,i,n,s,r,a=(e=e||[])[0]-g.min,o=e[1]-g.min,l=v.ceil(q(a/g.smallStep)),u=v.ceil(q(o/g.smallStep)),c=m._pixelSteps[l],d=m._pixelSteps[u],p=parseInt(m._outerSize(f.eq(0))/2,10),h=m._isRtl?2:0;f.eq(0).css(m._position,c-p-h).end().eq(1).css(m._position,d-p-h),t=c,i=d,r=m._trackDiv.find(".k-slider-selection"),n=v.abs(t-i),r[m._sizeFn](n),m._isRtl?(s=v.max(t,i),r.css("right",m._maxSelection-s-1)):(s=v.min(t,i),r.css(m._position,s-1))}t(m.value()),m.bind([d,p,x],function(e){t(e.values)})},m.ui.plugin(K)}(window.kendo.jQuery),window.kendo}),("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()})("kendo.mobile.scroller",["kendo.fx","kendo.draganddrop"],function(){return p=window.kendo.jQuery,h=window.kendo,e=h.mobile,t=h.effects,i=e.ui,f=p.proxy,m=p.extend,g=i.Widget,n=h.Class,_=h.ui.Movable,v=h.ui.Pane,w=h.ui.PaneDimensions,s=t.Transition,r=t.Animation,b=Math.abs,a="km-scroller-release",o="km-scroller-refresh",y="change",k=r.extend({init:function(e){r.fn.init.call(this),m(this,e),this.userEvents.bind("gestureend",f(this.start,this)),this.tapCapture.bind("press",f(this.cancel,this))},enabled:function(){return this.movable.scale<this.dimensions.minScale},done:function(){return this.dimensions.minScale-this.movable.scale<.01},tick:function(){var e=this.movable;e.scaleWith(1.1),this.dimensions.rescale(e.scale)},onEnd:function(){var e=this.movable;e.scaleTo(this.dimensions.minScale),this.dimensions.rescale(e.scale)}}),l=r.extend({init:function(e){var t=this;r.fn.init.call(t),m(t,e,{transition:new s({axis:e.axis,movable:e.movable,onEnd:function(){t._end()}})}),t.tapCapture.bind("press",function(){t.cancel()}),t.userEvents.bind("end",f(t.start,t)),t.userEvents.bind("gestureend",f(t.start,t)),t.userEvents.bind("tap",f(t.onEnd,t))},onCancel:function(){this.transition.cancel()},freeze:function(e){this.cancel(),this._moveTo(e)},onEnd:function(){this.paneAxis.outOfBounds()?this._snapBack():this._end()},done:function(){return b(this.velocity)<1},start:function(e){var t;this.dimension.enabled&&(this.paneAxis.outOfBounds()?this._snapBack():(t=2===e.touch.id?0:e.touch[this.axis].velocity,this.velocity=Math.max(Math.min(t*this.velocityMultiplier,55),-55),this.tapCapture.captureNext(),r.fn.start.call(this)))},tick:function(){var e=this,t=e.dimension,i=e.paneAxis.outOfBounds()?.5:e.friction,n=e.velocity*=i,s=e.movable[e.axis]+n;!e.elastic&&t.outOfBounds(s)&&(s=Math.max(Math.min(s,t.max),t.min),e.velocity=0),e.movable.moveAxis(e.axis,s)},_end:function(){this.tapCapture.cancelCapture(),this.end()},_snapBack:function(){var e=this.dimension,t=this.movable[this.axis]>e.max?e.max:e.min;this._moveTo(t)},_moveTo:function(e){this.transition.moveTo({location:e,duration:500,ease:s.easeOutExpo})}}),x=r.extend({init:function(e){h.effects.Animation.fn.init.call(this),m(this,e,{origin:{},destination:{},offset:{}})},tick:function(){this._updateCoordinates(),this.moveTo(this.origin)},done:function(){return b(this.offset.y)<5&&b(this.offset.x)<5},onEnd:function(){this.moveTo(this.destination),this.callback&&this.callback.call()},setCoordinates:function(e,t){this.offset={},this.origin=e,this.destination=t},setCallback:function(e){e&&h.isFunction(e)?this.callback=e:e=void 0},_updateCoordinates:function(){this.offset={x:(this.destination.x-this.origin.x)/4,y:(this.destination.y-this.origin.y)/4},this.origin={y:this.origin.y+this.offset.y,x:this.origin.x+this.offset.x}}}),u=n.extend({init:function(e){var t="x"===e.axis,i=p('<div class="km-touch-scrollbar km-'+(t?"horizontal":"vertical")+'-scrollbar" />');m(this,e,{element:i,elementSize:0,movable:new _(i),scrollMovable:e.movable,alwaysVisible:e.alwaysVisible,size:t?"width":"height"}),this.scrollMovable.bind(y,f(this.refresh,this)),this.container.append(i),e.alwaysVisible&&this.show()},refresh:function(){var e=this.axis,t=this.dimension,i=t.size,n=this.scrollMovable,s=i/t.total,r=Math.round(-n[e]*s),a=Math.round(i*s);1<=s?this.element.css("display","none"):this.element.css("display",""),i<r+a?a=i-r:r<0&&(a+=r,r=0),this.elementSize!=a&&(this.element.css(this.size,a+"px"),this.elementSize=a),this.movable.moveAxis(e,r)},show:function(){this.element.css({opacity:.7,visibility:"visible"})},hide:function(){this.alwaysVisible||this.element.css({opacity:0})}}),c=g.extend({init:function(e,t){var r=this;if(g.fn.init.call(r,e,t),e=r.element,r._native=r.options.useNative&&h.support.hasNativeScrolling,r._native)return e.addClass("km-native-scroller").prepend('<div class="km-scroll-header"/>'),void m(r,{scrollElement:e,fixedContainer:e.children().first()});e.css("overflow","hidden").addClass("km-scroll-wrapper").wrapInner('<div class="km-scroll-container"/>').prepend('<div class="km-scroll-header"/>');var i=e.children().eq(1),n=new h.TapCapture(e),s=new _(i),a=new w({element:i,container:e,forcedEnabled:r.options.zoom}),o=this.options.avoidScrolling,l=new h.UserEvents(e,{touchAction:"pan-y",fastTap:!0,allowSelection:!0,preventDragEvent:!0,captureUpIfMoved:!0,multiTouch:r.options.zoom,supportDoubleTap:r.options.supportDoubleTap,start:function(e){a.refresh();var t=b(e.x.velocity),i=b(e.y.velocity),n=i<=2*t,s=t<=2*i;!p.contains(r.fixedContainer[0],e.event.target)&&!o(e)&&r.enabled&&(a.x.enabled&&n||a.y.enabled&&s)?l.capture():l.cancel()}}),u=new v({movable:s,dimensions:a,userEvents:l,elastic:r.options.elastic}),c=new k({movable:s,dimensions:a,userEvents:l,tapCapture:n}),d=new x({moveTo:function(e){r.scrollTo(e.x,e.y)}});s.bind(y,function(){r.scrollTop=-s.y,r.scrollLeft=-s.x,r.trigger("scroll",{scrollTop:r.scrollTop,scrollLeft:r.scrollLeft})}),r.options.mousewheelScrolling&&e.on("DOMMouseScroll mousewheel",f(this,"_wheelScroll")),m(r,{movable:s,dimensions:a,zoomSnapBack:c,animatedScroller:d,userEvents:l,pane:u,tapCapture:n,pulled:!1,enabled:!0,scrollElement:i,scrollTop:0,scrollLeft:0,fixedContainer:e.children().first()}),r._initAxis("x"),r._initAxis("y"),r._wheelEnd=function(){r._wheel=!1,r.userEvents.end(0,r._wheelY)},a.refresh(),r.options.pullToRefresh&&r._initPullToRefresh()},_wheelScroll:function(e){this._wheel||(this._wheel=!0,this._wheelY=0,this.userEvents.press(0,this._wheelY)),clearTimeout(this._wheelTimeout),this._wheelTimeout=setTimeout(this._wheelEnd,50);var t=h.wheelDeltaY(e);t&&(this._wheelY+=t,this.userEvents.move(0,this._wheelY)),e.preventDefault()},makeVirtual:function(){this.dimensions.y.makeVirtual()},virtualSize:function(e,t){this.dimensions.y.virtualSize(e,t)},height:function(){return this.dimensions.y.size},scrollHeight:function(){return this.scrollElement[0].scrollHeight},scrollWidth:function(){return this.scrollElement[0].scrollWidth},options:{name:"Scroller",zoom:!1,pullOffset:140,visibleScrollHints:!1,elastic:!0,useNative:!1,mousewheelScrolling:!0,avoidScrolling:function(){return!1},pullToRefresh:!1,messages:{pullTemplate:"Pull to refresh",releaseTemplate:"Release to refresh",refreshTemplate:"Refreshing"}},events:["pull","scroll","resize"],_resize:function(){this._native||this.contentResized()},setOptions:function(e){g.fn.setOptions.call(this,e),e.pullToRefresh&&this._initPullToRefresh()},reset:function(){this._native?this.scrollElement.scrollTop(0):(this.movable.moveTo({x:0,y:0}),this._scale(1))},contentResized:function(){this.dimensions.refresh(),this.pane.x.outOfBounds()&&this.movable.moveAxis("x",this.dimensions.x.min),this.pane.y.outOfBounds()&&this.movable.moveAxis("y",this.dimensions.y.min)},zoomOut:function(){var e=this.dimensions;e.refresh(),this._scale(e.fitScale),this.movable.moveTo(e.centerCoordinates())},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},scrollTo:function(e,t){this._native?(this.scrollElement.scrollLeft(b(e)),this.scrollElement.scrollTop(b(t))):(this.dimensions.refresh(),this.movable.moveTo({x:e,y:t}))},animatedScrollTo:function(e,t,i){var n,s;this._native?this.scrollTo(e,t):(n={x:this.movable.x,y:this.movable.y},s={x:e,y:t},this.animatedScroller.setCoordinates(n,s),this.animatedScroller.setCallback(i),this.animatedScroller.start())},pullHandled:function(){this.refreshHint.removeClass(o),this.hintContainer.html(this.pullTemplate({})),this.yinertia.onEnd(),this.xinertia.onEnd(),this.userEvents.cancel()},destroy:function(){g.fn.destroy.call(this),this.userEvents&&this.userEvents.destroy()},_scale:function(e){this.dimensions.rescale(e),this.movable.scaleTo(e)},_initPullToRefresh:function(){var e=this;e.dimensions.y.forceEnabled(),e.pullTemplate=h.template(e.options.messages.pullTemplate),e.releaseTemplate=h.template(e.options.messages.releaseTemplate),e.refreshTemplate=h.template(e.options.messages.refreshTemplate),e.scrollElement.prepend('<span class="km-scroller-pull"><span class="km-icon"></span><span class="km-loading-left"></span><span class="km-loading-right"></span><span class="km-template">'+e.pullTemplate({})+"</span></span>"),e.refreshHint=e.scrollElement.children().first(),e.hintContainer=e.refreshHint.children(".km-template"),e.pane.y.bind("change",f(e._paneChange,e)),e.userEvents.bind("end",f(e._dragEnd,e))},_dragEnd:function(){this.pulled&&(this.pulled=!1,this.refreshHint.removeClass(a).addClass(o),this.hintContainer.html(this.refreshTemplate({})),this.yinertia.freeze(this.options.pullOffset/2),this.trigger("pull"))},_paneChange:function(){var e=this;e.movable.y/.5>e.options.pullOffset?e.pulled||(e.pulled=!0,e.refreshHint.removeClass(o).addClass(a),e.hintContainer.html(e.releaseTemplate({}))):e.pulled&&(e.pulled=!1,e.refreshHint.removeClass(a),e.hintContainer.html(e.pullTemplate({})))},_initAxis:function(e){var t=this,i=t.movable,n=t.dimensions[e],s=t.tapCapture,r=t.pane[e],a=new u({axis:e,movable:i,dimension:n,container:t.element,alwaysVisible:t.options.visibleScrollHints});n.bind(y,function(){a.refresh()}),r.bind(y,function(){a.show()}),t[e+"inertia"]=new l({axis:e,paneAxis:r,movable:i,tapCapture:s,userEvents:t.userEvents,dimension:n,elastic:t.options.elastic,friction:t.options.friction||.96,velocityMultiplier:t.options.velocityMultiplier||10,end:function(){a.hide(),t.trigger("scrollEnd",{axis:e,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft})}})}}),i.plugin(c),window.kendo;var p,h,e,t,i,f,m,g,n,_,v,w,s,r,b,a,o,y,k,l,x,u,c}),("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()})("kendo.autocomplete",["kendo.list","kendo.mobile.scroller","kendo.virtuallist"],function(){return function(u,c){var s=window.kendo,e=s.support,d=s.caret,p=s._activeElement,r=e.placeholder,t=s.ui,h=t.List,f=s.keys,i=s.data.DataSource,a="aria-disabled",o="aria-readonly",l="change",m="k-state-default",g="k-state-focused",_="k-state-disabled",v=".kendoAutoComplete",w=u.proxy;function b(e,t,i){return i?t.substring(0,e).split(i).length-1:0}var n=h.extend({init:function(e,t){var i,n=this;n.ns=v,t=u.isArray(t)?{dataSource:t}:t,h.fn.init.call(n,e,t),e=n.element,(t=n.options).placeholder=t.placeholder||e.attr("placeholder"),r&&e.attr("placeholder",t.placeholder),n._wrapper(),n._loader(),n._clearButton(),n._dataSource(),n._ignoreCase(),e[0].type="text",i=n.wrapper,n._popup(),e.addClass("k-input").on("keydown"+v,w(n._keydown,n)).on("keypress"+v,w(n._keypress,n)).on("input"+v,w(n._search,n)).on("paste"+v,w(n._search,n)).on("focus"+v,function(){n._prev=n._accessor(),n._oldText=n._prev,n._placeholder(!1),i.addClass(g)}).on("focusout"+v,function(){n._change(),n._placeholder(),n.close(),i.removeClass(g)}).attr({autocomplete:"off",role:"textbox","aria-haspopup":!0}),n._clear.on("click"+v+" touchend"+v,w(n._clearValue,n)),n._enable(),n._old=n._accessor(),e[0].id&&e.attr("aria-owns",n.ul[0].id),n._aria(),n._placeholder(),n._initList(),u(n.element).parents("fieldset").is(":disabled")&&n.enable(!1),n.listView.bind("click",function(e){e.preventDefault()}),n._resetFocusItemHandler=u.proxy(n._resetFocusItem,n),s.notify(n),n._toggleCloseVisibility()},options:{name:"AutoComplete",enabled:!0,suggest:!1,template:"",groupTemplate:"#:data#",fixedGroupTemplate:"#:data#",dataTextField:"",minLength:1,enforceMinLength:!1,delay:200,height:200,filter:"startswith",ignoreCase:!0,highlightFirst:!1,separator:null,placeholder:"",animation:{},virtual:!1,value:null,clearButton:!0,autoWidth:!1},_dataSource:function(){var e=this;e.dataSource&&e._refreshHandler?e._unbindDataSource():(e._progressHandler=w(e._showBusy,e),e._errorHandler=w(e._hideBusy,e)),e.dataSource=i.create(e.options.dataSource).bind("progress",e._progressHandler).bind("error",e._errorHandler)},setDataSource:function(e){this.options.dataSource=e,this._dataSource(),this.listView.setDataSource(this.dataSource)},events:["open","close",l,"select","filtering","dataBinding","dataBound"],setOptions:function(e){var t=this._listOptions(e);h.fn.setOptions.call(this,e),this.listView.setOptions(t),this._accessors(),this._aria(),this._clearButton()},_listOptions:function(e){var t=h.fn._listOptions.call(this,u.extend(e,{skipUpdateOnBind:!0}));return t.dataValueField=t.dataTextField,t.selectedItemChange=null,t},_editable:function(e){var t=this.element,i=this.wrapper.off(v),n=e.readonly,s=e.disable;n||s?(i.addClass(s?_:m).removeClass(s?m:_),t.attr("disabled",s).attr("readonly",n).attr(a,s).attr(o,n)):(i.addClass(m).removeClass(_).on("mouseenter.kendoAutoComplete mouseleave.kendoAutoComplete",this._toggleHover),t.removeAttr("disabled").removeAttr("readonly").attr(a,!1).attr(o,!1))},close:function(){var e=this.listView.focus();e&&e.removeClass("k-state-selected"),this.popup.close()},destroy:function(){this.element.off(v),this._clear.off(v),this.wrapper.off(v),h.fn.destroy.call(this)},refresh:function(){this.listView.refresh()},select:function(e){this._select(e)},search:function(e){var t,i,n,s,r=this,a=r.options,o=a.ignoreCase,l=r._separator();e=e||r._accessor(),clearTimeout(r._typingTimeout),l&&(i=d(r.element)[0],s=l,e=(n=e).split(s)[b(i,n,s)]),t=e.length,(!a.enforceMinLength&&!t||t>=a.minLength)&&(r._open=!0,r._mute(function(){this.listView.value([])}),r._filterSource({value:o?e.toLowerCase():e,operator:a.filter,field:a.dataTextField,ignoreCase:o}),r.one("close",u.proxy(r._unifySeparators,r))),r._toggleCloseVisibility()},suggest:function(e){var t,i=this._last,n=this._accessor(),s=this.element[0],r=d(s)[0],a=this._separator(),o=n.split(a),l=b(r,n,a),u=r;i!=f.BACKSPACE&&i!=f.DELETE?("string"!=typeof(e=e||"")&&(e[0]&&(e=this.dataSource.view()[h.inArray(e[0],this.ul[0])]),e=e?this._text(e):""),r<=0&&(r=n.toLowerCase().indexOf(e.toLowerCase())+1),t=-1<(t=n.substring(0,r).lastIndexOf(a))?r-(t+a.length):r,n=o[l].substring(0,t),e&&(-1<(t=(e=e.toString()).toLowerCase().indexOf(n.toLowerCase()))&&(u=r+(e=e.substring(t+n.length)).length,n+=e),a&&""!==o[o.length-1]&&o.push("")),o[l]=n,this._accessor(o.join(a||"")),s===p()&&d(s,r,u)):this._last=c},value:function(e){if(e===c)return this._accessor();this.listView.value(e),this._accessor(e),this._old=this._accessor(),this._oldText=this._accessor(),this._toggleCloseVisibility()},_click:function(e){var t=e.item,i=this,n=i.element,s=i.listView.dataItemByIndex(i.listView.getElementIndex(t));e.preventDefault(),i._active=!0,i.trigger("select",{dataItem:s,item:t})?i.close():(i._oldText=n.val(),i._select(t).done(function(){i._blur(),d(n,n.val().length)}))},_clearText:u.noop,_resetFocusItem:function(){var e=this.options.highlightFirst?0:-1;this.options.virtual&&this.listView.scrollTo(0),this.listView.focus(e)},_listBound:function(){var e,t=this,i=t.popup,n=t.options,s=t.dataSource.flatView(),r=s.length,a=t.dataSource._group.length,o=t.element[0]===p();t._renderFooter(),t._renderNoData(),t._toggleNoData(!r),t._toggleHeader(!!a&&!!r),t._resizePopup(),i.position(),r&&n.suggest&&o&&t.suggest(s[0]),t._open&&(t._open=!1,e=t._allowOpening()?"open":"close",t._typingTimeout&&!o&&(e="close"),r&&(t._resetFocusItem(),n.virtual&&t.popup.unbind("activate",t._resetFocusItemHandler).one("activate",t._resetFocusItemHandler)),i[e](),t._typingTimeout=c),t._touchScroller&&t._touchScroller.reset(),t._hideBusy(),t._makeUnselectable(),t.trigger("dataBound")},_mute:function(e){this._muted=!0,e.call(this),this._muted=!1},_listChange:function(){(this._active||this.element[0]===p())&&!this._muted&&this._selectValue(this.listView.selectedDataItems()[0])},_selectValue:function(e){var t,i,n,s,r,a,o=this._separator(),l="";e&&(l=this._text(e)),null===l&&(l=""),o&&(t=d(this.element)[0],i=this._accessor(),n=l,s=o,r=this._defaultSeparator(),(a=i.split(s)).splice(b(t,i,s),1,n),s&&""!==a[a.length-1]&&a.push(""),l=a.join(r)),this._prev=l,this._accessor(l),this._placeholder()},_unifySeparators:function(){return this._accessor(this.value().split(this._separator()).join(this._defaultSeparator())),this},_preselect:function(e,t){this._inputValue(t),this._accessor(e),this._old=this.oldText=this._accessor(),this.listView.setValue(e),this._placeholder()},_change:function(){var e=this,t=e._unifySeparators().value(),i=t!==h.unifyType(e._old,typeof t),n=i&&!e._typing,s=e._oldText!==t;e._old=t,e._oldText=t,(n||s)&&e.element.trigger(l),i&&e.trigger(l),e.typing=!1,e._toggleCloseVisibility()},_accessor:function(e){var t=this.element[0];if(e===c)return e=t.value,-1<t.className.indexOf("k-readonly")&&e===this.options.placeholder?"":e;t.value=null===e?"":e,this._placeholder()},_keydown:function(e){var t=this,i=e.keyCode,n=t.listView,s=t.popup.visible(),r=n.focus();if((t._last=i)===f.DOWN)s?this._move(r?"focusNext":"focusFirst"):t.value()&&t._filterSource({value:t.ignoreCase?t.value().toLowerCase():t.value(),operator:t.options.filter,field:t.options.dataTextField,ignoreCase:t.ignoreCase}).done(function(){t._allowOpening()&&(t._resetFocusItem(),t.popup.open())}),e.preventDefault();else if(i===f.UP)s&&this._move(r?"focusPrev":"focusLast"),e.preventDefault();else if(i===f.HOME)this._move("focusFirst");else if(i===f.END)this._move("focusLast");else if(i===f.ENTER||i===f.TAB){if(i===f.ENTER&&s&&e.preventDefault(),s&&r){var a=n.dataItemByIndex(n.getElementIndex(r));if(t.trigger("select",{dataItem:a,item:r}))return;this._select(r)}this._blur()}else if(i===f.ESC)s?e.preventDefault():t._clearValue(),t.close();else if(!t.popup.visible()||i!==f.PAGEDOWN&&i!==f.PAGEUP)t.popup._hovered=!0,t._search();else{e.preventDefault();var o=i===f.PAGEDOWN?1:-1;n.scrollWith(o*n.screenHeight())}},_keypress:function(){this._oldText=this.element.val(),this._typing=!0},_move:function(e){this.listView[e](),this.options.suggest&&this.suggest(this.listView.focus())},_hideBusy:function(){clearTimeout(this._busy),this._loading.hide(),this.element.attr("aria-busy",!1),this._busy=null,this._showClear()},_showBusy:function(){var e=this;e._busy||(e._busy=setTimeout(function(){e.element.attr("aria-busy",!0),e._loading.show(),e._hideClear()},100))},_placeholder:function(e){if(!r){var t,i=this.element,n=this.options.placeholder;if(n){if(t=i.val(),e===c&&(e=!t),e||(n=t!==n?t:""),t===this._old&&!e)return;i.toggleClass("k-readonly",e).val(n),n||i[0]!==document.activeElement||d(i[0],0,0)}}},_separator:function(){var e=this.options.separator;return e instanceof Array?new RegExp(e.join("|"),"gi"):e},_defaultSeparator:function(){var e=this.options.separator;return e instanceof Array?e[0]:e},_inputValue:function(){return this.element.val()},_search:function(){var e=this;clearTimeout(e._typingTimeout),e._typingTimeout=setTimeout(function(){e._prev!==e._accessor()&&(e._prev=e._accessor(),e.search())},e.options.delay)},_select:function(e){var t=this;return t._active=!0,t.listView.select(e).done(function(){t._active=!1})},_loader:function(){this._loading=u('<span class="k-icon k-i-loading" style="display:none"></span>').insertAfter(this.element)},_clearButton:function(){h.fn._clearButton.call(this),this.options.clearButton&&(this._clear.insertAfter(this.element),this.wrapper.addClass("k-autocomplete-clearable"))},_toggleHover:function(e){u(e.currentTarget).toggleClass("k-state-hover","mouseenter"===e.type)},_toggleCloseVisibility:function(){this.value()?this._showClear():this._hideClear()},_wrapper:function(){var e,t=this.element,i=t[0];(e=t.parent()).is("span.k-widget")||(e=t.wrap("<span />").parent()),e.attr("tabindex",-1),e.attr("role","presentation"),e[0].style.cssText=i.style.cssText,t.css({width:"",height:i.style.height}),this._focused=this.element,this.wrapper=e.addClass("k-widget k-autocomplete").addClass(i.className),this._inputWrapper=u(e[0])}});t.plugin(n)}(window.kendo.jQuery),window.kendo}),("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()})("kendo.combobox",["kendo.list","kendo.mobile.scroller","kendo.virtuallist"],function(){return l=window.kendo.jQuery,s=window.kendo,e=s.ui,u=e.List,r=e.Select,a=s.caret,c=s.support,d=c.placeholder,p=s._activeElement,h=s.keys,t=(f=".kendoComboBox")+"FocusEvent",m="click"+f,g="mousedown"+f,_="change",v="k-state-default",w="k-state-focused",b="k-state-disabled",y="aria-disabled",k="filter",x="accept",C=l.proxy,T=/(\r\n|\n|\r)/gm,i=r.extend({init:function(e,t){var i,n=this;n.ns=f,t=l.isArray(t)?{dataSource:t}:t,r.fn.init.call(n,e,t),t=n.options,e=n.element.on("focus"+f,C(n._focusHandler,n)),t.placeholder=t.placeholder||e.attr("placeholder"),n._reset(),n._wrapper(),n._input(),n._clearButton(),n._tabindex(n.input),n._popup(),n._dataSource(),n._ignoreCase(),n._enable(),n._attachFocusEvents(),n._oldIndex=n.selectedIndex=-1,n._aria(),n._initialIndex=t.index,n.requireValueMapper(n.options),n._initList(),n._cascade(),t.autoBind?n._filterSource():(!(i=t.text)&&n._isSelect&&(i=e.children(":selected").text()),i&&n._setText(i)),i||n._placeholder(),l(n.element).parents("fieldset").is(":disabled")&&n.enable(!1),s.notify(n),n._toggleCloseVisibility()},options:{name:"ComboBox",enabled:!0,index:-1,text:null,value:null,autoBind:!0,delay:200,dataTextField:"",dataValueField:"",minLength:1,enforceMinLength:!1,height:200,highlightFirst:!0,filter:"none",placeholder:"",suggest:!1,cascadeFrom:"",cascadeFromField:"",cascadeFromParentField:"",ignoreCase:!0,animation:{},virtual:!1,template:null,groupTemplate:"#:data#",fixedGroupTemplate:"#:data#",clearButton:!0,syncValueAndText:!0,autoWidth:!1},events:["open","close",_,"select","filtering","dataBinding","dataBound","cascade","set"],setOptions:function(e){var t=this._listOptions(e);r.fn.setOptions.call(this,e),this.listView.setOptions(t),this._accessors(),this._aria(),this._clearButton()},destroy:function(){this.input.off(f),this.input.off(t),this.element.off(f),this._inputWrapper.off(f),clearTimeout(this._pasteTimeout),this._arrow.off(m+" "+g),this._clear.off(m+" "+g),r.fn.destroy.call(this)},_change:function(){var e=this,t=e.text(),i=t&&t!==e._oldText&&t!==e.options.placeholder,n=e.selectedIndex,s=-1===n;if(!e.options.syncValueAndText&&!e.value()&&s&&i)return e._old="",e._oldIndex=n,e._oldText=t,e._typing||e.element.trigger(_),e.trigger(_),void(e._typing=!1);r.fn._change.call(e),e._toggleCloseVisibility()},_attachFocusEvents:function(){this.input.on("focus"+t,C(this._inputFocus,this)).on("focusout"+t,C(this._inputFocusout,this))},_focusHandler:function(){this.input.focus()},_arrowClick:function(){this._toggle()},_inputFocus:function(){this._inputWrapper.addClass(w),this._placeholder(!1)},_inputFocusout:function(){var e=this,t=e.value();e._userTriggered=!0,e._inputWrapper.removeClass(w),clearTimeout(e._typingTimeout),e._typingTimeout=null,e.text(e.text());var i=e._focus(),n=this.listView.dataItemByIndex(this.listView.getElementIndex(i));t!==e.value()&&e.trigger("select",{dataItem:n,item:i})?e.value(t):(e._placeholder(),e._blur(),e.element.blur())},_inputPaste:function(){var e=this;clearTimeout(e._pasteTimeout),e._pasteTimeout=null,e._pasteTimeout=setTimeout(function(){e.search()})},_editable:function(e){var t=this,i=e.disable,n=e.readonly,s=t._inputWrapper.off(f),r=t.element.add(t.input.off(f)),a=t._arrow.off(m+" "+g),o=t._clear;n||i?(s.addClass(i?b:v).removeClass(i?v:b),r.attr("disabled",i).attr("readonly",n).attr(y,i)):(s.addClass(v).removeClass(b).on("mouseenter.kendoComboBox mouseleave.kendoComboBox",t._toggleHover),r.removeAttr("disabled").removeAttr("readonly").attr(y,!1),a.on(m,C(t._arrowClick,t)).on(g,function(e){e.preventDefault()}),o.on(m+" touchend"+f,C(t._clearValue,t)).on(g,function(e){e.preventDefault()}),t.input.on("keydown"+f,C(t._keydown,t)).on("input"+f,C(t._search,t)).on("paste"+f,C(t._inputPaste,t))),t._toggleCloseVisibility()},open:function(){var e=this,t=e._state,i=!!e.dataSource.filter()&&0<e.dataSource.filter().filters.length,n=!e.ul.find(e.listView.focus()).length;e.popup.visible()||(!e.listView.bound()&&t!==k||t===x?(e._open=!0,e._state="rebind",1!==e.options.minLength&&!i||i&&e.value()&&-1===e.selectedIndex?(e.refresh(),e._openPopup(),this.options.virtual||e.listView.bound(!1)):e._filterSource()):e._allowOpening()&&(e.popup._hovered=!0,e._openPopup(),e.options.virtual?e._focusItem():n&&e.options.highlightFirst&&e.listView.focus(0)))},_scrollToFocusedItem:function(){var e=this.listView;e.scrollToIndex(e.getElementIndex(e.focus()))},_openPopup:function(){this.popup.one("activate",C(this._scrollToFocusedItem,this)),this.popup.open()},_updateSelectionState:function(){var e=this,t=e.options.text,i=e.options.value;e.listView.isFiltered()||(-1===e.selectedIndex?(t!==o&&null!==t||(t=i),e._accessor(i),e.input.val(t||e.input.val()),e._placeholder()):-1===e._oldIndex&&(e._oldIndex=e.selectedIndex))},_buildOptions:function(e){if(this._isSelect){var t=this._customOption;"rebind"===this._state&&(this._state=""),this._customOption=o,this._options(e,"",this.value()),t&&t[0].selected&&!this.listView._emptySearch&&this._custom(t.val())}},_updateSelection:function(){var e=this,t=e.listView,i=e._initialIndex,n=null!==i&&-1<i;if(e._state===k)l(t.focus()).removeClass("k-state-selected");else if(!e._fetch){t.value().length||(n?e.select(i):e._accessor()&&t.value(e._accessor())),e._initialIndex=null;var s=t.selectedDataItems()[0];s&&(e._value(s)!==e.value()?e._custom(e._value(s)):e._value(s)!==e.element[0].value&&e._accessor(e._value(s)),e.text()&&e.text()!==e._text(s)&&e._selectValue(s))}},_updateItemFocus:function(){var e=this.listView;this.options.highlightFirst?e.focus()||e.focusIndex()||e.focus(0):e.focus(-1)},_listBound:function(){var e=this,t=e.input[0]===p(),i=e.dataSource.flatView(),n=e.listView.skip(),s=i.length,r=e.dataSource._group?e.dataSource._group.length:0,a=n===o||0===n;e._presetValue=!1,e._renderFooter(),e._renderNoData(),e._toggleNoData(!s),e._toggleHeader(!!r&&!!s),e._resizePopup(),e.popup.position(),e._buildOptions(i),e._makeUnselectable(),e._updateSelection(),i.length&&a&&(e._updateItemFocus(),e.options.suggest&&t&&e.input.val()&&e.suggest(i[0])),e._open&&(e._open=!1,e._typingTimeout&&!t?e.popup.close():e.toggle(e._allowOpening()),e._typingTimeout=null),e._hideBusy(),e.trigger("dataBound")},_listChange:function(){this._selectValue(this.listView.selectedDataItems()[0]),this._presetValue&&(this._oldIndex=this.selectedIndex)},_get:function(e){var t,i,n;if("function"==typeof e){for(t=this.dataSource.flatView(),n=0;n<t.length;n++)if(e(t[n])){e=n,i=!0;break}i||(e=-1)}return e},_select:function(e,t){var i=this;return-1===(e=i._get(e))&&(i.input[0].value="",i._accessor("")),i.listView.select(e).done(function(){t||i._state!==k||(i._state=x),i._toggleCloseVisibility()})},_selectValue:function(e){var t=this.listView.select(),i="",n="";(t=t[t.length-1])===o&&(t=-1),this.selectedIndex=t,this.listView.isFiltered()&&-1!==t&&(this._valueBeforeCascade=this._old),-1!==t||e?((e||0===e)&&(i=this._dataValue(e),n=this._text(e)),null===i&&(i="")):(this.options.syncValueAndText?i=n=this.options.dataTextField===this.options.dataValueField?this._accessor():this.input[0].value:n=this.text(),this.listView.focus(-1)),this._setDomInputValue(n),this._accessor(i!==o?i:n,t),this._placeholder(),this._triggerCascade()},_setDomInputValue:function(e){var t,i=this,n=a(this.input);if(n&&n.length&&(t=n[0]),this._prev=this.input[0].value=e,t&&-1===this.selectedIndex){var s=c.mobileOS;s.wp||s.android?setTimeout(function(){i.input[0].setSelectionRange(t,t)},0):this.input[0].setSelectionRange(t,t)}},refresh:function(){this.listView.refresh()},_toggleCloseVisibility:function(){var e=this.element.is(":disabled")||this.element.is("[readonly]");this.text()&&!e?this._showClear():this._hideClear()},suggest:function(e){var t,i=this.input[0],n=this.text(),s=a(i)[0],r=this._last;r!=h.BACKSPACE&&r!=h.DELETE?("string"!=typeof(e=e||"")&&(e[0]&&(e=this.dataSource.view()[u.inArray(e[0],this.ul[0])]),e=e?this._text(e):""),s<=0&&(s=n.toLowerCase().indexOf(e.toLowerCase())+1),e?-1<(t=(e=e.toString()).toLowerCase().indexOf(n.toLowerCase()))&&(n+=e.substring(t+n.length)):n=n.substring(0,s),n.length===s&&e||(i.value=n,i===p()&&a(i,s,n.length))):this._last=o},text:function(e){e=null===e?"":e;var t,i,n=this,s=n.input[0],r=n.options.ignoreCase,a=e;if(e===o)return s.value;!1!==n.options.autoBind||n.listView.bound()?(t=n.dataItem())&&n._text(t).replace&&n._text(t).replace(T,"")===e&&(i=n._value(t))===u.unifyType(n._old,typeof i)?n._triggerCascade():(r&&(a=a.toLowerCase()),n._select(function(e){return e=n._text(e),r&&(e=(e+"").toLowerCase()),e===a}).done(function(){n.selectedIndex<0&&(s.value=e,n.options.syncValueAndText&&n._accessor(e),n._cascadeTriggered=!0,n._triggerCascade()),n._prev=s.value}),n._toggleCloseVisibility()):n._setText(e)},toggle:function(e){this._toggle(e,!0)},value:function(e){var t=this,i=t.options,n=t.listView;if(e===o)return(e=t._accessor()||t.listView.value()[0])===o||null===e?"":e;t.requireValueMapper(t.options,e),t.trigger("set",{value:e}),e===i.value&&t.input.val()===i.text||(t._accessor(e),t._isFilterEnabled()&&n.bound()&&n.isFiltered()?t._clearFilter():t._fetchData(),n.value(e).done(function(){-1!==t.selectedIndex||n._selectedDataItems&&n._selectedDataItems.length||(t._accessor(e),t.input.val(e),t._placeholder(!0)),t._old=t._valueBeforeCascade=t._accessor(),t._oldIndex=t.selectedIndex,t._prev=t.input.val(),t._state===k&&(t._state=x),t._toggleCloseVisibility()}))},_hideBusy:function(){clearTimeout(this._busy),this._arrowIcon.removeClass("k-i-loading"),this._focused.attr("aria-busy",!1),this._busy=null,this._toggleCloseVisibility()},_click:function(e){var t=this,i=e.item,n=t.listView.dataItemByIndex(t.listView.getElementIndex(i)),s=!0;e.preventDefault(),n&&((s=t._value(n)!==u.unifyType(t.value(),typeof t._value(n)))||t.input.val(t._text(n))),s&&t.trigger("select",{dataItem:n,item:i})?t.close():(t._userTriggered=!0,t._select(i).done(function(){t._blur()}))},_syncValueAndText:function(){return this.options.syncValueAndText},_inputValue:function(){return this.text()},_searchByWord:function(i){var n=this,e=n.options,t=n.dataSource,s=e.ignoreCase;if(s&&(i=i.toLowerCase()),n.ul[0].firstChild){this.listView.focus(this._get(function(e){var t=n._text(e);if(t!==o)return(""==(t+="")||""!==i)&&(s&&(t=t.toLowerCase()),0===t.indexOf(i))}));var r=this.listView.focus();r&&(e.suggest&&n.suggest(r),this.open()),this.options.highlightFirst&&!i&&this.listView.focusFirst()}else t.one(_,function(){t.view()[0]&&n.search(i)}).fetch()},_input:function(){var e,t,i=this,n=i.element.removeClass("k-input")[0],s=n.accessKey,r=i.wrapper,a="input.k-input",o=n.name||"";o&&(o='name="'+o+'_input" '),(e=r.find(a))[0]||(r.append('<span tabindex="-1" unselectable="on" class="k-dropdown-wrap k-state-default"><input '+o+'class="k-input" type="text" autocomplete="off"/><span unselectable="on" class="k-select" aria-label="select"><span class="k-icon k-i-arrow-60-down"></span></span></span>').append(i.element),e=r.find(a)),e[0].style.cssText=n.style.cssText,e[0].title=n.title,-1<(t=parseInt(this.element.prop("maxlength")||this.element.attr("maxlength"),10))&&(e[0].maxLength=t),e.addClass(n.className).css({width:"",height:n.style.height}).attr({role:"combobox","aria-expanded":!1}).show(),d&&e.attr("placeholder",i.options.placeholder),s&&(n.accessKey="",e[0].accessKey=s),i._focused=i.input=e,i._inputWrapper=l(r[0].firstChild),i._arrow=r.find(".k-select").attr({role:"button",tabIndex:-1}),i._arrowIcon=i._arrow.find(".k-icon"),n.id&&i._arrow.attr("aria-controls",i.ul[0].id)},_clearButton:function(){u.fn._clearButton.call(this),this.options.clearButton&&(this._clear.insertAfter(this.input),this.wrapper.addClass("k-combobox-clearable"))},_keydown:function(e){var t=this,i=e.keyCode;if(t._last=i,clearTimeout(t._typingTimeout),t._typingTimeout=null,i===h.HOME)t._firstItem();else if(i===h.END)t._lastItem();else if(i===h.ENTER||i===h.TAB&&t.popup.visible()){var n=t.listView.focus(),s=t.dataItem(),r=!0;if(t.popup.visible()||s&&t.text()===t._text(s)||(n=null),n){if(t.popup.visible()&&e.preventDefault(),(s=t.listView.dataItemByIndex(t.listView.getElementIndex(n)))&&(r=t._value(s)!==u.unifyType(t.value(),typeof t._value(s))),r&&t.trigger("select",{dataItem:s,item:n}))return;t._userTriggered=!0,t._select(n).done(function(){t._blur(),t._valueBeforeCascade=t._old=t.value()})}else(t._syncValueAndText()||t._isSelect)&&t._accessor(t.input.val()),t.listView.value(t.input.val()),t._blur()}else i==h.TAB||t._move(e)?i===h.ESC&&!t.popup.visible()&&t.text()&&t._clearValue():t._search()},_placeholder:function(e){if(!d){var t,i=this.input,n=this.options.placeholder;if(n){if(t=this.value(),e===o&&(e=!t),i.toggleClass("k-readonly",e),!e){if(t)return;n=""}i.val(n),n||i[0]!==p()||a(i[0],0,0)}}},_search:function(){var t=this;clearTimeout(t._typingTimeout),t._typingTimeout=setTimeout(function(){var e=t.text();t._prev!==e&&(t._prev=e,"none"===t.options.filter&&t.options.virtual&&t.listView.select(-1),t.search(e),t._toggleCloseVisibility()),t._typingTimeout=null},t.options.delay)},_setText:function(e){this.input.val(e),this._prev=e},_wrapper:function(){var e=this.element,t=e.parent();t.is("span.k-widget")||((t=e.hide().wrap("<span />").parent())[0].style.cssText=e[0].style.cssText),this.wrapper=t.addClass("k-widget k-combobox").addClass(e[0].className).css("display","")},_clearSelection:function(e,t){var i=e.value(),n=i&&-1===e.selectedIndex;-1==this.selectedIndex&&this.value()||(t||!i||n)&&(this.options.value="",this.value(""),this._selectedValue=null)},_preselect:function(e,t){this.input.val(t),this._accessor(e),this._old=this._accessor(),this._oldIndex=this.selectedIndex,this.listView.setValue(e),this._placeholder(),this._initialIndex=null,this._presetValue=!0,this._toggleCloseVisibility()}}),e.plugin(i),window.kendo;var l,o,s,e,u,r,a,c,d,p,h,f,t,m,g,_,v,w,b,y,k,x,C,T,i}),("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()})("kendo.dropdownlist",["kendo.list","kendo.mobile.scroller","kendo.virtuallist"],function(){return function(a,o){var l=window.kendo,e=l.ui,s=e.List,u=e.Select,c=l.support,d=l._activeElement,p=l.data.ObservableObject,h=l.keys,f=".kendoDropDownList",t=f+"FocusEvent",r="change",i="k-state-focused",m="k-state-default",g="k-state-disabled",_="aria-disabled",v="mouseenter"+f+" mouseleave"+f,w="tabindex",b="filter",y="accept",k=a.proxy,n=u.extend({init:function(e,t){var i,n,s=this,r=t&&t.index;s.ns=f,t=a.isArray(t)?{dataSource:t}:t,u.fn.init.call(s,e,t),t=s.options,e=s.element.on("focus"+f,k(s._focusHandler,s)),s._focusInputHandler=a.proxy(s._focusInput,s),s.optionLabel=a(),s._optionLabel(),s._inputTemplate(),s._reset(),s._prev="",s._word="",s._wrapper(),s._tabindex(),s.wrapper.data(w,s.wrapper.attr(w)),s._span(),s._popup(),s._mobile(),s._dataSource(),s._ignoreCase(),s._filterHeader(),s._aria(),s.wrapper.attr("aria-live","polite"),s._enable(),s._attachFocusHandlers(),s._oldIndex=s.selectedIndex=-1,r!==o&&(t.index=r),s._initialIndex=t.index,s.requireValueMapper(s.options),s._initList(),s._cascade(),s.one("set",function(e){!e.sender.listView.bound()&&s.hasOptionLabel()&&s._textAccessor(s._optionLabelText())}),t.autoBind?s.dataSource.fetch():-1===s.selectedIndex&&((n=t.text||"")||((i=t.optionLabel)&&0===t.index?n=i:s._isSelect&&(n=e.children(":selected").text())),s._textAccessor(n)),a(s.element).parents("fieldset").is(":disabled")&&s.enable(!1),s.listView.bind("click",function(e){e.preventDefault()}),l.notify(s)},options:{name:"DropDownList",enabled:!0,autoBind:!0,index:0,text:null,value:null,delay:500,height:200,dataTextField:"",dataValueField:"",optionLabel:"",cascadeFrom:"",cascadeFromField:"",cascadeFromParentField:"",ignoreCase:!0,animation:{},filter:"none",minLength:1,enforceMinLength:!1,virtual:!1,template:null,valueTemplate:null,optionLabelTemplate:null,groupTemplate:"#:data#",fixedGroupTemplate:"#:data#",autoWidth:!1},events:["open","close",r,"select","filtering","dataBinding","dataBound","cascade","set"],setOptions:function(e){u.fn.setOptions.call(this,e),this.listView.setOptions(this._listOptions(e)),this._optionLabel(),this._inputTemplate(),this._accessors(),this._filterHeader(),this._enable(),this._aria(),!this.value()&&this.hasOptionLabel()&&this.select(0)},destroy:function(){var e=this;u.fn.destroy.call(e),e.wrapper.off(f),e.wrapper.off(t),e.element.off(f),e._inputWrapper.off(f),e._arrow.off(),e._arrow=null,e._arrowIcon=null,e.optionLabel.off(),e.filterInput&&e.filterInput.off(t)},open:function(){var e=this,t=!!e.dataSource.filter()&&0<e.dataSource.filter().filters.length;e.popup.visible()||(e.listView.bound()&&e._state!==y?e._allowOpening()&&(e._focusFilter=!0,e.popup.one("activate",e._focusInputHandler),e.popup._hovered=!0,e.popup.open(),e._resizeFilterInput(),e._focusItem()):(e._open=!0,e._state="rebind",e.filterInput&&(e.filterInput.val(""),e._prev=""),e.filterInput&&1!==e.options.minLength&&!t?(e.refresh(),e.popup.one("activate",e._focusInputHandler),e.popup.open(),e._resizeFilterInput()):e._filterSource()))},_focusInput:function(){this._focusElement(this.filterInput)},_resizeFilterInput:function(){var e=this.filterInput,t=this._prevent;if(e){var i=this.filterInput[0]===d(),n=l.caret(this.filterInput[0])[0];this._prevent=!0,e.css("display","none").css("width",this.popup.element.css("width")).css("display","inline-block"),i&&(e.focus(),l.caret(e[0],n)),this._prevent=t}},_allowOpening:function(){return this.hasOptionLabel()||this.filterInput||u.fn._allowOpening.call(this)},toggle:function(e){this._toggle(e,!0)},current:function(e){var t;if(e===o)return!(t=this.listView.focus())&&0===this.selectedIndex&&this.hasOptionLabel()?this.optionLabel:t;this._focus(e)},dataItem:function(e){var t=null;if(null===e)return e;if(e===o)t=this.listView.selectedDataItems()[0];else{if("number"!=typeof e){if(this.options.virtual)return this.dataSource.getByUid(a(e).data("uid"));e=e.hasClass("k-list-optionlabel")?-1:a(this.items()).index(e)}else this.hasOptionLabel()&&(e-=1);t=this.dataSource.flatView()[e]}return t||(t=this._optionLabelDataItem()),t},refresh:function(){this.listView.refresh()},text:function(e){var t,i=this,n=i.options.ignoreCase;if((e=null===e?"":e)===o)return i._textAccessor();"string"==typeof e?(t=n?e.toLowerCase():e,i._select(function(e){return e=i._text(e),n&&(e=(e+"").toLowerCase()),e===t}).done(function(){i._textAccessor(i.dataItem()||e)})):i._textAccessor(e)},_clearFilter:function(){a(this.filterInput).val(""),u.fn._clearFilter.call(this)},value:function(e){var t=this,i=t.listView,n=t.dataSource;return e===o?(e=t._accessor()||t.listView.value()[0])===o||null===e?"":e:(t.requireValueMapper(t.options,e),!e&&t.hasOptionLabel()||(t._initialIndex=null),this.trigger("set",{value:e}),t._request&&t.options.cascadeFrom&&t.listView.bound()?(t._valueSetter&&n.unbind(r,t._valueSetter),t._valueSetter=k(function(){t.value(e)},t),void n.one(r,t._valueSetter)):(t._isFilterEnabled()&&i.bound()&&i.isFiltered()?t._clearFilter():t._fetchData(),void i.value(e).done(function(){t._old=t._valueBeforeCascade=t._accessor(),t._oldIndex=t.selectedIndex})))},hasOptionLabel:function(){return this.optionLabel&&!!this.optionLabel[0]},_optionLabel:function(){var e=this,t=e.options,i=t.optionLabel,n=t.optionLabelTemplate;if(!i)return e.optionLabel.off().remove(),void(e.optionLabel=a());n||(n="#:",n+="string"==typeof i?"data":l.expr(t.dataTextField,"data"),n+="#"),"function"!=typeof n&&(n=l.template(n)),e.optionLabelTemplate=n,e.hasOptionLabel()||(e.optionLabel=a('<div class="k-list-optionlabel"></div>').prependTo(e.list)),e.optionLabel.html(n(i)).off().on("click.kendoDropDownList touchend.kendoDropDownList",k(e._click,e)).on(v,e._toggleHover),e.angular("compile",function(){return{elements:e.optionLabel,data:[{dataItem:e._optionLabelDataItem()}]}})},_optionLabelText:function(){var e=this.options.optionLabel;return"string"==typeof e?e:this._text(e)},_optionLabelDataItem:function(){var e=this.options.optionLabel;return this.hasOptionLabel()?a.isPlainObject(e)?new p(e):this._assignInstance(this._optionLabelText(),""):o},_buildOptions:function(e){if(this._isSelect){var t=this.listView.value()[0],i=this._optionLabelDataItem(),n=i&&this._value(i);t!==o&&null!==t||(t=""),i&&(n!==o&&null!==n||(n=""),i='<option value="'+n+'">'+this._text(i)+"</option>"),this._options(e,i,t),t!==s.unifyType(this._accessor(),typeof t)&&(this._customOption=null,this._custom(t))}},_listBound:function(){var e,t=this,i=t._initialIndex,n=t._state===b,s=t.dataSource.flatView();t._presetValue=!1,t._renderFooter(),t._renderNoData(),t._toggleNoData(!s.length),t._resizePopup(!0),t.popup.position(),t._buildOptions(s),t._makeUnselectable(),n||(t._open&&t.toggle(t._allowOpening()),t._open=!1,t._fetch||(s.length?(!t.listView.value().length&&-1<i&&null!==i&&t.select(i),t._initialIndex=null,(e=t.listView.selectedDataItems()[0])&&t.text()!==t._text(e)&&t._selectValue(e)):t._textAccessor()!==t._optionLabelText()&&(t.listView.value(""),t._selectValue(null),t._oldIndex=t.selectedIndex))),t._hideBusy(),t.trigger("dataBound")},_listChange:function(){this._selectValue(this.listView.selectedDataItems()[0]),(this._presetValue||this._old&&-1===this._oldIndex)&&(this._oldIndex=this.selectedIndex)},_filterPaste:function(){this._search()},_attachFocusHandlers:function(){var e=this;e.wrapper.on("focusin"+t,k(e._focusinHandler,e)).on("focusout"+t,k(e._focusoutHandler,e)),e.filterInput&&e.filterInput.on("focusin"+t,k(e._focusinHandler,e)).on("focusout"+t,k(e._focusoutHandler,e))},_focusHandler:function(){this.wrapper.focus()},_focusinHandler:function(){this._inputWrapper.addClass(i),this._prevent=!1},_focusoutHandler:function(){var e=window.self!==window.top;this._prevent||(clearTimeout(this._typingTimeout),c.mobileOS.ios&&e?this._change():this._blur(),this._inputWrapper.removeClass(i),this._prevent=!0,this._open=!1,this.element.blur())},_wrapperMousedown:function(){this._prevent=!!this.filterInput},_wrapperClick:function(e){e.preventDefault(),this.popup.unbind("activate",this._focusInputHandler),this._focused=this.wrapper,this._prevent=!1,this._toggle()},_editable:function(e){var t=this,i=t.element,n=e.disable,s=e.readonly,r=t.wrapper.add(t.filterInput).off(f),a=t._inputWrapper.off(v);s||n?n?(r.removeAttr(w),a.addClass(g).removeClass(m)):a.addClass(m).removeClass(g):(i.removeAttr("disabled").removeAttr("readonly"),a.addClass(m).removeClass(g).on(v,t._toggleHover),r.attr(w,r.data(w)).attr(_,!1).on("keydown"+f,k(t._keydown,t)).on(l.support.mousedown+f,k(t._wrapperMousedown,t)).on("paste"+f,k(t._filterPaste,t)),t.wrapper.on("click"+f,k(t._wrapperClick,t)),t.filterInput?r.on("input"+f,k(t._search,t)):r.on("keypress"+f,k(t._keypress,t))),i.attr("disabled",n).attr("readonly",s),r.attr(_,n)},_keydown:function(e){var t,i,n=this,s=e.keyCode,r=e.altKey,a=n.popup.visible();if(n.filterInput&&(t=n.filterInput[0]===d()),s===h.LEFT?(s=h.UP,i=!0):s===h.RIGHT&&(s=h.DOWN,i=!0),!i||!t)if(e.keyCode=s,(r&&s===h.UP||s===h.ESC)&&n._focusElement(n.wrapper),n._state===b&&s===h.ESC&&(n._clearFilter(),n._open=!1,n._state=y),s===h.ENTER&&n._typingTimeout&&n.filterInput&&a)e.preventDefault();else if(s!==h.SPACEBAR||t||(n.toggle(!a),e.preventDefault()),!(i=n._move(e))){if(!a||!n.filterInput){var o=n._focus();if(s===h.HOME?(i=!0,n._firstItem()):s===h.END&&(i=!0,n._lastItem()),i){if(n.trigger("select",{dataItem:n._getElementDataItem(n._focus()),item:n._focus()}))return void n._focus(o);n._select(n._focus(),!0).done(function(){a||n._blur()}),e.preventDefault()}}r||i||!n.filterInput||n._search()}},_matchText:function(e,t){var i=this.options.ignoreCase;return e!==o&&null!==e&&(e+="",i&&(e=e.toLowerCase()),0===e.indexOf(t))},_shuffleData:function(e,t){var i=this._optionLabelDataItem();return i&&(e=[i].concat(e)),e.slice(t).concat(e.slice(0,t))},_selectNext:function(){var t,e,i=this,n=i.dataSource.flatView(),s=n.length+(i.hasOptionLabel()?1:0),r=function(e,t){for(var i=0;i<e.length;i++)if(e.charAt(i)!==t)return!1;return!0}(i._word,i._last),a=i.selectedIndex;a=-1===a?0:C(a+=r?1:0,s),n=n.toJSON?n.toJSON():n.slice(),n=i._shuffleData(n,a);for(var o=0;o<s&&(e=i._text(n[o]),!r||!i._matchText(e,i._last))&&!i._matchText(e,i._word);o++);o!==s&&(t=i._focus(),i._select(C(a+o,s)).done(function(){var e=function(){i.popup.visible()||i._change()};i.trigger("select",{dataItem:i._getElementDataItem(i._focus()),item:i._focus()})?i._select(t).done(e):e()}))},_keypress:function(e){if(0!==e.which&&e.keyCode!==l.keys.ENTER){var t=String.fromCharCode(e.charCode||e.keyCode);this.options.ignoreCase&&(t=t.toLowerCase())," "===t&&e.preventDefault(),this._word+=t,this._last=t,this._search()}},_popupOpen:function(){var e=this.popup;e.wrapper=l.wrap(e.element),e.element.closest(".km-root")[0]&&(e.wrapper.addClass("km-popup km-widget"),this.wrapper.addClass("km-widget"))},_popup:function(){u.fn._popup.call(this),this.popup.one("open",k(this._popupOpen,this))},_getElementDataItem:function(e){return e&&e[0]?e[0]===this.optionLabel[0]?this._optionLabelDataItem():this.listView.dataItemByIndex(this.listView.getElementIndex(e)):null},_click:function(e){var t=this,i=e.item||a(e.currentTarget);e.preventDefault(),t.trigger("select",{dataItem:t._getElementDataItem(i),item:i})?t.close():(t._userTriggered=!0,t._select(i).done(function(){t._focusElement(t.wrapper),t._blur()}))},_focusElement:function(e){var t=d(),i=this.wrapper,n=this.filterInput,s=e===n?i:n,r=c.mobileOS&&(c.touch||c.MSPointers||c.pointers);n&&n[0]===e[0]&&r||n&&(s[0]===t||this._focusFilter)&&(this._focusFilter=!1,this._prevent=!0,this._focused=e.focus())},_searchByWord:function(t){if(t){var i=this;i.options.ignoreCase&&(t=t.toLowerCase()),i._select(function(e){return i._matchText(i._text(e),t)})}},_inputValue:function(){return this.text()},_search:function(){var t=this,e=t.dataSource;if(clearTimeout(t._typingTimeout),t._isFilterEnabled())t._typingTimeout=setTimeout(function(){var e=t.filterInput.val();t._prev!==e&&(t._prev=e,t.search(e),t._resizeFilterInput()),t._typingTimeout=null},t.options.delay);else{if(t._typingTimeout=setTimeout(function(){t._word=""},t.options.delay),!t.listView.bound())return void e.fetch().done(function(){t._selectNext()});t._selectNext()}},_get:function(e){var t,i,n,s="function"==typeof e,r=s?a():a(e);if(this.hasOptionLabel()&&("number"==typeof e?-1<e&&(e-=1):r.hasClass("k-list-optionlabel")&&(e=-1)),s){for(t=this.dataSource.flatView(),n=0;n<t.length;n++)if(e(t[n])){e=n,i=!0;break}i||(e=-1)}return e},_firstItem:function(){this.hasOptionLabel()?this._focus(this.optionLabel):this.listView.focusFirst()},_lastItem:function(){this._resetOptionLabel(),this.listView.focusLast()},_nextItem:function(){this.optionLabel.hasClass("k-state-focused")?(this._resetOptionLabel(),this.listView.focusFirst()):this.listView.focusNext()},_prevItem:function(){this.optionLabel.hasClass("k-state-focused")||(this.listView.focusPrev(),this.listView.focus()||this._focus(this.optionLabel))},_focusItem:function(){var e=this.options,t=this.listView,i=t.focus(),n=t.select();(n=n[n.length-1])===o&&e.highlightFirst&&!i&&(n=0),n!==o?t.focus(n):!e.optionLabel||e.virtual&&"dataItem"===e.virtual.mapValueTo?t.scrollToIndex(0):(this._focus(this.optionLabel),this._select(this.optionLabel),this.listView.content.scrollTop(0))},_resetOptionLabel:function(e){this.optionLabel.removeClass("k-state-focused"+(e||"")).removeAttr("id")},_focus:function(e){var t=this.listView,i=this.optionLabel;if(e===o)return!(e=t.focus())&&i.hasClass("k-state-focused")&&(e=i),e;this._resetOptionLabel(),e=this._get(e),t.focus(e),-1===e&&(i.addClass("k-state-focused").attr("id",t._optionID),this._focused.add(this.filterInput).removeAttr("aria-activedescendant").attr("aria-activedescendant",t._optionID))},_select:function(e,t){var i=this;return e=i._get(e),i.listView.select(e).done(function(){t||i._state!==b||(i._state=y),-1===e&&i._selectValue(null)})},_selectValue:function(e){var t=this,i=t.options.optionLabel,n=t.listView.select(),s="",r="";(n=n[n.length-1])===o&&(n=-1),this._resetOptionLabel(" k-state-selected"),e||0===e?(r=e,s=t._dataValue(e),i&&(n+=1)):i&&(t._focus(t.optionLabel.addClass("k-state-selected")),r=t._optionLabelText(),s="string"==typeof i?"":t._value(i),n=0),t.selectedIndex=n,null===s&&(s=""),t._textAccessor(r),t._accessor(s,n),t._triggerCascade()},_mobile:function(){var e=this.popup,t=c.mobileOS;e.element.parents(".km-root").eq(0).length&&t&&(e.options.animation.open.effects=t.android||t.meego?"fadeIn":t.ios||t.wp?"slideIn:up":e.options.animation.open.effects)},_filterHeader:function(){this.filterInput&&(this.filterInput.off(f).parent().remove(),this.filterInput=null),this._isFilterEnabled()&&(this.filterInput=a('<input class="k-textbox"/>').attr({placeholder:this.element.attr("placeholder"),title:this.element.attr("title"),role:"listbox","aria-haspopup":!0,"aria-expanded":!1}),this.list.prepend(a('<span class="k-list-filter" />').append(this.filterInput.add('<span class="k-icon k-i-zoom"></span>'))))},_span:function(){var e,t=this.wrapper,i="span.k-input";(e=t.find(i))[0]||(t.append('<span unselectable="on" class="k-dropdown-wrap k-state-default"><span unselectable="on" class="k-input">&nbsp;</span><span unselectable="on" class="k-select" aria-label="select"><span class="k-icon k-i-arrow-60-down"></span></span></span>').append(this.element),e=t.find(i)),this.span=e,this._inputWrapper=a(t[0].firstChild),this._arrow=t.find(".k-select"),this._arrowIcon=this._arrow.find(".k-icon")},_wrapper:function(){var e,t=this.element,i=t[0];(e=t.parent()).is("span.k-widget")||((e=t.wrap("<span />").parent())[0].style.cssText=i.style.cssText,e[0].title=i.title),this._focused=this.wrapper=e.addClass("k-widget k-dropdown").addClass(i.className).css("display","").attr({accesskey:t.attr("accesskey"),unselectable:"on",role:"listbox","aria-haspopup":!0,"aria-expanded":!1}),t.hide().removeAttr("accesskey")},_clearSelection:function(e){this.select(e.value()?0:-1)},_inputTemplate:function(){var e=this.options.valueTemplate;if(e=e?l.template(e):a.proxy(l.template("#:this._text(data)#",{useWithBlock:!1}),this),this.valueTemplate=e,this.hasOptionLabel()&&!this.options.optionLabelTemplate)try{this.valueTemplate(this._optionLabelDataItem())}catch(e){throw new Error("The `optionLabel` option is not valid due to missing fields. Define a custom optionLabel as shown here http://docs.telerik.com/kendo-ui/api/javascript/ui/dropdownlist#configuration-optionLabel")}},_textAccessor:function(e){var t=null,i=this.valueTemplate,n=this._optionLabelText(),s=this.span;if(e===o)return s.text();a.isPlainObject(e)||e instanceof p?t=e:n&&n===e&&(t=this.options.optionLabel),t||(t=this._assignInstance(e,this._accessor())),this.hasOptionLabel()&&(t!==n&&this._text(t)!==n||(i=this.optionLabelTemplate,"string"!=typeof this.options.optionLabel||this.options.optionLabelTemplate||(t=n)));var r=function(){return{elements:s.get(),data:[{dataItem:t}]}};this.angular("cleanup",r);try{s.html(i(t))}catch(e){s.html("")}this.angular("compile",r)},_preselect:function(e,t){e||t||(t=this._optionLabelText()),this._accessor(e),this._textAccessor(t),this._old=this._accessor(),this._oldIndex=this.selectedIndex,this.listView.setValue(e),this._initialIndex=null,this._presetValue=!0},_assignInstance:function(e,t){var i=this.options.dataTextField,n={};return n=i?(x(n,i.split("."),e),x(n,this.options.dataValueField.split("."),t),new p(n)):e}});function x(e,t,i){for(var n,s=0,r=t.length-1;s<r;++s)(n=t[s])in e||(e[n]={}),e=e[n];e[t[r]]=i}function C(e,t){return t<=e&&(e-=t),e}e.plugin(n)}(window.kendo.jQuery),window.kendo}),("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()})("kendo.colorpicker",["kendo.core","kendo.color","kendo.popup","kendo.slider","kendo.userevents","kendo.button"],function(){return function(l,e,t){var u=window.kendo,i=u.ui,c=i.Widget,d=u.parseColor,p=u.Color,a=u.keys,o="background-color",h="k-state-selected",n={apply:"Apply",cancel:"Cancel",noColor:"no color",clearColor:"Clear color",previewInput:"Color Hexadecimal Code"},r=".kendoColorTools",f="click"+r,m="keydown"+r,s=u.support.browser,g=s.msie&&s.version<9,_=c.extend({init:function(e,t){var i;c.fn.init.call(this,e,t),e=this.element,t=this.options,this._value=t.value=d(t.value),this._tabIndex=e.attr("tabIndex")||0,(i=this._ariaId=t.ariaId)&&e.attr("aria-labelledby",i),t._standalone&&(this._triggerSelect=this._triggerChange)},options:{name:"ColorSelector",value:null,_standalone:!0},events:["change","select","cancel"],color:function(e){return void 0!==e&&(this._value=d(e),this._updateUI(this._value)),this._value},value:function(e){return(e=this.color(e))&&(e=this.options.opacity?e.toCssRgba():e.toCss()),e||null},enable:function(e){0===arguments.length&&(e=!0),l(".k-disabled-overlay",this.wrapper).remove(),e||this.wrapper.append("<div class='k-disabled-overlay'></div>"),this._onEnable(e)},_select:function(e,t){var i=this._value;e=this.color(e),t||(this.element.trigger("change"),e.equals(i)?this._standalone||this.trigger("cancel"):this.trigger("change",{value:this.value()}))},_triggerSelect:function(e){v(this,"select",e)},_triggerChange:function(e){v(this,"change",e)},destroy:function(){this.element&&this.element.off(r),this.wrapper&&this.wrapper.off(r).find("*").off(r),this.wrapper=null,c.fn.destroy.call(this)},_updateUI:l.noop,_selectOnHide:function(){return null},_cancel:function(){this.trigger("cancel")}});function v(e,t,i){(i=d(i))&&!i.equals(e.color())&&("change"==t&&(e._value=i),i=1!=i.a?i.toCssRgba():i.toCss(),e.trigger(t,{value:i}))}var w=_.extend({init:function(e,t){var i=this;_.fn.init.call(i,e,t),e=i.wrapper=i.element;var n=(t=i.options).palette;"websafe"==n?(n="FFFFFF,FFCCFF,FF99FF,FF66FF,FF33FF,FF00FF,CCFFFF,CCCCFF,CC99FF,CC66FF,CC33FF,CC00FF,99FFFF,99CCFF,9999FF,9966FF,9933FF,9900FF,FFFFCC,FFCCCC,FF99CC,FF66CC,FF33CC,FF00CC,CCFFCC,CCCCCC,CC99CC,CC66CC,CC33CC,CC00CC,99FFCC,99CCCC,9999CC,9966CC,9933CC,9900CC,FFFF99,FFCC99,FF9999,FF6699,FF3399,FF0099,CCFF99,CCCC99,CC9999,CC6699,CC3399,CC0099,99FF99,99CC99,999999,996699,993399,990099,FFFF66,FFCC66,FF9966,FF6666,FF3366,FF0066,CCFF66,CCCC66,CC9966,CC6666,CC3366,CC0066,99FF66,99CC66,999966,996666,993366,990066,FFFF33,FFCC33,FF9933,FF6633,FF3333,FF0033,CCFF33,CCCC33,CC9933,CC6633,CC3333,CC0033,99FF33,99CC33,999933,996633,993333,990033,FFFF00,FFCC00,FF9900,FF6600,FF3300,FF0000,CCFF00,CCCC00,CC9900,CC6600,CC3300,CC0000,99FF00,99CC00,999900,996600,993300,990000,66FFFF,66CCFF,6699FF,6666FF,6633FF,6600FF,33FFFF,33CCFF,3399FF,3366FF,3333FF,3300FF,00FFFF,00CCFF,0099FF,0066FF,0033FF,0000FF,66FFCC,66CCCC,6699CC,6666CC,6633CC,6600CC,33FFCC,33CCCC,3399CC,3366CC,3333CC,3300CC,00FFCC,00CCCC,0099CC,0066CC,0033CC,0000CC,66FF99,66CC99,669999,666699,663399,660099,33FF99,33CC99,339999,336699,333399,330099,00FF99,00CC99,009999,006699,003399,000099,66FF66,66CC66,669966,666666,663366,660066,33FF66,33CC66,339966,336666,333366,330066,00FF66,00CC66,009966,006666,003366,000066,66FF33,66CC33,669933,666633,663333,660033,33FF33,33CC33,339933,336633,333333,330033,00FF33,00CC33,009933,006633,003333,000033,66FF00,66CC00,669900,666600,663300,660000,33FF00,33CC00,339900,336600,333300,330000,00FF00,00CC00,009900,006600,003300,000000",t.columns=18):"basic"==n&&(n="000000,7f7f7f,880015,ed1c24,ff7f27,fff200,22b14c,00a2e8,3f48cc,a349a4,ffffff,c3c3c3,b97a57,ffaec9,ffc90e,efe4b0,b5e61d,99d9ea,7092be,c8bfe7"),"string"==typeof n&&(n=n.split(",")),l.isArray(n)&&(n=l.map(n,function(e){return d(e)})),i._selectedID=(t.ariaId||u.guid())+"_selected",e.addClass("k-widget k-colorpalette").attr("role","grid").attr("aria-readonly","true").append(l(i._template({colors:n,columns:t.columns,tileSize:t.tileSize,value:i._value,id:t.ariaId}))).on(f,".k-item",function(e){i._select(l(e.currentTarget).css(o))}).attr("tabIndex",i._tabIndex).on(m,C(i._keydown,i));var s,r,a=t.tileSize;if(a){if(/number|string/.test(typeof a))s=r=parseFloat(a);else{if("object"!=typeof a)throw new Error("Unsupported value for the 'tileSize' argument");s=parseFloat(a.width),r=parseFloat(a.height)}e.find(".k-item").css({width:s,height:r})}},focus:function(){this.wrapper&&!this.wrapper.is("[unselectable='on']")&&this.wrapper.focus()},options:{name:"ColorPalette",columns:10,tileSize:null,palette:"basic"},_onEnable:function(e){e?this.wrapper.attr("tabIndex",this._tabIndex):this.wrapper.removeAttr("tabIndex")},_keydown:function(e){var t,i=this.wrapper.find(".k-item"),n=i.filter("."+h).get(0),s=e.keyCode;if(s==a.LEFT?t=y(i,n,-1):s==a.RIGHT?t=y(i,n,1):s==a.DOWN?t=y(i,n,this.options.columns):s==a.UP?t=y(i,n,-this.options.columns):s==a.ENTER?(x(e),n&&this._select(l(n).css(o))):s==a.ESC&&this._cancel(),t){x(e),this._current(t);try{var r=d(t.css(o));this._triggerSelect(r)}catch(e){}}},_current:function(e){this.wrapper.find("."+h).removeClass(h).attr("aria-selected",!1).removeAttr("id"),l(e).addClass(h).attr("aria-selected",!0).attr("id",this._selectedID),this.element.removeAttr("aria-activedescendant").attr("aria-activedescendant",this._selectedID)},_updateUI:function(t){var i=null;this.wrapper.find(".k-item").each(function(){var e=d(l(this).css(o));if(e&&e.equals(t))return i=this,!1}),this._current(i)},_template:u.template('<table class="k-palette k-reset" role="presentation"><tr role="row"># for (var i = 0; i < colors.length; ++i) { ## var selected = colors[i].equals(value); ## if (i && i % columns == 0) { # </tr><tr role="row"> # } #<td role="gridcell" unselectable="on" style="background-color:#= colors[i].toCss() #"#= selected ? " aria-selected=true" : "" # #=(id && i === 0) ? "id=\\""+id+"\\" " : "" # class="k-item#= selected ? " '+h+'" : "" #" aria-label="#= colors[i].toCss() #"></td># } #</tr></table>')}),b=_.extend({init:function(e,t){var s=this;_.fn.init.call(s,e,t),(t=s.options).messages=t.options?l.extend(s.options.messages,t.options.messages):s.options.messages,e=s.element,s.wrapper=e.addClass("k-widget k-flatcolorpicker").append(s._template(t)),s._hueElements=l(".k-hsv-rectangle, .k-transparency-slider .k-slider-track",e),s._selectedColor=l(".k-selected-color-display",e),s._colorAsText=l("input.k-color-value",e),s._sliders(),s._hsvArea(),s._updateUI(s._value||d("#f00")),e.find("input.k-color-value").on(m,function(e){var t=this;if(e.keyCode==a.ENTER)try{var i=d(t.value),n=s.color();s._select(i,i.equals(n))}catch(e){l(t).addClass("k-state-error")}else s.options.autoupdate&&setTimeout(function(){var e=d(t.value,!0);e&&s._updateUI(e,!0)},10)}).end().on(f,".k-controls button.apply",function(){s.options._clearedColor?s.trigger("change"):s._select(s._getHSV())}).on(f,".k-controls button.cancel",function(){s._updateUI(s.color()),s._cancel()}),g&&s._applyIEFilter()},destroy:function(){this._hueSlider.destroy(),this._opacitySlider&&this._opacitySlider.destroy(),this._hueSlider=this._opacitySlider=this._hsvRect=this._hsvHandle=this._hueElements=this._selectedColor=this._colorAsText=null,_.fn.destroy.call(this)},options:{name:"FlatColorPicker",opacity:!1,buttons:!1,input:!0,preview:!0,clearButton:!1,autoupdate:!0,messages:n},_applyIEFilter:function(){var e=this.element.find(".k-hue-slider .k-slider-track")[0],t=e.currentStyle.backgroundImage;t=t.replace(/^url\([\'\"]?|[\'\"]?\)$/g,""),e.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+t+"', sizingMethod='scale')"},_sliders:function(){var t=this,e=t.element,i=e.find(".k-hue-slider"),n=e.find(".k-transparency-slider");function s(e){t._updateUI(t._getHSV(e.value,null,null,null))}function r(e){t._updateUI(t._getHSV(null,null,null,e.value/100))}i.attr("aria-label","hue saturation"),t._hueSlider=i.kendoSlider({min:0,max:360,tickPlacement:"none",showButtons:!1,slide:s,change:s}).data("kendoSlider"),n.attr("aria-label","opacity"),t._opacitySlider=n.kendoSlider({min:0,max:100,tickPlacement:"none",showButtons:!1,slide:r,change:r}).data("kendoSlider")},_hsvArea:function(){var o=this,t=o.element.find(".k-hsv-rectangle"),i=t.find(".k-draghandle").attr("tabIndex",0).on(m,C(o._keydown,o));function n(e,t){var i=this.offset,n=e-i.left,s=t-i.top,r=this.width,a=this.height;n=n<0?0:r<n?r:n,s=s<0?0:a<s?a:s,o._svChange(n/r,1-s/a)}o._hsvEvents=new u.UserEvents(t,{global:!0,press:function(e){this.offset=u.getOffset(t),this.width=t.width(),this.height=t.height(),i.focus(),n.call(this,e.x.location,e.y.location)},start:function(){t.addClass("k-dragging"),i.focus()},move:function(e){e.preventDefault(),n.call(this,e.x.location,e.y.location)},end:function(){t.removeClass("k-dragging")}}),o._hsvRect=t,o._hsvHandle=i},_onEnable:function(e){this._hueSlider.enable(e),this._opacitySlider&&this._opacitySlider.enable(e),this.wrapper.find("input").attr("disabled",!e);var t=this._hsvRect.find(".k-draghandle");e?t.attr("tabIndex",this._tabIndex):t.removeAttr("tabIndex")},_keydown:function(n){var s=this;function e(e,t){var i=s._getHSV();i[e]+=t*(n.shiftKey?.01:.05),i[e]<0&&(i[e]=0),1<i[e]&&(i[e]=1),s._updateUI(i),x(n)}function t(e){var t=s._getHSV();t.h+=e*(n.shiftKey?1:5),t.h<0&&(t.h=0),359<t.h&&(t.h=359),s._updateUI(t),x(n)}switch(n.keyCode){case a.LEFT:n.ctrlKey?t(-1):e("s",-1);break;case a.RIGHT:n.ctrlKey?t(1):e("s",1);break;case a.UP:e(n.ctrlKey&&s._opacitySlider?"a":"v",1);break;case a.DOWN:e(n.ctrlKey&&s._opacitySlider?"a":"v",-1);break;case a.ENTER:s._select(s._getHSV());break;case a.F2:s.wrapper.find("input.k-color-value").focus().select();break;case a.ESC:s._cancel()}},focus:function(){this._hsvHandle.focus()},_getHSV:function(e,t,i,n){var s=this._hsvRect,r=s.width(),a=s.height(),o=this._hsvHandle.position();return null==e&&(e=this._hueSlider.value()),null==t&&(t=o.left/r),null==i&&(i=1-o.top/a),null==n&&(n=this._opacitySlider?this._opacitySlider.value()/100:1),p.fromHSV(e,t,i,n)},_svChange:function(e,t){var i=this._getHSV(null,e,t,null);this._updateUI(i)},_updateUI:function(e,t){var i=this,n=i._hsvRect;e&&(this._colorAsText.attr("title",i.options.messages.previewInput),this._colorAsText.removeClass("k-state-error"),i._selectedColor.css(o,e.toDisplay()),t||i._colorAsText.val(i._opacitySlider?e.toCssRgba():e.toCss()),i._triggerSelect(e),e=e.toHSV(),i._hsvHandle.css({left:e.s*n.width()+"px",top:(1-e.v)*n.height()+"px"}),i._hueElements.css(o,p.fromHSV(e.h,1,1,1).toCss()),i._hueSlider.value(e.h),i._opacitySlider&&i._opacitySlider.value(100*e.a))},_selectOnHide:function(){return this.options.buttons?null:this._getHSV()},_template:u.template('# if (preview) { #<div class="k-selected-color"><div class="k-selected-color-display"><div class="k-color-input"><input class="k-color-value" # if (clearButton && !_standalone) { #placeholder="#: messages.noColor #" # } ##= !data.input ? \'style="visibility: hidden;"\' : "" #># if (clearButton && !_standalone) { #<span class="k-clear-color k-button k-bare" title="#: messages.clearColor #"></span># } #</div></div></div># } ## if (clearButton && !_standalone && !preview) { #<div class="k-clear-color-container"><span class="k-clear-color k-button k-bare">#: messages.clearColor #</span></div># } #<div class="k-hsv-rectangle"><div class="k-hsv-gradient"></div><div class="k-draghandle"></div></div><input class="k-hue-slider" /># if (opacity) { #<input class="k-transparency-slider" /># } ## if (buttons) { #<div unselectable="on" class="k-controls"><button class="k-button k-primary apply">#: messages.apply #</button> <button class="k-button cancel">#: messages.cancel #</button></div># } #')});function y(e,t,i){var n=(e=Array.prototype.slice.call(e)).length,s=e.indexOf(t);return s<0?i<0?e[n-1]:e[0]:((s+=i)<0?s+=n:s%=n,e[s])}var k=c.extend({init:function(e,t){var i=this;c.fn.init.call(i,e,t),t=i.options;var n=(e=i.element).attr("value")||e.val();n=d(n||t.value,!0),i._value=t.value=n;var s=i.wrapper=l(i._template(t));if(e.hide().after(s),e.is("input")){e.appendTo(s);var r=e.closest("label"),a=e.attr("id");a&&(r=r.add('label[for="'+a+'"]')),r.click(function(e){i.open(),e.preventDefault()})}i._tabIndex=e.attr("tabIndex")||0,i.enable(!e.attr("disabled"));var o=e.attr("accesskey");o&&(e.attr("accesskey",null),s.attr("accesskey",o)),i.bind("activate",function(e){e.isDefaultPrevented()||i.toggle()}),i._updateUI(n)},destroy:function(){this.wrapper.off(r).find("*").off(r),this._popup&&(this._selector.destroy(),this._popup.destroy()),this._selector=this._popup=this.wrapper=null,c.fn.destroy.call(this)},enable:function(e){var t=this,i=t.wrapper,n=i.children(".k-picker-wrap"),s=n.find(".k-select");0===arguments.length&&(e=!0),t.element.attr("disabled",!e),i.attr("aria-disabled",!e),s.off(r).on("mousedown"+r,x),i.addClass("k-state-disabled").removeAttr("tabIndex").add("*",i).off(r),e?i.removeClass("k-state-disabled").attr("tabIndex",t._tabIndex).on("mouseenter"+r,function(){n.addClass("k-state-hover")}).on("mouseleave"+r,function(){n.removeClass("k-state-hover")}).on("focus"+r,function(){n.addClass("k-state-focused")}).on("blur"+r,function(){n.removeClass("k-state-focused")}).on(m,C(t._keydown,t)).on(f,".k-select",C(t.toggle,t)).on(f,t.options.toolIcon?".k-tool-icon":".k-selected-color",function(){t.trigger("activate")}):t.close()},_template:u.template('<span role="textbox" aria-haspopup="true" class="k-widget k-colorpicker"><span class="k-picker-wrap k-state-default"># if (toolIcon) { #<span class="k-icon k-tool-icon #= toolIcon #"><span class="k-selected-color"></span></span># } else { #<span class="k-selected-color"><span class="k-icon k-i-line" style="display: none;"></span></span># } #<span class="k-select" unselectable="on" aria-label="select"><span class="k-icon k-i-arrow-60-down"></span></span></span></span>'),options:{name:"ColorPicker",palette:null,columns:10,toolIcon:null,value:null,messages:n,opacity:!1,buttons:!0,preview:!0,clearButton:!1,ARIATemplate:'Current selected color is #=data || ""#'},events:["activate","change","select","open","close"],open:function(){this.element.prop("disabled")||this._getPopup().open()},close:function(){var e=this._selector&&this._selector.options||{};e._closing=!0,this._getPopup().close(),delete e._closing},toggle:function(){this.element.prop("disabled")||this._getPopup().toggle()},_noColorIcon:function(){return this.wrapper.find(".k-picker-wrap > .k-selected-color > .k-icon.k-i-line")},color:_.fn.color,value:_.fn.value,_select:_.fn._select,_triggerSelect:_.fn._triggerSelect,_isInputTypeColor:function(){var e=this.element[0];return/^input$/i.test(e.tagName)&&/^color$/i.test(e.type)},_updateUI:function(e){var t="";e&&(t=this._isInputTypeColor()||1==e.a?e.toCss():e.toCssRgba(),this.element.val(t)),this._ariaTemplate||(this._ariaTemplate=u.template(this.options.ARIATemplate)),this.wrapper.attr("aria-label",this._ariaTemplate(t)),this._triggerSelect(e),this.wrapper.find(".k-selected-color").css(o,e?e.toDisplay():"#ffffff"),this._noColorIcon()[t?"hide":"show"]()},_keydown:function(e){var t=e.keyCode;this._getPopup().visible()?(t==a.ESC?this._selector._cancel():this._selector._keydown(e),x(e)):t!=a.ENTER&&t!=a.DOWN||(this.open(),x(e))},_getPopup:function(){var r=this,e=r._popup;if(!e){var t,i=r.options;t=i.palette?w:b,i._standalone=!1,delete i.select,delete i.change,delete i.cancel;var n=u.guid(),a=r._selector=new t(l('<div id="'+n+'"/>').appendTo(document.body),i);r.wrapper.attr("aria-owns",n),r._popup=e=a.wrapper.kendoPopup({anchor:r.wrapper,adjustSize:{width:5,height:0}}).data("kendoPopup"),a.element.find(".k-clear-color").kendoButton({icon:"reset-color",click:function(e){a.options._clearedColor=!0,r.value(null),r.element.val(null),r._updateUI(null),a._colorAsText.val(""),a._hsvHandle.css({top:"0px",left:"0px"}),a._selectedColor.css(o,"#ffffff"),r.trigger("change",{value:r.value()}),e.preventDefault()}}),a.bind({select:function(e){r._updateUI(d(e.value)),delete a.options._clearedColor},change:function(){a.options._clearedColor||r._select(a.color()),r.close()},cancel:function(){a.options._clearedColor&&!r.value()&&a.value()&&r._select(a.color(),!0),r.close()}}),e.bind({close:function(e){if(r.trigger("close"))e.preventDefault();else{r.wrapper.children(".k-picker-wrap").removeClass("k-state-focused");var t=a._selectOnHide(),i=a.value(),n=r.value(),s=a.options;t?s._clearedColor&&!n||r._select(t):(setTimeout(function(){r.wrapper&&!r.wrapper.is("[unselectable='on']")&&r.wrapper.focus()}),!s._closing&&s._clearedColor&&!n&&i?r._select(i,!0):r._updateUI(r.color()))}},open:function(e){r.trigger("open")?e.preventDefault():r.wrapper.children(".k-picker-wrap").addClass("k-state-focused")},activate:function(){a._select(r.color(),!0),a.focus(),r.wrapper.children(".k-picker-wrap").addClass("k-state-focused")}})}return e}});function x(e){e.preventDefault()}function C(e,t){return function(){return e.apply(t,arguments)}}i.plugin(w),i.plugin(b),i.plugin(k)}(jQuery,parseInt),window.kendo}),("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()})("kendo.maskedtextbox",["kendo.core"],function(){return function(c,p){var e=window,h=e.Math.min,f=e.kendo,m=f.caret,i=f.keys,t=f.ui,s=t.Widget,r=".kendoMaskedTextBox",n=c.proxy,a=window.setTimeout,o="k-state-disabled",l="k-state-invalid",u="change",d="keydown";function g(e){return e+r}var _=g(f.support.propertyChangeEvent?"propertychange":"input"),v=s.extend({init:function(t,e){var i,n=this;s.fn.init.call(n,t,e),n._rules=c.extend({},n.rules,n.options.rules),t=n.element,i=t[0],n._wrapper(),n._tokenize(),n._form(),n.element.addClass("k-textbox").attr("autocomplete","off").on("focus"+r,function(){var e=i.value;e?n._togglePrompt(!0):i.value=n._old=n._emptyMask,n._oldValue=e,n._timeoutId=a(function(){m(t,0,e?n._maskLength:0)})}).on("focusout"+r,function(){var e=t.val();clearTimeout(n._timeoutId),i.value=n._old="",e!==n._emptyMask&&(i.value=n._old=e),n._change(),n._togglePrompt()}),t.is("[disabled]")||c(n.element).parents("fieldset").is(":disabled")?n.enable(!1):n.readonly(t.is("[readonly]")),n.value(n.options.value||t.val()),n._validationIcon=c("<span class='k-icon k-i-warning'></span>").insertAfter(t),f.notify(n)},options:{name:"MaskedTextBox",clearPromptChar:!1,unmaskOnPost:!1,promptChar:"_",culture:"",rules:{},value:"",mask:""},events:[u],rules:{0:/\d/,9:/\d|\s/,"#":/\d|\s|\+|\-/,L:/[a-zA-Z]/,"?":/[a-zA-Z]|\s/,"&":/\S/,C:/./,A:/[a-zA-Z0-9]/,a:/[a-zA-Z0-9]|\s/},setOptions:function(e){s.fn.setOptions.call(this,e),this._rules=c.extend({},this.rules,this.options.rules),this._tokenize(),this._unbindInput(),this._bindInput(),this.value(this.element.val())},destroy:function(){this.element.off(r),this._formElement&&(this._formElement.off("reset",this._resetHandler),this._formElement.off("submit",this._submitHandler)),s.fn.destroy.call(this)},raw:function(){return this._unmask(this.element.val(),0).replace(new RegExp(w(this.options.promptChar),"g"),"")},value:function(e){var t=this.element,i=this._emptyMask;return e===p?this.element.val():(null===e&&(e=""),i?(e=this._unmask(e+""),t.val(e?i:""),this._mask(0,this._maskLength,e),this._unmaskedValue=null,e=t.val(),this._oldValue=e,void(f._activeElement()!==t&&(e===i?t.val(""):this._togglePrompt()))):(this._oldValue=e,void t.val(e)))},_togglePrompt:function(e){var t=this.element[0],i=t.value;this.options.clearPromptChar&&(i=e?this._oldValue:i.replace(new RegExp(w(this.options.promptChar),"g")," "),t.value=this._old=i)},readonly:function(e){this._editable({readonly:e===p||e,disable:!1})},enable:function(e){this._editable({readonly:!1,disable:!(e=e===p||e)})},_bindInput:function(){var e=this;if(e._maskLength&&(e.options.$angular&&e.element.off("input"),e.element.on(g(d),n(e._keydown,e)).on(g("drop"),n(e._drop,e)).on(g(u),n(e._trackChange,e)).on(_,n(e._inputHandler,e)),f.support.browser.msie)){var t=f.support.browser.version;if(8<t&&t<11){var i=[g("mouseup"),g("drop"),g(d),g("paste")].join(" ");e.element.on(i,n(e._legacyIEInputHandler,e))}}},_unbindInput:function(){var e=[_,g(d),g("mouseup"),g("drop"),g("paste")].join(" ");this.element.off(e)},_editable:function(e){var t=this.element,i=this.wrapper,n=e.disable,s=e.readonly;this._unbindInput(),s||n?(t.attr("disabled",n).attr("readonly",s),i.toggleClass(o,n)):(t.removeAttr("disabled").removeAttr("readonly"),i.removeClass(o),this._bindInput())},_change:function(){var e=this.value();e!==this._oldValue?(this._oldValue=e,this.trigger(u),this.element.trigger(u)):""===e&&this.__changing&&this.element.trigger(u)},inputChange:function(e){var t=this,i=t._old,n=t.element[0],s=n.value,r=m(n)[1],a=s.length-i.length,o=f.support.mobileOS;if(!(t.__dropping&&a<0)){-1===a&&o.android&&"chrome"===o.browser&&(e=!0);var l=h(r,function(e,t){for(var i=0;i<t.length&&e[i]===t[i];)i++;return i}(s,i)),u=s.substring(l,r);n.value=s.substring(0,l)+t._emptyMask.substring(l);var c=t._mask(l,r,u),d=t._trimStartPromptChars(s.substring(r),h(a,c-l)),p=t._unmask(d,i.length-d.length);t._mask(c,c,p),e&&(c=t._findCaretPosBackwards(l)),m(n,c),t.__dropping=!1}},_trimStartPromptChars:function(e,t){for(var i=this.options.promptChar;0<t--&&0===e.indexOf(i);)e=e.substring(1);return e},_findCaretPosBackwards:function(e){var t=this._find(e,!0);return t<e&&(t+=1),t},_inputHandler:function(){f._activeElement()===this.element[0]&&this.inputChange(this.__backward)},_legacyIEInputHandler:function(e){var t=this,i=t.element[0],n=i.value,s=e.type;t.__pasting="paste"===s,a(function(){"mouseup"===s&&t.__pasting||i.value&&i.value!==n&&t.inputChange(t.__backward)})},_trackChange:function(){var e=this;e.__changing=!0,a(function(){e.__changing=!1})},_form:function(){var e=this,t=e.element,i=t.attr("form"),n=i?c("#"+i):t.closest("form");n[0]&&(e._resetHandler=function(){a(function(){e.value(t[0].value)})},e._submitHandler=function(){e.element[0].value=e._old=e.raw()},e.options.unmaskOnPost&&n.on("submit",e._submitHandler),e._formElement=n.on("reset",e._resetHandler))},_keydown:function(e){var t=e.keyCode;this.__backward=t===i.BACKSPACE,t===i.ENTER&&this._change()},_drop:function(){this.__dropping=!0},_find:function(e,t){var i=this.element.val()||this._emptyMask,n=1;for(!0===t&&(n=-1);-1<e||e<=this._maskLength;){if(i.charAt(e)!==this.tokens[e])return e;e+=n}return-1},_mask:function(e,t,i,n){var s,r,a,o,l=this.element[0],u=l.value||this._emptyMask,c=this.options.promptChar,d=0;for(t<(e=this._find(e,n))&&(t=e),r=this._unmask(u.substring(t),t),s=(i=this._unmask(i,e)).length,i&&(r=r.replace(new RegExp("^_{0,"+s+"}"),"")),i+=r,u=u.split(""),a=i.charAt(d);e<this._maskLength;)u[e]=a||c,a=i.charAt(++d),o===p&&s<d&&(o=e),e=this._find(e+1);return l.value=this._old=u.join(""),f._activeElement()===l&&(o===p&&(o=this._maskLength),m(l,o)),o},_unmask:function(e,t){if(!e)return"";if(this._unmaskedValue===e)return this._unmaskedValue;var i,n;e=(e+"").split("");for(var s=0,r=t||0,a=this.options.promptChar,o=e.length,l=this.tokens.length,u="";r<l&&((i=e[s])===(n=this.tokens[r])||i===a?(u+=i===a?a:"",s+=1,r+=1):"string"!=typeof n?(n&&n.test&&n.test(i)||c.isFunction(n)&&n(i)?(u+=i,r+=1):1===o&&this._blinkInvalidState(),s+=1):r+=1,!(o<=s)););return this._unmaskedValue=u},_wrapper:function(){var e=this.element,t=e[0],i=e.wrap("<span class='k-widget k-maskedtextbox'></span>").parent();i[0].style.cssText=t.style.cssText,t.style.width="100%",this.wrapper=i.addClass(t.className)},_blinkInvalidState:function(){this.wrapper.addClass(l),clearTimeout(this._invalidStateTimeout),this._invalidStateTimeout=a(n(this._removeInvalidState,this),100)},_removeInvalidState:function(){this.wrapper.removeClass(l),this._invalidStateTimeout=null},_tokenize:function(){for(var e,t,i=[],n=0,s=(this.options.mask||"").split(""),r=s.length,a=0,o="",l=this.options.promptChar,u=f.getCulture(this.options.culture).numberFormat,c=this._rules;a<r;a++)if(t=c[e=s[a]])i[n]=t,o+=l,n+=1;else{"."===e||","===e?e=u[e]:"$"===e?e=u.currency.symbol:"\\"===e&&(e=s[a+=1]);for(var d=0,p=(e=e.split("")).length;d<p;d++)i[n]=e[d],o+=e[d],n+=1}this.tokens=i,this._emptyMask=o,this._maskLength=o.length}});function w(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}t.plugin(v)}(window.kendo.jQuery),window.kendo}),("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()})("kendo.multiselect",["kendo.list","kendo.mobile.scroller","kendo.virtuallist"],function(){return f=window.kendo.jQuery,g=window.kendo,e=g.ui,s=e.List,_=f.extend({A:65},g.keys),l=g._activeElement,i=g.data.ObservableArray,o=f.proxy,v="accept",c="filter",a="rebind",t="change",d="select",p="deselect",u="aria-disabled",n="k-state-focused",w="k-state-selected",r="k-hidden",h="k-state-hover",b="k-state-disabled",k="click"+(y=".kendoMultiSelect"),x="mouseenter"+y,C="mouseleave"+y,T=/"/g,S=f.isArray,I=["font-family","font-size","font-stretch","font-style","font-weight","letter-spacing","text-transform","line-height"],D=s.extend({init:function(e,t){var i,n=this;n.ns=y,s.fn.init.call(n,e,t),n._optionsMap={},n._customOptions={},n._wrapper(),n._tagList(),n._input(),n._textContainer(),n._loader(),n._clearButton(),n._tabindex(n.input),e=n.element.attr("multiple","multiple").hide(),(t=n.options).placeholder||(t.placeholder=e.data("placeholder")),(i=e.attr("id"))&&(n._tagID=i+"_tag_active",i+="_taglist",n.tagList.attr("id",i),n.input.attr("aria-describedby",i)),n._initialOpen=!0,n._aria(i),n._dataSource(),n._ignoreCase(),n._popup(),n._tagTemplate(),n.requireValueMapper(n.options),n._initList(),n._reset(),n._enable(),n._placeholder(),t.autoBind?n.dataSource.fetch():t.value&&n._preselect(t.value),f(n.element).parents("fieldset").is(":disabled")&&n.enable(!1),g.notify(n),n._toggleCloseVisibility()},options:{name:"MultiSelect",tagMode:"multiple",enabled:!0,autoBind:!0,autoClose:!0,highlightFirst:!0,dataTextField:"",dataValueField:"",filter:"startswith",ignoreCase:!0,minLength:1,enforceMinLength:!1,delay:100,value:null,maxSelectedItems:null,placeholder:"",height:200,animation:{},virtual:!1,itemTemplate:"",tagTemplate:"",groupTemplate:"#:data#",fixedGroupTemplate:"#:data#",clearButton:!0,autoWidth:!1},events:["open","close",t,d,p,"filtering","dataBinding","dataBound"],setDataSource:function(e){this.options.dataSource=e,this._state="",this._dataSource(),this.persistTagList=!1,this.listView.setDataSource(this.dataSource),this.options.autoBind&&this.dataSource.fetch()},setOptions:function(e){var t=this._listOptions(e);s.fn.setOptions.call(this,e),this.listView.setOptions(t),this._accessors(),this._aria(this.tagList.attr("id")),this._tagTemplate(),this._placeholder(),this._clearButton()},currentTag:function(e){if(e===m)return this._currentTag;this._currentTag&&(this._currentTag.removeClass(n).removeAttr("id"),this.input.removeAttr("aria-activedescendant")),e&&(e.addClass(n).attr("id",this._tagID),this.input.attr("aria-activedescendant",this._tagID)),this._currentTag=e},dataItems:function(){return this.listView.selectedDataItems()},destroy:function(){var e=this.ns;clearTimeout(this._busy),clearTimeout(this._typingTimeout),this.wrapper.off(e),this.tagList.off(e),this.input.off(e),this._clear.off(e),s.fn.destroy.call(this)},_activateItem:function(){this.popup.visible()&&s.fn._activateItem.call(this),this.currentTag(null)},_listOptions:function(e){var t=s.fn._listOptions.call(this,f.extend(e,{selectedItemChange:o(this._selectedItemChange,this),selectable:"multiple"})),i=this.options.itemTemplate||this.options.template,n=t.itemTemplate||i||t.template;return n||(n="#:"+g.expr(t.dataTextField,"data")+"#"),t.template=n,t},_setListValue:function(){s.fn._setListValue.call(this,this._initialValues.slice(0))},_listChange:function(e){var t=this.dataSource.flatView(),i=this._optionsMap,n=this._value;this._state===a&&(this._state="");for(var s=0;s<e.added.length;s++)if(i[n(e.added[s].dataItem)]===m){this._render(t);break}this._selectValue(e.added,e.removed)},_selectedItemChange:function(e){var t,i,n=e.items;for(i=0;i<n.length;i++)t=n[i],this.tagList.children().eq(t.index).children("span:first").html(this.tagTextTemplate(t.item))},_wrapperMousedown:function(e){var t="input"!==e.target.nodeName.toLowerCase(),i=f(e.target),n=i.hasClass("k-select")||i.hasClass("k-icon");n&&(n=!i.closest(".k-select").children(".k-i-arrow-60-down").length),!t||n&&g.support.mobileOS||e.preventDefault(),n||(this.input[0]!==l()&&t&&this.input.focus(),1===this.options.minLength&&this.open())},_inputFocus:function(){this._placeholder(!1),this.wrapper.addClass(n)},_inputFocusout:function(){var e=this;clearTimeout(e._typingTimeout),e.wrapper.removeClass(n),e._placeholder(!e.listView.selectedDataItems()[0],!0),e.close(),e._state===c&&(e._state=v,e.listView.skipUpdate(!0)),e.listView.bound()&&e.listView.isFiltered()&&(e.persistTagList=!0,e._clearFilter()),e.element.blur()},_removeTag:function(e,t){var i=this,n=i._state,s=e.index(),r=i.listView,a=r.value()[s],o=i.listView.selectedDataItems()[s],l=i._customOptions[a];if(i.trigger(p,{dataItem:o,item:e}))i._close();else{l!==m||n!==v&&n!==c||(l=i._optionsMap[a]);var u=function(){i.currentTag(null),t&&i._change(),i._close()};l===m?(i.persistTagList=!1,r.select(r.select()[s]).done(u)):(i.element[0].children[l].selected=!1,r.removeAt(s),e.remove(),u())}},_tagListClick:function(e){var t=f(e.currentTarget);t.children(".k-i-arrow-60-down").length||this._removeTag(t.closest("li"),!0)},_clearClick:function(){var i=this;"single"===i.options.tagMode?i.listView.value([]):i.tagList.children().each(function(e,t){i._removeTag(f(t),!1)}),i.input.val(""),i._search(),i._change(),i.focus(),i._hideClear(),i._state===c&&(i._state=v)},_editable:function(e){var t=this,i=e.disable,n=e.readonly,s=t.wrapper.off(y),r=t.tagList.off(y),a=t.element.add(t.input.off(y));n||i?(i?s.addClass(b):s.removeClass(b),a.attr("disabled",i).attr("readonly",n).attr(u,i)):(s.removeClass(b).on("mouseenter.kendoMultiSelect mouseleave.kendoMultiSelect",t._toggleHover).on("mousedown"+y+" touchend"+y,o(t._wrapperMousedown,t)),t.input.on("keydown.kendoMultiSelect",o(t._keydown,t)).on("paste"+y,o(t._search,t)).on("input"+y,o(t._search,t)).on("focus"+y,o(t._inputFocus,t)).on("focusout"+y,o(t._inputFocusout,t)),t._clear.on(k+y+" touchend"+y,o(t._clearClick,t)),a.removeAttr("disabled").removeAttr("readonly").attr(u,!1),r.on(x,"li",function(){f(this).addClass(h)}).on(C,"li",function(){f(this).removeClass(h)}).on(k,"li.k-button .k-select",o(t._tagListClick,t)))},_close:function(){this.options.autoClose?this.close():this.popup.position()},_filterSource:function(e,t){t||(t=this._retrieveData),this._retrieveData=!1,s.fn._filterSource.call(this,e,t)},close:function(){this._activeItem=null,this.input.removeAttr("aria-activedescendant"),this.popup.close()},open:function(){var e=this;e._request&&(e._retrieveData=!1),e._retrieveData||!e.listView.bound()||e._state===v?(e._open=!0,e._state=a,e.listView.skipUpdate(!0),e.persistTagList=!(e._initialOpen&&!e.listView.bound()),e._filterSource(),e._focusItem()):e._allowOpening()&&(!e._initialOpen||e.options.autoBind||e.options.virtual||!e.options.value||f.isPlainObject(e.options.value[0])||e.value(e._initialValues),e.popup._hovered=!0,e._initialOpen=!1,e.popup.open(),e._focusItem())},toggle:function(e){e=e!==m?e:!this.popup.visible(),this[e?"open":"close"]()},refresh:function(){this.listView.refresh()},_listBound:function(){var e=this,t=e.dataSource.flatView(),i=e.listView.skip();e._render(t),e._renderFooter(),e._renderNoData(),e._toggleNoData(!t.length),e._resizePopup(),e._open&&(e._open=!1,e.toggle(e._allowOpening())),e.popup.position(),!e.options.highlightFirst||i!==m&&0!==i||e.listView.focusFirst(),e._touchScroller&&e._touchScroller.reset(),e._hideBusy(),e._makeUnselectable(),e.trigger("dataBound")},_inputValue:function(){var e=this.input.val();return this.options.placeholder===e&&(e=""),e},value:function(e){var t=this,i=t.listView,n=i.value().slice(),s=t.options.maxSelectedItems,r=i.bound()&&i.isFiltered();if(e===m)return n;t.persistTagList=!1,t.requireValueMapper(t.options,e),e=t._normalizeValues(e),null!==s&&e.length>s&&(e=e.slice(0,s)),r&&t._clearFilter(),i.value(e),t._old=t._valueBeforeCascade=i.value(),r||t._fetchData(),t._toggleCloseVisibility()},_preselect:function(e,t){S(e)||e instanceof g.data.ObservableArray||(e=[e]),(f.isPlainObject(e[0])||e[0]instanceof g.data.ObservableObject||!this.options.dataValueField)&&(this.dataSource.data(e),this.value(t||this._initialValues),this._retrieveData=!0)},_setOption:function(e,t){var i=this.element[0].children[this._optionsMap[e]];i&&(i.selected=t)},_fetchData:function(){var e=this,t=!!e.dataSource.view().length;0===e.listView.value().length||e._request||(e._retrieveData||!e._fetch&&!t)&&(e._fetch=!0,e._retrieveData=!1,e.dataSource.read().done(function(){e._fetch=!1}))},_isBound:function(){return this.listView.bound()&&!this._retrieveData},_dataSource:function(){var e=this,t=e.element,i=e.options,n=i.dataSource||{};(n=S(n)?{data:n}:n).select=t,n.fields=[{field:i.dataTextField},{field:i.dataValueField}],e.dataSource&&e._refreshHandler?e._unbindDataSource():(e._progressHandler=o(e._showBusy,e),e._errorHandler=o(e._hideBusy,e)),e.dataSource=g.data.DataSource.create(n).bind("progress",e._progressHandler).bind("error",e._errorHandler)},_reset:function(){var e=this,t=e.element,i=t.attr("form"),n=i?f("#"+i):t.closest("form");n[0]&&(e._resetHandler=function(){setTimeout(function(){e.value(e._initialValues),e._placeholder()})},e._form=n.on("reset",e._resetHandler))},_initValue:function(){var e=this.options.value||this.element.val();this._old=this._initialValues=this._normalizeValues(e)},_normalizeValues:function(e){var t=this;return null===e?e=[]:e&&f.isPlainObject(e)?e=[t._value(e)]:e&&f.isPlainObject(e[0])?e=f.map(e,function(e){return t._value(e)}):S(e)||e instanceof i?S(e)&&(e=e.slice()):e=[e],e},_change:function(){var e=this.value();(function(e,t){var i;if(null===e&&null!==t||null!==e&&null===t)return!1;if((i=e.length)!==t.length)return!1;for(;i--;)if(e[i]!==t[i])return!1;return!0})(e,this._old)||(this._old=e.slice(),this.trigger(t),this.element.trigger(t)),this.popup.position(),this._toggleCloseVisibility()},_click:function(e){var t=this,i=e.item;e.preventDefault(),t._select(i).done(function(){t._activeItem=i,t._change(),t._close()})},_getActiveItem:function(){return this._activeItem||f(this.listView.items()[this._getSelectedIndices().length-1])||this.listView.focus()},_getSelectedIndices:function(){return this.listView._selectedIndices||this.listView._selectedIndexes},_keydown:function(e){var t,i,n=this,s=e.keyCode,r=n._currentTag,a=n.listView,o=n.input.val(),l=g.support.isRtl(n.wrapper),u=n.popup.visible(),c=0;if(s!==_.ENTER&&(this._multipleSelection=!1),s===_.DOWN){if(e.preventDefault(),!u)return n.open(),void(a.focus()||a.focusFirst());a.focus()?(!n._activeItem&&e.shiftKey&&(n._activeItem=a.focus(),c=-1),t=a.getElementIndex(n._getActiveItem().first()),a.focusNext(),a.focus()?e.shiftKey&&(this._multipleSelection=!0,n._selectRange(t,a.getElementIndex(a.focus().first())+c)):a.focusLast()):a.focusFirst()}else if(s===_.UP)u&&(!n._activeItem&&e.shiftKey&&(n._activeItem=a.focus(),c=1),t=a.getElementIndex(n._getActiveItem().first()),a.focusPrev(),a.focus()?e.shiftKey&&(this._multipleSelection=!0,n._selectRange(t,a.getElementIndex(a.focus().first())+c)):n.close()),e.preventDefault();else if(s===_.LEFT&&!l||s===_.RIGHT&&l)o||(r=r?r.prev():f(n.tagList[0].lastChild))[0]&&n.currentTag(r);else if(s===_.RIGHT&&!l||s===_.LEFT&&l)!o&&r&&(r=r.next(),n.currentTag(r[0]?r:null));else if(e.ctrlKey&&!e.altKey&&s===_.A&&u&&!n.options.virtual)this._multipleSelection=!0,this._getSelectedIndices().length===a.items().length&&(n._activeItem=null),a.items().length&&n._selectRange(0,a.items().length-1);else if(s===_.ENTER&&u){if(!a.focus())return;if(e.preventDefault(),this._multipleSelection&&(this._multipleSelection=!1,a.focus().hasClass(w)))return void n._close();n._select(a.focus()).done(function(){n._change(),n._close()})}else if(s===_.SPACEBAR&&e.ctrlKey&&u)n._activeItem&&a.focus()&&a.focus()[0]===n._activeItem[0]&&(n._activeItem=null),f(a.focus()).hasClass(w)||(n._activeItem=a.focus()),n._select(a.focus()).done(function(){n._change()}),e.preventDefault();else if(s===_.SPACEBAR&&e.shiftKey&&u){var d=a.getElementIndex(n._getActiveItem()),p=a.getElementIndex(a.focus());d!==m&&p!==m&&n._selectRange(d,p),e.preventDefault()}else if(s===_.ESC)u?e.preventDefault():(n.tagList.children().each(function(e,t){n._removeTag(f(t),!1)}),n._change()),n.close();else if(s===_.HOME)u?a.focus()?(e.ctrlKey&&e.shiftKey&&!n.options.virtual&&n._selectRange(a.getElementIndex(a.focus()[0]),0),a.focusFirst()):n.close():o||(r=n.tagList[0].firstChild)&&n.currentTag(f(r));else if(s===_.END)u?a.focus()?(e.ctrlKey&&e.shiftKey&&!n.options.virtual&&n._selectRange(a.getElementIndex(a.focus()[0]),a.element.children().length-1),a.focusLast()):n.close():o||(r=n.tagList[0].lastChild)&&n.currentTag(f(r));else if(s!==_.DELETE&&s!==_.BACKSPACE||o)if(!n.popup.visible()||s!==_.PAGEDOWN&&s!==_.PAGEUP)clearTimeout(n._typingTimeout),setTimeout(function(){n._scale()}),n._search();else{e.preventDefault();var h=s===_.PAGEDOWN?1:-1;a.scrollWith(h*a.screenHeight())}else{if(n._state=v,"single"===n.options.tagMode)return(i=n.persistTagList)&&(n.persistTagList=!1),a.value([]),n._change(),n._close(),void(n.persistTagList=i);s!==_.BACKSPACE||r||(r=f(n.tagList[0].lastChild)),r&&r[0]&&n._removeTag(r,!0)}},_hideBusy:function(){clearTimeout(this._busy),this.input.attr("aria-busy",!1),this._loading.addClass(r),this._request=!1,this._busy=null,this._toggleCloseVisibility()},_showBusyHandler:function(){this.input.attr("aria-busy",!0),this._loading.removeClass(r),this._hideClear()},_showBusy:function(){this._request=!0,this._busy||(this._busy=setTimeout(o(this._showBusyHandler,this),100))},_placeholder:function(e,t){var i=this.input,n=l(),s=this.options.placeholder,r=i.val(),a=i[0]===n,o=r.length;a&&!this.options.autoClose&&r!==s||(o=0,r=""),e===m&&(e=!1,i[0]!==n&&(e=!this.listView.selectedDataItems()[0])),this._prev=r,i.toggleClass("k-readonly",e).val(e?s:r),a&&!t&&g.caret(i[0],o,o),this._scale()},_scale:function(){var e,t=this.wrapper.find(".k-multiselect-wrap"),i=t.width(),n=this._span.text(this.input.val());t.is(":visible")?e=n.width()+25:(n.appendTo(document.documentElement),i=e=n.width()+25,n.appendTo(t)),this.input.width(i<e?i:e)},_option:function(e,t,i){var n="<option";return e!==m&&(-1!==(e+="").indexOf('"')&&(e=e.replace(T,"&quot;")),n+=' value="'+e+'"'),i&&(n+=" selected"),n+=">",t!==m&&(n+=g.htmlEncode(t)),n+"</option>"},_render:function(e){var t,i,n,s,r=this.listView.selectedDataItems(),a=this.listView.value(),o=e.length,l="";a.length!==r.length&&(r=this._buildSelectedItems(a));var u={},c={};for(s=0;s<o;s++)i=e[s],n=this._value(i),-1!==(t=this._selectedItemIndex(n,r))&&r.splice(t,1),c[n]=s,l+=this._option(n,this._text(i),-1!==t);if(r.length)for(s=0;s<r.length;s++)i=r[s],u[n=this._value(i)]=o,c[n]=o,o+=1,l+=this._option(n,this._text(i),!0);this._customOptions=u,this._optionsMap=c,this.element.html(l)},_buildSelectedItems:function(e){for(var t,i=this.options.dataValueField,n=this.options.dataTextField,s=[],r=0;r<e.length;r++)(t={})[i]=e[r],t[n]=e[r],s.push(t);return s},_selectedItemIndex:function(e,t){for(var i=this._value,n=0;n<t.length;n++)if(e===i(t[n]))return n;return-1},_search:function(){var t=this;clearTimeout(t._typingTimeout),t._typingTimeout=setTimeout(function(){var e=t._inputValue();t._prev!==e&&(t._prev=e,t.search(e),t._toggleCloseVisibility())},t.options.delay)},_toggleCloseVisibility:function(){this.value().length||this.input.val()&&this.input.val()!==this.options.placeholder?this._showClear():this._hideClear()},_allowOpening:function(){return this._allowSelection()&&s.fn._allowOpening.call(this)},_allowSelection:function(){var e=this.options.maxSelectedItems;return null===e||e>this.listView.value().length},_angularTagItems:function(e){var t=this;t.angular(e,function(){return{elements:t.tagList[0].children,data:f.map(t.dataItems(),function(e){return{dataItem:e}})}})},updatePersistTagList:function(e,t){this.persistTagList.added&&this.persistTagList.added.length===t.length&&this.persistTagList.removed&&this.persistTagList.removed.length===e.length?this.persistTagList=!1:(this.listView._removedAddedIndexes=this._old.slice(),this.persistTagList={added:e,removed:t})},_selectValue:function(e,t){var i,n,s,r=this,a=r.value(),o=r.dataSource.total(),l=r.tagList,u=r._value;if(this.persistTagList)this.updatePersistTagList(e,t);else{if(r._angularTagItems("cleanup"),"multiple"===r.options.tagMode){for(s=t.length-1;-1<s;s--)i=t[s],l.children().length&&(l[0].removeChild(l[0].children[i.position]),r._setOption(u(i.dataItem),!1));for(s=0;s<e.length;s++)n=e[s],l.append(r.tagTemplate(n.dataItem)),r._setOption(u(n.dataItem),!0)}else{for((!r._maxTotal||r._maxTotal<o)&&(r._maxTotal=o),l.html(""),a.length&&l.append(r.tagTemplate({values:a,dataItems:r.dataItems(),maxTotal:r._maxTotal,currentTotal:o})),s=t.length-1;-1<s;s--)r._setOption(u(t[s].dataItem),!1);for(s=0;s<e.length;s++)r._setOption(u(e[s].dataItem),!0)}r._angularTagItems("compile"),r._placeholder()}},_select:function(e){var t=f.Deferred().resolve();if(!e)return t;var i=this,n=i.listView,s=n.dataItemByIndex(n.getElementIndex(e)),r=e.hasClass("k-state-selected");return i._state===a&&(i._state=""),i._allowSelection()||r?i.trigger(r?p:d,{dataItem:s,item:e})?(i._close(),t):(i.persistTagList=!1,n.select(e).done(function(){i._placeholder(),i._state===c&&(i._state=v,n.skipUpdate(!0))})):t},_selectRange:function(e,t){var i,s=this,r=this.listView,n=this.options.maxSelectedItems,a=this._getSelectedIndices().slice(),o=[],l=function(e){r.select(e).done(function(){e.forEach(function(e){var t=r.dataItemByIndex(e),i=r.element.children()[e],n=f(i).hasClass("k-state-selected");s.trigger(n?d:p,{dataItem:t,item:f(i)})}),s._change()})};if(a.length-1==t-e)return l(a);if(e<t)for(i=e;i<=t;i++)o.push(i);else for(i=e;t<=i;i--)o.push(i);for(null!==n&&o.length>n&&(o=o.slice(0,n)),i=0;i<o.length;i++){var u=o[i];-1==this._getSelectedIndices().indexOf(u)?a.push(u):a.splice(a.indexOf(u),1)}return a.length?(s.persistTagList=!1,l(a)):void 0},_input:function(){var e=this.element,t=e[0].accessKey,i=this._innerWrapper.children("input.k-input");i[0]||(i=f('<input class="k-input" style="width: 25px" />').appendTo(this._innerWrapper)),e.removeAttr("accesskey"),this._focused=this.input=i.attr({accesskey:t,autocomplete:"off",role:"listbox",title:e[0].title,"aria-expanded":!1})},_tagList:function(){var e=this._innerWrapper.children("ul");e[0]||(e=f('<ul role="listbox" unselectable="on" class="k-reset"/>').appendTo(this._innerWrapper)),this.tagList=e},_tagTemplate:function(){var e,t=this.options,i=t.tagTemplate,n=t.dataSource,s="multiple"===t.tagMode;this.element[0].length&&!n&&(t.dataTextField=t.dataTextField||"text",t.dataValueField=t.dataValueField||"value"),e=s?g.template("#:"+g.expr(t.dataTextField,"data")+"#",{useWithBlock:!1}):g.template("#:values.length# item(s) selected"),this.tagTextTemplate=i=i?g.template(i):e,this.tagTemplate=function(e){return'<li class="k-button" unselectable="on"><span unselectable="on">'+i(e)+'</span><span unselectable="on" aria-label="'+(s?"delete":"open")+'" class="k-select"><span class="k-icon '+(s?"k-i-close":"k-i-arrow-60-down")+'"></span></span></li>'}},_loader:function(){this._loading=f('<span class="k-icon k-i-loading '+r+'"></span>').insertAfter(this.input)},_clearButton:function(){s.fn._clearButton.call(this),this.options.clearButton&&(this._clear.insertAfter(this.input),this.wrapper.addClass("k-multiselect-clearable"))},_textContainer:function(){var e=g.getComputedStyles(this.input[0],I);e.position="absolute",e.visibility="hidden",e.top=-3333,e.left=-3333,this._span=f("<span/>").css(e).appendTo(this.wrapper)},_wrapper:function(){var e=this.element,t=e.parent("span.k-multiselect");t[0]||((t=e.wrap('<div class="k-widget k-multiselect" unselectable="on" />').parent())[0].style.cssText=e[0].style.cssText,t[0].title=e[0].title,f('<div class="k-multiselect-wrap k-floatwrap" unselectable="on" />').insertBefore(e)),this.wrapper=t.addClass(e[0].className).css("display",""),this._innerWrapper=f(t[0].firstChild)}}),e.plugin(D),window.kendo;var f,m,g,e,s,_,l,i,o,v,c,a,t,d,p,u,n,w,r,h,b,y,k,x,C,T,S,I,D}),("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()})("kendo.numerictextbox",["kendo.core","kendo.userevents"],function(){return function(u,c){var d=window.kendo,p=d.caret,h=d.keys,e=d.ui,f=e.Widget,a=d._activeElement,m=d._extractFormat,i=d.parseFloat,n=d.support.placeholder,t=d.getCulture,s="change",g=".kendoNumericTextBox",o="mouseenter"+g+" mouseleave.kendoNumericTextBox",l="k-state-default",r="k-state-focused",_="k-state-hover",v="k-icon",w="k-state-selected",b="k-state-disabled",y="k-state-invalid",k="aria-disabled",x=/^(-)?(\d*)$/,C=null,T=u.proxy,S=u.extend,I=f.extend({init:function(e,t){var i,n,s,r,a,o=this,l=t&&t.step!==c;f.fn.init.call(o,e,t),t=o.options,e=o.element.on("focusout"+g,T(o._focusout,o)).attr("role","spinbutton"),t.placeholder=t.placeholder||e.attr("placeholder"),i=o.min(e.attr("min")),n=o.max(e.attr("max")),s=o._parse(e.attr("step")),t.min===C&&i!==C&&(t.min=i),t.max===C&&n!==C&&(t.max=n),l||s===C||(t.step=s),o._initialOptions=S({},t),a=e.attr("type"),o._reset(),o._wrapper(),o._arrows(),o._validation(),o._input(),d.support.mobileOS?o._text.on("touchend"+g+" focus"+g,function(){d.support.browser.edge?o._text.one("focus"+g,function(){o._toggleText(!1),e.focus()}):(o._toggleText(!1),e.focus())}):o._text.on("focus"+g,T(o._click,o)),e.attr("aria-valuemin",t.min!==C?t.min*t.factor:t.min).attr("aria-valuemax",t.max!==C?t.max*t.factor:t.max),t.format=m(t.format),(r=t.value)==C&&(r="number"==a?parseFloat(e.val()):e.val()),o.value(r),e.is("[disabled]")||u(o.element).parents("fieldset").is(":disabled")?o.enable(!1):o.readonly(e.is("[readonly]")),o.angular("compile",function(){return{elements:o._text.get()}}),d.notify(o)},options:{name:"NumericTextBox",decimals:C,restrictDecimals:!1,min:C,max:C,value:C,step:1,round:!0,culture:"",format:"n",spinners:!0,placeholder:"",factor:1,upArrowText:"Increase value",downArrowText:"Decrease value"},events:[s,"spin"],_editable:function(e){var t=this,i=t.element,n=e.disable,s=e.readonly,r=t._text.add(i),a=t._inputWrapper.off(o);t._toggleText(!0),t._upArrowEventHandler.unbind("press"),t._downArrowEventHandler.unbind("press"),i.off("keydown"+g).off("keypress"+g).off("keyup"+g).off("paste"+g),s||n?(a.addClass(n?b:l).removeClass(n?l:b),r.attr("disabled",n).attr("readonly",s).attr(k,n)):(a.addClass(l).removeClass(b).on(o,t._toggleHover),r.removeAttr("disabled").removeAttr("readonly").attr(k,!1),t._upArrowEventHandler.bind("press",function(e){e.preventDefault(),t._spin(1),t._upArrow.addClass(w)}),t._downArrowEventHandler.bind("press",function(e){e.preventDefault(),t._spin(-1),t._downArrow.addClass(w)}),t.element.on("keydown"+g,T(t._keydown,t)).on("keypress"+g,T(t._keypress,t)).on("keyup"+g,T(t._keyup,t)).on("paste"+g,T(t._paste,t)))},readonly:function(e){this._editable({readonly:e===c||e,disable:!1})},enable:function(e){this._editable({readonly:!1,disable:!(e=e===c||e)})},setOptions:function(e){var t=this;f.fn.setOptions.call(t,e),t._arrowsWrap.toggle(t.options.spinners),t._inputWrapper.toggleClass("k-expand-padding",!t.options.spinners),t._text.prop("placeholder",t.options.placeholder),t._placeholder(t.options.placeholder),t.element.attr({"aria-valuemin":t.options.min!==C?t.options.min*t.options.factor:t.options.min,"aria-valuemax":t.options.max!==C?t.options.max*t.options.factor:t.options.max}),t.options.format=m(t.options.format),e.value!==c&&t.value(e.value)},destroy:function(){var e=this;e.element.add(e._text).add(e._upArrow).add(e._downArrow).add(e._inputWrapper).off(g),e._upArrowEventHandler.destroy(),e._downArrowEventHandler.destroy(),e._form&&e._form.off("reset",e._resetHandler),f.fn.destroy.call(e)},min:function(e){return this._option("min",e)},max:function(e){return this._option("max",e)},step:function(e){return this._option("step",e)},value:function(e){if(e===c)return this._value;(e=this._parse(e))===this._adjust(e)&&(this._update(e),this._old=this._value)},focus:function(){this._focusin()},_adjust:function(e){var t=this.options,i=t.min,n=t.max;return e===C||(i!==C&&e<i?e=i:n!==C&&n<e&&(e=n)),e},_arrows:function(){var e,t=this,i=function(){clearTimeout(t._spinning),e.removeClass(w)},n=t.options,s=n.spinners,r=t.element;(e=r.siblings("."+v))[0]||(e=u(D("increase",n.upArrowText)+D("decrease",n.downArrowText)).insertAfter(r),t._arrowsWrap=e.wrapAll('<span class="k-select"/>').parent()),s||(e.parent().toggle(s),t._inputWrapper.addClass("k-expand-padding")),t._upArrow=e.eq(0),t._upArrowEventHandler=new d.UserEvents(t._upArrow,{release:i}),t._downArrow=e.eq(1),t._downArrowEventHandler=new d.UserEvents(t._downArrow,{release:i})},_validation:function(){var e=this.element;this._validationIcon=u("<span class='k-icon k-i-warning'></span>").hide().insertAfter(e)},_blur:function(){this._toggleText(!0),this._change(this.element.val())},_click:function(u){var c=this;clearTimeout(c._focusing),c._focusing=setTimeout(function(){var e,t,i,n=u.target,s=p(n)[0],r=n.value.substring(0,s),a=c._format(c.options.format),o=a[","],l=0;o&&(t=new RegExp("\\"+o,"g"),i=new RegExp("([\\d\\"+o+"]+)(\\"+a["."]+")?(\\d+)?")),i&&(e=i.exec(r)),e&&(l=e[0].replace(t,"").length,-1!=r.indexOf("(")&&c._value<0&&l++),c._focusin(),p(c.element[0],l)})},_change:function(e){var t=this.options.factor;t&&1!==t&&null!==(e=d.parseFloat(e))&&(e/=t),this._update(e),e=this._value,this._old!=e&&(this._old=e,this._typing||this.element.trigger(s),this.trigger(s)),this._typing=!1},_culture:function(e){return e||t(this.options.culture)},_focusin:function(){this._inputWrapper.addClass(r),this._toggleText(!1),this.element[0].focus()},_focusout:function(){clearTimeout(this._focusing),this._inputWrapper.removeClass(r).removeClass(_),this._blur(),this._removeInvalidState()},_format:function(e,t){var i=this._culture(t).numberFormat;return-1<(e=e.toLowerCase()).indexOf("c")?i=i.currency:-1<e.indexOf("p")&&(i=i.percent),i},_input:function(){var e,t=this.options,i="k-formatted-value",n=this.element.addClass("k-input").show()[0],s=n.accessKey;(e=this.wrapper.find("."+i))[0]||(e=u('<input type="text"/>').insertBefore(n).addClass(i));try{n.setAttribute("type","text")}catch(e){n.type="text"}e[0].title=n.title,e[0].tabIndex=n.tabIndex,e[0].style.cssText=n.style.cssText,e.prop("placeholder",t.placeholder),s&&(e.attr("accesskey",s),n.accessKey=""),this._text=e.addClass(n.className).attr({role:"spinbutton","aria-valuemin":t.min!==C?t.min*t.factor:t.min,"aria-valuemax":t.max!==C?t.max*t.factor:t.max,autocomplete:"off"})},_keydown:function(e){var t=e.keyCode;(this._key=t)==h.DOWN?this._step(-1):t==h.UP?this._step(1):t==h.ENTER?this._change(this.element.val()):t!=h.TAB&&(this._typing=!0)},_keypress:function(e){if(0!==e.which&&!e.metaKey&&!e.ctrlKey&&e.keyCode!==h.BACKSPACE&&e.keyCode!==h.ENTER){var t,i=this.options.min,n=this.element,s=p(n),r=s[0],a=s[1],o=String.fromCharCode(e.which),l=this._format(this.options.format),u=this._key===h.NUMPAD_DOT,c=n.val();u&&(o=l["."]),c=c.substring(0,r)+o+c.substring(a),(t=this._numericRegex(l).test(c))&&u?(n.val(c),p(n,r+o.length),e.preventDefault()):(null!==i&&0<=i&&"-"===c.charAt(0)||!t)&&(this._addInvalidState(),e.preventDefault()),this._key=0}},_keyup:function(){this._removeInvalidState()},_addInvalidState:function(){this._inputWrapper.addClass(y),this._validationIcon.show()},_removeInvalidState:function(){this._inputWrapper.removeClass(y),this._validationIcon.hide()},_numericRegex:function(e){var t=e["."],i=this.options.decimals,n="*";return"."===t&&(t="\\"+t),i===C&&(i=e.decimals),0===i&&this.options.restrictDecimals?x:(this.options.restrictDecimals&&(n="{0,"+i+"}"),this._separator!==t&&(this._separator=t,this._floatRegExp=new RegExp("^(-)?(((\\d+("+t+"\\d"+n+")?)|("+t+"\\d"+n+")))?$")),this._floatRegExp)},_paste:function(e){var t=this,i=e.target,n=i.value,s=t._format(t.options.format);setTimeout(function(){var e=t._parse(i.value);e===C?t._update(n):(i.value=e.toString().replace(".",s["."]),t._adjust(e)===e&&t._numericRegex(s).test(i.value)||t._update(n))})},_option:function(e,t){var i=this.element,n=this.options;if(t===c)return n[e];((t=this._parse(t))||"step"!==e)&&(n[e]=t,i.add(this._text).attr("aria-value"+e,t),i.attr(e,t))},_spin:function(e,t){var i=this;t=t||500,clearTimeout(i._spinning),i._spinning=setTimeout(function(){i._spin(e,50)},t),i._step(e)},_step:function(e){var t=this,i=t.element,n=t._value,s=t._parse(i.val())||0,r=t.options.decimals||2;a()!=i[0]&&t._focusin(),t.options.factor&&s&&(s/=t.options.factor),s=+(s+t.options.step*e).toFixed(r),s=t._adjust(s),t._update(s),t._typing=!1,n!==s&&t.trigger("spin")},_toggleHover:function(e){u(e.currentTarget).toggleClass(_,"mouseenter"===e.type)},_toggleText:function(e){this._text.toggle(e),this.element.toggle(!e)},_parse:function(e,t){return i(e,this._culture(t),this.options.format)},_round:function(e,t){return(this.options.round?d._round:F)(e,t)},_update:function(e){var t,i=this,n=i.options,s=n.factor,r=n.format,a=n.decimals,o=i._culture(),l=i._format(r,o);a===C&&(a=l.decimals),(t=(e=i._parse(e,o))!==C)&&(e=parseFloat(i._round(e,a),10)),i._value=e=i._adjust(e),i._placeholder(d.toString(e,r,o)),e=t?(s&&(e=parseFloat(i._round(e*s,a),10)),-1!==(e=e.toString()).indexOf("e")&&(e=i._round(+e,a)),e.replace(".",l["."])):null,i.element.val(e),i.element.add(i._text).attr("aria-valuenow",e)},_placeholder:function(e){var t=this._text;t.val(e),n||e||t.val(this.options.placeholder),t.attr("title",this.element.attr("title")||t.val())},_wrapper:function(){var e,t=this.element,i=t[0];(e=t.parents(".k-numerictextbox")).is("span.k-numerictextbox")||(e=(e=t.hide().wrap('<span class="k-numeric-wrap k-state-default" />').parent()).wrap("<span/>").parent()),e[0].style.cssText=i.style.cssText,i.style.width="",this.wrapper=e.addClass("k-widget k-numerictextbox").addClass(i.className).css("display",""),this._inputWrapper=u(e[0].firstChild)},_reset:function(){var e=this,t=e.element,i=t.attr("form"),n=i?u("#"+i):t.closest("form");n[0]&&(e._resetHandler=function(){setTimeout(function(){e.value(t[0].value),e.max(e._initialOptions.max),e.min(e._initialOptions.min)})},e._form=n.on("reset",e._resetHandler))}});function D(e,t){return'<span unselectable="on" class="k-link k-link-'+e+'" aria-label="'+t+'" title="'+t+'"><span unselectable="on" class="'+v+" k-i-arrow-"+("increase"===e?"60-up":"60-down")+'"></span></span>'}function F(e,t){var i=parseFloat(e,10).toString().split(".");return i[1]&&(i[1]=i[1].substring(0,t)),i.join(".")}e.plugin(I)}(window.kendo.jQuery),window.kendo}),("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()})("kendo.toolbar",["kendo.core","kendo.userevents","kendo.popup"],function(){return function(f,n){var u=window.kendo,e=u.Class,s=u.ui.Widget,r=f.proxy,c=u.isFunction,m=u.keys,a=u._outerWidth,d="k-button",p="k-overflow-button",o="k-toggle-button",g="k-button-group",_="k-split-button",l="k-separator",h="k-state-active",v="k-state-disabled",w="k-state-hidden",b="k-icon",y="k-i-",k="k-split-button-arrow",x="k-overflow-anchor",C="k-overflow-container",T="k-toolbar-first-visible",S="k-toolbar-last-visible",I="click",D="overflowOpen",F="overflowClose",i="k-overflow-hidden",E="_optionlist",O=u.attr("uid");u.toolbar={};var A={overflowAnchor:'<div tabindex="0" class="k-overflow-anchor"></div>',overflowContainer:'<ul class="k-overflow-container k-list-container"></ul>'};u.toolbar.registerComponent=function(e,t,i){A[e]={toolbar:t,overflow:i}};var t=u.Class.extend({addOverflowAttr:function(){this.element.attr(u.attr("overflow"),this.options.overflow||"auto")},addUidAttr:function(){this.element.attr(O,this.options.uid)},addIdAttr:function(){this.options.id&&this.element.attr("id",this.options.id)},addOverflowIdAttr:function(){this.options.id&&this.element.attr("id",this.options.id+"_overflow")},attributes:function(){this.options.attributes&&this.element.attr(this.options.attributes)},show:function(){this.element.removeClass(w).show(),this.options.hidden=!1},hide:function(){this.element.addClass(w).hide(),this.overflow&&this.overflowHidden&&this.overflowHidden(),this.options.hidden=!0},remove:function(){this.element.remove()},enable:function(e){e===n&&(e=!0),this.element.toggleClass(v,!e),this.options.enable=e},twin:function(){var e=this.element.attr(O);return this.overflow&&this.options.splitContainerId?f("#"+this.options.splitContainerId).find("["+O+"='"+e+"']").data(this.options.type):this.overflow?this.toolbar.element.find("["+O+"='"+e+"']").data(this.options.type):this.toolbar.options.resizable?this.toolbar.popup.element.find("["+O+"='"+e+"']").data(this.options.type):void 0}}),M=(u.toolbar.Item=t).extend({init:function(e,t){var i=e.useButtonTag?f('<button tabindex="0"></button>'):f('<a href tabindex="0"></a>');this.element=i,this.options=e,this.toolbar=t,this.attributes(),e.primary&&i.addClass("k-primary"),e.togglable&&(i.addClass(o),this.toggle(e.selected)),e.url===n||e.useButtonTag||(i.attr("href",e.url),e.mobile&&i.attr(u.attr("role"),"button")),e.group&&(i.attr(u.attr("group"),e.group),this.group=this.toolbar.addToGroup(this,e.group)),!e.togglable&&e.click&&c(e.click)&&(this.clickHandler=e.click),e.togglable&&e.toggle&&c(e.toggle)&&(this.toggleHandler=e.toggle)},toggle:function(e,t){e=!!e,this.group&&e?this.group.select(this):this.group||this.select(e),t&&this.twin()&&this.twin().toggle(e)},getParentGroup:function(){if(this.options.isChild)return this.element.closest("."+g).data("buttonGroup")},_addGraphics:function(){var i,e,t,n=this.element,s=this.options.icon,r=this.options.spriteCssClass,a=this.options.imageUrl;(r||a||s)&&(i=!0,n.contents().filter(function(){return!f(this).hasClass("k-sprite")&&!f(this).hasClass(b)&&!f(this).hasClass("k-image")}).each(function(e,t){(1==t.nodeType||3==t.nodeType&&0<f.trim(t.nodeValue).length)&&(i=!1)}),i?n.addClass("k-button-icon"):n.addClass("k-button-icontext")),s?((e=n.children("span."+b).first())[0]||(e=f('<span class="'+b+'"></span>').prependTo(n)),e.addClass(y+s)):r?((e=n.children("span.k-sprite").first())[0]||(e=f('<span class="k-sprite '+b+'"></span>').prependTo(n)),e.addClass(r)):a&&((t=n.children("img.k-image").first())[0]||(t=f('<img alt="icon" class="k-image" />').prependTo(n)),t.attr("src",a))}}),H=(u.toolbar.Button=M).extend({init:function(e,t){M.fn.init.call(this,e,t);var i=this.element;i.addClass(d),this.addIdAttr(),e.align&&i.addClass("k-align-"+e.align),"overflow"!=e.showText&&e.text&&(e.mobile?i.html('<span class="km-text">'+e.text+"</span>"):i.html(e.text)),e.hasIcon="overflow"!=e.showIcon&&(e.icon||e.spriteCssClass||e.imageUrl),e.hasIcon&&this._addGraphics(),this.addUidAttr(),this.addOverflowAttr(),this.enable(e.enable),e.hidden&&this.hide(),this.element.data({type:"button",button:this})},select:function(e){e===n&&(e=!1),this.element.toggleClass(h,e),this.options.selected=e}});u.toolbar.ToolBarButton=H;var P=M.extend({init:function(e,t){this.overflow=!0,M.fn.init.call(this,f.extend({},e),t);var i=this.element;"toolbar"!=e.showText&&e.text&&(e.mobile?i.html('<span class="km-text">'+e.text+"</span>"):i.html('<span class="k-text">'+e.text+"</span>")),e.hasIcon="toolbar"!=e.showIcon&&(e.icon||e.spriteCssClass||e.imageUrl),e.hasIcon&&this._addGraphics(),e.isChild||this._wrap(),this.addOverflowIdAttr(),this.attributes(),this.addUidAttr(),this.addOverflowAttr(),this.enable(e.enable),i.addClass(p+" "+d),e.hidden&&this.hide(),e.togglable&&this.toggle(e.selected),this.element.data({type:"button",button:this})},_wrap:function(){this.element=this.element.wrap("<li></li>").parent()},overflowHidden:function(){this.element.addClass(i)},select:function(e){e===n&&(e=!1),this.options.isChild?this.element.toggleClass(h,e):this.element.find(".k-button").toggleClass(h,e),this.options.selected=e}});u.toolbar.OverflowButton=P,u.toolbar.registerComponent("button",H,P);var z=t.extend({createButtons:function(e){for(var t=this.options,i=t.buttons||[],n=0;n<i.length;n++)i[n].uid||(i[n].uid=u.guid()),new e(f.extend({mobile:t.mobile,isChild:!0,type:"button"},i[n]),this.toolbar).element.appendTo(this.element)},refresh:function(){this.element.children().filter(":not('."+w+"'):first").addClass("k-group-start"),this.element.children().filter(":not('."+w+"'):last").addClass("k-group-end")}}),V=(u.toolbar.ButtonGroup=z).extend({init:function(e,t){var i=this.element=f("<div></div>");this.options=e,this.toolbar=t,this.addIdAttr(),e.align&&i.addClass("k-align-"+e.align),this.createButtons(H),this.attributes(),this.addUidAttr(),this.addOverflowAttr(),this.refresh(),i.addClass(g),this.element.data({type:"buttonGroup",buttonGroup:this})}});u.toolbar.ToolBarButtonGroup=V;var L=z.extend({init:function(e,t){var i=this.element=f("<li></li>");this.options=e,this.toolbar=t,this.overflow=!0,this.addOverflowIdAttr(),this.createButtons(P),this.attributes(),this.addUidAttr(),this.addOverflowAttr(),this.refresh(),i.addClass((e.mobile?"":g)+" k-overflow-group"),this.element.data({type:"buttonGroup",buttonGroup:this})},overflowHidden:function(){this.element.addClass(i)}});u.toolbar.OverflowButtonGroup=L,u.toolbar.registerComponent("buttonGroup",V,L);var R=t.extend({init:function(e,t){var i=this.element=f('<div class="'+_+'" tabindex="0"></div>');this.options=e,this.toolbar=t,this.mainButton=new H(f.extend({},e,{hidden:!1}),t),this.arrowButton=f('<a class="'+d+" "+k+'"><span class="'+(e.mobile?"km-icon km-arrowdown":"k-icon k-i-arrow-60-down")+'"></span></a>'),this.popupElement=f('<ul class="k-list-container k-split-container"></ul>'),this.mainButton.element.removeAttr("href tabindex").appendTo(i),this.arrowButton.appendTo(i),this.popupElement.appendTo(i),e.align&&i.addClass("k-align-"+e.align),e.id||(e.id=e.uid),i.attr("id",e.id+"_wrapper"),this.addOverflowAttr(),this.addUidAttr(),this.createMenuButtons(),this.createPopup(),this._navigatable(),this.mainButton.main=!0,this.enable(e.enable),e.hidden&&this.hide(),i.data({type:"splitButton",splitButton:this,kendoPopup:this.popup})},_navigatable:function(){var i=this;i.popupElement.on("keydown","."+d,function(e){var t=f(e.target).parent();e.preventDefault(),e.keyCode===m.ESC||e.keyCode===m.TAB||e.altKey&&e.keyCode===m.UP?(i.toggle(),i.focus()):e.keyCode===m.DOWN?$(t,"next").focus():e.keyCode===m.UP?$(t,"prev").focus():e.keyCode===m.SPACEBAR||e.keyCode===m.ENTER?i.toolbar.userEvents.trigger("tap",{target:f(e.target)}):e.keyCode===m.HOME?t.parent().find(":kendoFocusable").first().focus():e.keyCode===m.END&&t.parent().find(":kendoFocusable").last().focus()})},createMenuButtons:function(){for(var e=this.options,t=e.menuButtons,i=0;i<t.length;i++)new H(f.extend({mobile:e.mobile,type:"button",click:e.click},t[i]),this.toolbar).element.wrap("<li></li>").parent().appendTo(this.popupElement)},createPopup:function(){var t=this,e=this.options,i=this.element;this.popupElement.attr("id",e.id+E).attr(O,e.rootUid),e.mobile&&(this.popupElement=G(this.popupElement)),this.popup=this.popupElement.kendoPopup({appendTo:e.mobile?f(e.mobile).children(".km-pane"):null,anchor:i,isRtl:this.toolbar._isRtl,copyAnchorStyles:!1,animation:e.animation,open:function(e){t.toolbar.trigger("open",{target:i})?e.preventDefault():t.adjustPopupWidth(e.sender)},activate:function(){this.element.find(":kendoFocusable").first().focus()},close:function(e){t.toolbar.trigger("close",{target:i})&&e.preventDefault(),i.focus()}}).data("kendoPopup"),this.popup.element.on(I,"a.k-button",Y)},adjustPopupWidth:function(e){var t,i=e.options.anchor,n=a(i);u.wrap(e.element).addClass("k-split-wrapper"),t="border-box"!==e.element.css("box-sizing")?n-(a(e.element)-e.element.width()):n,e.element.css({fontFamily:i.css("font-family"),"min-width":t})},remove:function(){this.popup.element.off(I,"a.k-button"),this.popup.destroy(),this.element.remove()},toggle:function(){(this.options.enable||this.popup.visible())&&this.popup.toggle()},enable:function(e){e===n&&(e=!0),this.mainButton.enable(e),this.element.toggleClass(v,!e),this.options.enable=e},focus:function(){this.element.focus()},hide:function(){this.popup&&this.popup.close(),this.element.addClass(w).hide(),this.options.hidden=!0},show:function(){this.element.removeClass(w).hide(),this.options.hidden=!1}});u.toolbar.ToolBarSplitButton=R;var B=t.extend({init:function(e,t){var i,n=this.element=f('<li class="'+_+'"></li>'),s=e.menuButtons;this.options=e,this.toolbar=t,this.overflow=!0,i=(e.id||e.uid)+E,this.mainButton=new P(f.extend({},e)),this.mainButton.element.appendTo(n);for(var r=0;r<s.length;r++)new P(f.extend({mobile:e.mobile,type:"button",splitContainerId:i},s[r]),this.toolbar).element.appendTo(n);this.addUidAttr(),this.addOverflowAttr(),this.mainButton.main=!0,n.data({type:"splitButton",splitButton:this})},overflowHidden:function(){this.element.addClass(i)}});u.toolbar.OverflowSplitButton=B,u.toolbar.registerComponent("splitButton",R,B);var N=t.extend({init:function(e,t){var i=this.element=f("<div>&nbsp;</div>");this.element=i,this.options=e,this.toolbar=t,this.attributes(),this.addIdAttr(),this.addUidAttr(),this.addOverflowAttr(),i.addClass(l),i.data({type:"separator",separator:this})}}),W=t.extend({init:function(e,t){var i=this.element=f("<li>&nbsp;</li>");this.element=i,this.options=e,this.toolbar=t,this.overflow=!0,this.attributes(),this.addUidAttr(),this.addOverflowIdAttr(),i.addClass(l),i.data({type:"separator",separator:this})},overflowHidden:function(){this.element.addClass(i)}});u.toolbar.registerComponent("separator",N,W);var U=t.extend({init:function(e,t,i){var n=c(e)?e(t):e;n=n instanceof jQuery?n.wrap("<div></div>").parent():f("<div></div>").html(n),this.element=n,this.options=t,this.options.type="template",this.toolbar=i,this.attributes(),this.addUidAttr(),this.addIdAttr(),this.addOverflowAttr(),n.data({type:"template",template:this})}});u.toolbar.TemplateItem=U;var q=t.extend({init:function(e,t,i){var n=c(e)?f(e(t)):f(e);n=n instanceof jQuery?n.wrap("<li></li>").parent():f("<li></li>").html(n),this.element=n,this.options=t,this.options.type="template",this.toolbar=i,this.overflow=!0,this.attributes(),this.addUidAttr(),this.addOverflowIdAttr(),this.addOverflowAttr(),n.data({type:"template",template:this})},overflowHidden:function(){this.element.addClass(i)}});function j(e){e.target.is(".k-toggle-button")||e.target.toggleClass(h,"press"==e.type)}function G(e){return(e=f(e)).hasClass("km-actionsheet")?e.closest(".km-popup-wrapper"):e.addClass("km-widget km-actionsheet").wrap('<div class="km-actionsheet-wrapper km-actionsheet-tablet km-widget km-popup"></div>').parent().wrap('<div class="km-popup-wrapper k-popup"></div>').parent()}function Y(e){f(e.target).closest("a.k-button").length&&e.preventDefault()}function $(e,t){var i="next"===t?f.fn.next:f.fn.prev,n="next"===t?f.fn.first:f.fn.last,s=i.call(e);return!s.length&&e.is("."+x)?e:s.is(":kendoFocusable")||!s.length?s:s.find(":kendoFocusable").length?n.call(s.find(":kendoFocusable")):$(s,t)}u.toolbar.OverflowTemplateItem=q;var K=e.extend({init:function(e){this.name=e,this.buttons=[]},add:function(e){this.buttons[this.buttons.length]=e},remove:function(e){var t=f.inArray(e,this.buttons);this.buttons.splice(t,1)},select:function(e){for(var t=0;t<this.buttons.length;t++)this.buttons[t].select(!1);e.select(!0),e.twin()&&e.twin().select(!0)}}),Q=s.extend({init:function(e,t){var i=this;if(s.fn.init.call(i,e,t),t=i.options,(e=i.wrapper=i.element).addClass("k-toolbar k-widget"),this.uid=u.guid(),this._isRtl=u.support.isRtl(e),this._groups={},e.attr(O,this.uid),i.isMobile="boolean"==typeof t.mobile?t.mobile:i.element.closest(".km-root")[0],i.animation=i.isMobile?{open:{effects:"fade"}}:{},i.isMobile&&(e.addClass("km-widget"),b="km-icon",y="km-",d="km-button",g="km-buttongroup",h="km-state-active",v="km-state-disabled"),t.resizable?(i._renderOverflow(),e.addClass("k-toolbar-resizable"),i.overflowUserEvents=new u.UserEvents(i.element,{threshold:5,allowSelection:!0,filter:"."+x,tap:r(i._toggleOverflow,i)}),i._resizeHandler=u.onResize(function(){i.resize()})):i.popup={element:f([])},t.items&&t.items.length){for(var n=0;n<t.items.length;n++)i.add(t.items[n]);t.resizable&&i._shrink(i.element.innerWidth())}i.userEvents=new u.UserEvents(document,{threshold:5,allowSelection:!0,filter:"["+O+"="+this.uid+"] a."+d+", ["+O+"="+this.uid+"] ."+p,tap:r(i._buttonClick,i),press:j,release:j}),i.element.on(I,"a.k-button",Y),i._navigatable(),t.resizable&&i.popup.element.on(I,NaN,Y),t.resizable&&this._toggleOverflowAnchor(),u.notify(i)},events:[I,"toggle","open","close",D,F],options:{name:"ToolBar",items:[],resizable:!0,mobile:null},addToGroup:function(e,t){var i;return(i=this._groups[t]?this._groups[t]:this._groups[t]=new K).add(e),i},destroy:function(){this.element.find("."+_).each(function(e,t){f(t).data("kendoPopup").destroy()}),this.element.off(I,"a.k-button"),this.userEvents.destroy(),this.options.resizable&&(u.unbindResize(this._resizeHandler),this.overflowUserEvents.destroy(),this.popup.element.off(I,"a.k-button"),this.popup.destroy()),s.fn.destroy.call(this)},add:function(e){var t,i,n=A[e.type],s=e.template,r=this,a=r.isMobile?"":"k-item k-state-default",o=e.overflowTemplate;if(f.extend(e,{uid:u.guid(),animation:r.animation,mobile:r.isMobile,rootUid:r.uid}),e.menuButtons)for(var l=0;l<e.menuButtons.length;l++)f.extend(e.menuButtons[l],{uid:u.guid()});s&&!o?e.overflow="never":e.overflow||(e.overflow="auto"),"never"!==e.overflow&&r.options.resizable&&(o?i=new q(o,e,r):n&&(i=new n.overflow(e,r)).element.addClass(a),i&&("auto"===e.overflow&&i.overflowHidden(),i.element.appendTo(r.popup.container),r.angular("compile",function(){return{elements:i.element.get()}}))),"always"!==e.overflow&&(s?t=new U(s,e,r):n&&(t=new n.toolbar(e,r)),t&&(t.element.appendTo(r.element),r.angular("compile",function(){return{elements:t.element.get()}})))},_getItem:function(e){var t,i,n,s,r=this.options.resizable;return(t=this.element.find(e)).length||(t=f(".k-split-container[data-uid="+this.uid+"]").find(e)),s=t.length?t.data("type"):"",(i=t.data(s))?(i.main&&(s="splitButton",i=(t=t.parent("."+_)).data(s)),r&&(n=i.twin())):r&&(s=(t=this.popup.element.find(e)).length?t.data("type"):"",(n=t.data(s))&&n.main&&(s="splitButton",n=(t=t.parent("."+_)).data(s))),{type:s,toolbar:i,overflow:n}},remove:function(e){var t=this._getItem(e);t.toolbar&&t.toolbar.remove(),t.overflow&&t.overflow.remove(),this.resize(!0)},hide:function(e){var t,i=this._getItem(e);i.toolbar&&("button"===i.toolbar.options.type&&i.toolbar.options.isChild?(t=i.toolbar.getParentGroup(),i.toolbar.hide(),t&&t.refresh()):i.toolbar.options.hidden||i.toolbar.hide()),i.overflow&&("button"===i.overflow.options.type&&i.overflow.options.isChild?(t=i.overflow.getParentGroup(),i.overflow.hide(),t&&t.refresh()):i.overflow.options.hidden||i.overflow.hide()),this.resize(!0)},show:function(e){var t=this._getItem(e);t.toolbar&&("button"===t.toolbar.options.type&&t.toolbar.options.isChild?(t.toolbar.show(),t.toolbar.getParentGroup().refresh()):t.toolbar.options.hidden&&t.toolbar.show()),t.overflow&&("button"===t.overflow.options.type&&t.overflow.options.isChild?(t.toolbar.show(),t.overflow.getParentGroup().refresh()):t.overflow.options.hidden&&t.overflow.show()),this.resize(!0)},enable:function(e,t){var i=this._getItem(e);void 0===t&&(t=!0),i.toolbar&&i.toolbar.enable(t),i.overflow&&i.overflow.enable(t)},getSelectedFromGroup:function(e){return this.element.find("."+o+"[data-group='"+e+"']").filter("."+h)},toggle:function(e,t){var i=f(e).data("button");i.options.togglable&&(t===n&&(t=!0),i.toggle(t,!0))},_renderOverflow:function(){var s=this,e=A.overflowContainer,i=s._isRtl,t=i?"left":"right";s.overflowAnchor=f(A.overflowAnchor).addClass(d),s.element.append(s.overflowAnchor),s.isMobile?(s.overflowAnchor.append('<span class="km-icon km-more"></span>'),e=G(e)):s.overflowAnchor.append('<span class="k-icon k-i-more-vertical"></span>'),s.popup=new u.ui.Popup(e,{origin:"bottom "+t,position:"top "+t,anchor:s.overflowAnchor,isRtl:i,animation:s.animation,appendTo:s.isMobile?f(s.isMobile).children(".km-pane"):null,copyAnchorStyles:!1,open:function(e){var t=u.wrap(s.popup.element).addClass("k-overflow-wrapper");s.isMobile?s.popup.container.css("max-height",parseFloat(f(".km-content:visible").innerHeight())-15+"px"):t.css("margin-left",(i?-1:1)*((a(t)-t.width())/2+1)),s.trigger(D)&&e.preventDefault()},activate:function(){this.element.find(":kendoFocusable").first().focus()},close:function(e){s.trigger(F)&&e.preventDefault(),this.element.focus()}}),s.popup.element.on("keydown","."+d,function(e){var t=f(e.target),i=t.parent(),n=i.is("."+g)||i.is("."+_);e.preventDefault(),e.keyCode===m.ESC||e.keyCode===m.TAB||e.altKey&&e.keyCode===m.UP?(s._toggleOverflow(),s.overflowAnchor.focus()):e.keyCode===m.DOWN?$(!n||n&&t.is(":last-child")?i:t,"next").focus():e.keyCode===m.UP?$(!n||n&&t.is(":first-child")?i:t,"prev").focus():e.keyCode===m.SPACEBAR||e.keyCode===m.ENTER?(s.userEvents.trigger("tap",{target:f(e.target)}),s.overflowAnchor.focus()):e.keyCode===m.HOME?i.parent().find(":kendoFocusable").first().focus():e.keyCode===m.END&&i.parent().find(":kendoFocusable").last().focus()}),s.isMobile?s.popup.container=s.popup.element.find("."+C):s.popup.container=s.popup.element,s.popup.container.attr(O,this.uid)},_toggleOverflowAnchor:function(){(this.options.mobile?0<this.popup.element.find("."+C).children(":not(."+i+", .k-popup)").length:0<this.popup.element.children(":not(."+i+", .k-popup)").length)?this.overflowAnchor.css({visibility:"visible",width:""}):this.overflowAnchor.css({visibility:"hidden",width:"1px"})},_buttonClick:function(e){var t,i,n,s,r,a,o=this,l=e.target.closest("."+k).length;e.preventDefault(),l?o._toggle(e):(t=f(e.target).closest("."+d,o.element)).hasClass(x)||(!(i=t.data("button"))&&o.popup&&(i=(t=f(e.target).closest("."+p,o.popup.container)).parent("li").data("button")),i&&i.options.enable&&(i.options.togglable?(s=c(i.toggleHandler)?i.toggleHandler:null,i.toggle(!i.options.selected,!0),r={target:t,group:i.options.group,checked:i.options.selected,id:i.options.id,item:i},s&&s.call(o,r),o.trigger("toggle",r)):(s=c(i.clickHandler)?i.clickHandler:null,r={sender:o,target:t,id:i.options.id,item:i},s&&s.call(o,r),o.trigger(I,r)),i.options.url&&(i.options.attributes&&i.options.attributes.target&&(a=i.options.attributes.target),window.open(i.options.url,a||"_self")),t.hasClass(p)&&o.popup.close(),(n=t.closest(".k-split-container"))[0]&&(n.data("kendoPopup")||n.parents(".km-popup-wrapper").data("kendoPopup")).close()))},_navigatable:function(){this.element.attr("tabindex",0).on("focusin",function(e){var t=f(e.target),i=f(this).find(":kendoFocusable:first");t.is(".k-toolbar")&&0!==i.length&&(i.is("."+x)&&(i=$(i,"next")),i.length&&i[0].focus())}).on("keydown",r(this._keydown,this))},_keydown:function(e){var t=f(e.target),i=e.keyCode,n=this.element.children(":not(.k-separator):visible"),s=this._isRtl?-1:1;if(i===m.TAB){var r=t.parentsUntil(this.element).last(),a=!1,o=!1,l=!1;if(n.not("."+x).length||(l=!0),r.length||(r=t),r.is("."+x)&&!l){var u=n.last();e.shiftKey&&e.preventDefault(),u.is(":kendoFocusable")?n.last().focus():n.last().find(":kendoFocusable").last().focus()}e.shiftKey||n.index(r)!==n.length-1||(a=!r.is("."+g)||t.is(":last-child"));var c=n.index(r)===n.not(".k-overflow-anchor").first().index();if(e.shiftKey&&c&&(o=!r.is("."+g)||t.is(":first-child")),a&&this.overflowAnchor&&"hidden"!==this.overflowAnchor.css("visibility")&&!l&&(e.preventDefault(),this.overflowAnchor.focus()),o||l&&e.shiftKey){e.preventDefault();var d=this._getPrevFocusable(this.wrapper);d&&d.focus()}this._preventNextFocus=!1}if(e.altKey&&i===m.DOWN){var p=f(document.activeElement).data("splitButton"),h=f(document.activeElement).is("."+x);p?p.toggle():h&&this._toggleOverflow()}else{if((i===m.SPACEBAR||i===m.ENTER)&&!t.is("input, checkbox"))return i===m.SPACEBAR&&e.preventDefault(),void(t.is("."+_)?(t=t.children().first(),this.userEvents.trigger("tap",{target:t})):i===m.SPACEBAR&&this.userEvents.trigger("tap",{target:t}));if(i===m.HOME){if(t.is(".k-dropdown")||t.is("input"))return;this.overflowAnchor?n.eq(1).focus():n.first().focus(),e.preventDefault()}else if(i===m.END){if(t.is(".k-dropdown")||t.is("input"))return;this.overflowAnchor&&"hidden"!=f(this.overflowAnchor).css("visibility")?this.overflowAnchor.focus():n.last().focus(),e.preventDefault()}else i!==m.RIGHT||this._preventNextFocus||t.is("input, select, .k-dropdown, .k-colorpicker")||!this._getNextElement(e.target,1*s)?i!==m.LEFT||this._preventNextFocus||t.is("input, select, .k-dropdown, .k-colorpicker")||!this._getNextElement(e.target,-1*s)||(this._getNextElement(e.target,-1*s).focus(),e.preventDefault()):(this._getNextElement(e.target,1*s).focus(),e.preventDefault())}},_getNextElement:function(e,t){var i=this.element.children(":not(.k-separator):visible"),n=-1===i.index(e)?i.index(e.parentElement):i.index(e),s=this.overflowAnchor?1:0,r=t,a=1===t?i.length-1:s,o=1===t?s:i.length-1,l=i[n+t];if(this._preventNextFocus=!1,f(e).closest("."+g).length&&!f(e).is(1===t?":last-child":":first-child"))return f(e).closest("."+g).children()[f(e).closest("."+g).children().index(e)+t];for(this.overflowAnchor&&e===this.overflowAnchor[0]&&-1===t&&(l=i[i.length-1]),n===a&&(l=!this.overflowAnchor||this.overflowAnchor&&"hidden"===f(this.overflowAnchor).css("visibility")?i[o]:this.overflowAnchor);!f(l).is(":kendoFocusable");){if(!(l=-1===t&&f(l).closest("."+g).length?f(l).children(":not(label, div)").last():f(l).children(":not(label, div)").first()).length&&!(l=i[n+(r+=t)]))return this.overflowAnchor;this._preventNextFocus=!f(l).closest("."+g).length}return l},_getPrevFocusable:function(e){return e.is("html")?e:(e.prevAll().each(function(){return(i=f(this)).is(":kendoFocusable")?(t=i,!1):0<i.find(":kendoFocusable").length?(t=i.find(":kendoFocusable").last(),!1):void 0}),t||this._getPrevFocusable(e.parent()));var t,i},_toggle:function(e){var t=f(e.target).closest("."+_).data("splitButton");e.preventDefault(),t.options.enable&&t.toggle()},_toggleOverflow:function(){this.popup.toggle()},_resize:function(e){var t=e.width;this.options.resizable&&(this.popup.close(),this._shrink(t),this._stretch(t),this._markVisibles(),this._toggleOverflowAnchor())},_childrenWidth:function(){var e=0;return this.element.children(":visible:not('."+w+"')").each(function(){e+=a(f(this),!0)}),Math.ceil(e)},_shrink:function(e){var t,i;if(e<this._childrenWidth())for(var n=(i=this.element.children(":visible:not([data-overflow='never'], ."+x+")")).length-1;0<=n&&(t=i.eq(n),!(e>this._childrenWidth()));n--)this._hideItem(t)},_stretch:function(e){var t,i;if(e>this._childrenWidth()){i=this.element.children(":hidden:not('."+w+"')");for(var n=0;n<i.length&&(t=i.eq(n),!(e<this._childrenWidth())&&this._showItem(t,e));n++);}},_hideItem:function(e){e.hide(),this.popup&&this.popup.container.find(">li[data-uid='"+e.data("uid")+"']").removeClass(i)},_showItem:function(e,t){return!!(e.length&&t>this._childrenWidth()+a(e,!0))&&(e.show(),this.popup&&this.popup.container.find(">li[data-uid='"+e.data("uid")+"']").addClass(i),!0)},_markVisibles:function(){var e=this.popup.container.children(),t=this.element.children(":not(.k-overflow-anchor)"),i=e.filter(":not(.k-overflow-hidden)"),n=t.filter(":visible");e.add(t).removeClass(T+" "+S),i.first().add(n.first()).addClass(T),i.last().add(n.last()).addClass(S)}});u.ui.plugin(Q)}(window.kendo.jQuery),window.kendo}),("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()})("kendo.panelbar",["kendo.data"],function(){return function(d,c){var s,l=window.kendo,p=l.ui,r=l.keys,h=d.extend,a=d.proxy,n=d.each,o=d.isArray,i=l.template,u=p.Widget,f=l.data.HierarchicalDataSource,m=/^(ul|a|div)$/i,g=".kendoPanelBar",_="k-last",v="k-link",w="."+v,b="error",y=".k-item",k=".k-group:visible",x="k-first",C="change",T="expand",S="k-content",I="collapse",D="mouseenter",F="contentLoad",E="k-state-active",O="> .k-panel",A="> .k-content",M="k-state-focused",H="k-state-disabled",P="k-state-selected",z="."+P,V="k-state-highlight",L=y+":not(.k-state-disabled)",R="> "+L+" > "+w+", .k-panel > "+L+" > "+w,B="> li > "+z+", .k-panel > li > "+z,N="aria-disabled",W="aria-expanded",U="aria-hidden",q="aria-selected",j=":visible",G={text:"dataTextField",url:"dataUrlField",spriteCssClass:"dataSpriteCssClassField",imageUrl:"dataImageUrlField"},Y={aria:function(e){var t="";return(e.items||e.content||e.contentUrl||e.expanded)&&(t+=W+"='"+(e.expanded?"true":"false")+"' "),!1===e.enabled&&(t+=N+"='true'"),t},wrapperCssClass:function(e,t){var i="k-item",n=t.index;return!1===t.enabled?i+=" "+H:!0===t.expanded?i+=" "+E:i+=" k-state-default",0===n&&(i+=" k-first"),n==e.length-1&&(i+=" k-last"),t.cssClass&&(i+=" "+t.cssClass),i},textClass:function(e,t){var i=v;return t.firstLevel&&(i+=" k-header"),e.selected&&(i+=" "+P),i},textAttributes:function(e){return e?" href='"+e+"'":""},arrowClass:function(e){var t="k-icon";return t+=e.expanded?" k-panelbar-collapse k-i-arrow-60-up":" k-panelbar-expand k-i-arrow-60-down"},text:function(e){return!1===e.encoded?e.text:l.htmlEncode(e.text)},groupAttributes:function(e){return!0!==e.expanded?" style='display:none'":""},ariaHidden:function(e){return!0!==e.expanded},groupCssClass:function(){return"k-group k-panel"},contentAttributes:function(e){return!0!==e.item.expanded?" style='display:none'":""},content:function(e){return e.content?e.content:e.contentUrl?"":"&nbsp;"},contentUrl:function(e){return e.contentUrl?'href="'+e.contentUrl+'"':""}};function $(e){(e=d(e)).filter(".k-first:not(:first-child)").removeClass(x),e.filter(".k-last:not(:last-child)").removeClass(_),e.filter(":first-child").addClass(x),e.filter(":last-child").addClass(_)}s=function(e){return e.children("span").children(".k-icon")};var e=l.ui.DataBoundWidget.extend({init:function(e,t){var i,n,s=this;o(t)&&(t={dataSource:t}),n=t&&!!t.dataSource,u.fn.init.call(s,e,t),e=s.wrapper=s.element.addClass("k-widget k-reset k-header k-panelbar"),t=s.options,e[0].id&&(s._itemId=e[0].id+"_pb_active"),s._tabindex(),s._accessors(),s._dataSource(),s._templates(),s._initData(n),s._updateClasses(),s._animations(t),e.on("click"+g,R,function(e){s._click(d(e.currentTarget))&&e.preventDefault()}).on(D+g+" mouseleave"+g,R,s._toggleHover).on("click"+g,".k-item.k-state-disabled > .k-link",!1).on("click"+g,".k-request-retry",a(s._retryRequest,s)).on("keydown"+g,d.proxy(s._keydown,s)).on("focus"+g,function(){var e=s.select();s._current(e[0]?e:s._first())}).on("blur"+g,function(){s._current(null)}).attr("role","menu"),(i=e.find("li."+E+" > ."+S))[0]&&s.expand(i.parent(),!1),t.dataSource||s._angularCompile(),l.notify(s)},events:[T,I,"select","activate",C,b,"dataBound",F],options:{name:"PanelBar",dataSource:{},animation:{expand:{effects:"expand:vertical",duration:200},collapse:{duration:200}},messages:{loading:"Loading...",requestFailed:"Request failed.",retry:"Retry"},autoBind:!0,loadOnDemand:!0,expandMode:"multiple",template:"",dataTextField:null},_angularCompile:function(){var e=this;e.angular("compile",function(){return{elements:e.element.children("li"),data:[{dataItem:e.options.$angular}]}})},_angularCompileElements:function(e,t){this.angular("compile",function(){return{elements:e,data:d.map(t,function(e){return[{dataItem:e}]})}})},_angularCleanup:function(){var e=this;e.angular("cleanup",function(){return{elements:e.element.children("li")}})},destroy:function(){u.fn.destroy.call(this),this.element.off(g),this._angularCleanup(),l.destroy(this.element)},_initData:function(e){e&&(this.element.empty(),this.options.autoBind&&(this._progress(!0),this.dataSource.fetch()))},_templates:function(){var e=this.options,t=a(this._fieldAccessor,this);e.template&&"string"==typeof e.template?e.template=i(e.template):e.template||(e.template=i("# var text = "+t("text")+"(data.item); ## if (typeof data.item.encoded != 'undefined' && data.item.encoded === false) {##= text ## } else { ##: text ## } #")),this.templates={content:i("<div role='region' class='k-content'#= contentAttributes(data) #>#= content(item) #</div>"),group:i("<ul role='group' aria-hidden='#= ariaHidden(group) #' class='#= groupCssClass(group) #'#= groupAttributes(group) #>#= renderItems(data) #</ul>"),itemWrapper:i("# var url = "+t("url")+"(item); ## var imageUrl = "+t("imageUrl")+"(item); ## var spriteCssClass = "+t("spriteCssClass")+"(item); ## var contentUrl = contentUrl(item); ## var tag = url||contentUrl ? 'a' : 'span'; #<#= tag # class='#= textClass(item, group) #' #= contentUrl ##= textAttributes(url) #># if (imageUrl) { #<img class='k-image' alt='' src='#= imageUrl #' /># } ## if (spriteCssClass) { #<span class='k-sprite #= spriteCssClass #'></span># } ##= data.panelBar.options.template(data) ##= arrow(data) #</#= tag #>"),item:i("<li role='menuitem' #=aria(item)#class='#= wrapperCssClass(group, item) #'"+l.attr("uid")+"='#= item.uid #'>#= itemWrapper(data) ## if (item.items && item.items.length > 0) { ##= subGroup({ items: item.items, panelBar: panelBar, group: { expanded: item.expanded } }) ## } else if (item.content || item.contentUrl) { ##= renderContent(data) ## } #</li>"),loading:i("<div class='k-item'><span class='k-icon k-i-loading'></span> #: data.messages.loading #</div>"),retry:i("#: data.messages.requestFailed # <button class='k-button k-request-retry'>#: data.messages.retry #</button>"),arrow:i("<span class='#= arrowClass(item) #'></span>"),empty:i("")}},setOptions:function(e){var t=this.options.animation;this._animations(e),e.animation=h(!0,t,e.animation),"dataSource"in e&&this.setDataSource(e.dataSource),u.fn.setOptions.call(this,e)},expand:function(s,r){var a=this,o={};if(s=this.element.find(s),!a._animating||!s.find("ul").is(":visible"))return a._animating=!0,r=!1!==r,s.each(function(e,t){t=d(t);var i=s.children(".k-group,.k-content");i.length||(i=a._addGroupElement(s));var n=i.add(t.find(A));if(!t.hasClass(H)&&0<n.length){if("single"==a.options.expandMode&&a._collapseAllExpanded(t))return a;s.find("."+V).removeClass(V),t.addClass(V),r||(o=a.options.animation,a.options.animation={expand:{effects:{}},collapse:{hide:!0,effects:{}}}),a._triggerEvent(T,t)||a._toggleItem(t,!1,!1),r||(a.options.animation=o)}}),a;a.one("complete",function(){setTimeout(function(){a.expand(s)})})},collapse:function(e,n){var s=this,r={};return s._animating=!0,n=!1!==n,(e=s.element.find(e)).each(function(e,t){var i=(t=d(t)).find(O).add(t.find(A));!t.hasClass(H)&&i.is(j)&&(t.removeClass(V),n||(r=s.options.animation,s.options.animation={expand:{effects:{}},collapse:{hide:!0,effects:{}}}),s._triggerEvent(I,t)||s._toggleItem(t,!0),n||(s.options.animation=r))}),s},updateArrow:function(e){var t=this;(e=d(e)).children(w).children(".k-panelbar-collapse, .k-panelbar-expand").remove(),e.filter(function(){var e=t.dataItem(this);return e?e.hasChildren||e.content||e.contentUrl:0<d(this).find(".k-panel").length||0<d(this).find(".k-content").length}).children(".k-link:not(:has([class*=k-i-arrow]))").each(function(){var e=d(this),t=e.parent();e.append("<span class='k-icon "+(t.hasClass(E)?" k-panelbar-collapse k-i-arrow-60-up":" k-panelbar-expand k-i-arrow-60-down")+"'/>")})},_accessors:function(){var e,t,i,n=this.options,s=this.element;for(e in G)t=n[G[e]],i=s.attr(l.attr(e+"-field")),!t&&i&&(t=i),t||(t=e),o(t)||(t=[t]),n[G[e]]=t},_progress:function(e,t){var i=this.element,n=this.templates.loading({messages:this.options.messages});1==arguments.length?(t=e)?i.html(n):i.empty():s(e).toggleClass("k-i-loading",t).removeClass("k-i-refresh")},_refreshRoot:function(e){var i=this,n={firstLevel:!0,expanded:!0,length:i.element.children().length};this.element.empty();var t=d.map(e,function(e,t){return"string"==typeof e?d(e):(e.items=[],d(i.renderItem({group:n,item:h(e,{index:t})})))});this.element.append(t),this._angularCompileElements(t,e)},_refreshChildren:function(e,t){var i,n,s;t.children(".k-group").empty();var r,a,o,l,u=e.children.data();if(u.length)for(this.append(e.children,t),this.options.loadOnDemand&&this._toggleGroup(t.children(".k-group"),!1),n=t.children(".k-group").children("li"),i=0;i<n.length;i++)s=n.eq(i),this.trigger("itemChange",{item:s,data:this.dataItem(s),ns:p});else o=(a=r=t).children("ul"),l=a.children(".k-link").children(".k-icon"),r.hasClass("k-panelbar")||(!l.length&&o.length?l=d("<span class='k-icon' />").appendTo(a):o.length&&o.children().length||(l.remove(),o.remove())),n=t.children(".k-group").children("li"),this._angularCompileElements(n,u)},findByUid:function(e){for(var t,i=this.element.find(".k-item"),n=l.attr("uid"),s=0;s<i.length;s++)if(i[s].getAttribute(n)==e){t=i[s];break}return d(t)},refresh:function(e){var t=this.options,i=e.node,n=e.action,s=e.items,r=this.wrapper,a=t.loadOnDemand;if(e.field){if(!s[0]||!s[0].level)return;return this._updateItems(s,e.field)}if(i&&(r=this.findByUid(i.uid),this._progress(r,!1)),"add"==n?this._appendItems(e.index,s,r):"remove"==n?this.remove(this.findByUid(s[0].uid)):"itemchange"==n?this._updateItems(s):"itemloaded"==n?this._refreshChildren(i,r):this._refreshRoot(s),"remove"!=n)for(var o=0;o<s.length;o++)if(!a||s[o].expanded){var l=s[o];this._hasChildItems(l)&&l.load()}this.trigger("dataBound",{node:i?r:c})},_error:function(e){var t=e.node&&this.findByUid(e.node.uid),i=this.templates.retry({messages:this.options.messages});t?(this._progress(t,!1),this._expanded(t,!1),s(t).addClass("k-i-refresh"),e.node.loaded(!1)):(this._progress(!1),this.element.html(i))},_retryRequest:function(e){e.preventDefault(),this.dataSource.fetch()},items:function(){return this.element.find(".k-item > span:first-child")},setDataSource:function(e){this.options.dataSource=e,this._dataSource(),this.options.autoBind&&(this._progress(!0),this.dataSource.fetch())},_bindDataSource:function(){this._refreshHandler=a(this.refresh,this),this._errorHandler=a(this._error,this),this.dataSource.bind(C,this._refreshHandler),this.dataSource.bind(b,this._errorHandler)},_unbindDataSource:function(){var e=this.dataSource;e&&(e.unbind(C,this._refreshHandler),e.unbind(b,this._errorHandler))},_fieldAccessor:function(e){var t=this.options[G[e]]||[],i=t.length,n="(function(item) {";return 0===i?n+="return item['"+e+"'];":(n+="var levels = ["+d.map(t,function(e){return"function(d){ return "+l.expr(e)+"}"}).join(",")+"];",n+="if(item.level){return levels[Math.min(item.level(), "+i+"-1)](item);}else",n+="{return levels["+i+"-1](item)}"),n+="})"},_dataSource:function(){var e=this.options.dataSource;e&&(e=o(e)?{data:e}:e,this._unbindDataSource(),e.fields||(e.fields=[{field:"text"},{field:"url"},{field:"spriteCssClass"},{field:"imageUrl"}]),this.dataSource=f.create(e),this._bindDataSource())},_appendItems:function(e,t,i){var n,s,r=this;i.hasClass("k-panelbar")?(n=i.children("li"),s=i):((s=i.children(".k-group")).length||(s=r._addGroupElement(i)),n=s.children("li"));var a={firstLevel:i.hasClass("k-panelbar"),expanded:!0,length:n.length},o=d.map(t,function(e,t){return d("string"==typeof e?e:r.renderItem({group:a,item:h(e,{index:t})}))});void 0===e&&(e=n.length);for(var l=0;l<o.length;l++)0===n.length||0===e?s.append(o[l]):o[l].insertAfter(n[e-1]);r._angularCompileElements(o,t),r.dataItem(i)&&(r.dataItem(i).hasChildren=!0,r.updateArrow(i))},_updateItems:function(e,t){var i,n,s,r,a=this,o={panelBar:a.options,item:r,group:{}},l="expanded"!=t;if("selected"==t)if(e[0][t]){var u=a.findByUid(e[0].uid);u.hasClass(H)||a.select(u,!0)}else a.clearSelection();else{var c=d.map(e,function(e){return a.findByUid(e.uid)});for(l&&a.angular("cleanup",function(){return{elements:c}}),i=0;i<e.length;i++)o.item=r=e[i],o.panelBar=a,n=(s=c[i]).parent(),l&&(o.group={firstLevel:n.hasClass("k-panelbar"),expanded:s.parent().hasClass(E),length:s.children().length},s.children(".k-link").remove(),s.prepend(a.templates.itemWrapper(h(o,{arrow:r.hasChildren||r.content||r.contentUrl?a.templates.arrow:a.templates.empty},Y)))),"expanded"==t?a._toggleItem(s,!r[t],!r[t]||"true"):"enabled"==t&&(a.enable(s,r[t]),r[t]||r.selected&&r.set("selected",!1)),s.length&&this.trigger("itemChange",{item:s,data:r,ns:p});l&&a.angular("compile",function(){return{elements:c,data:d.map(e,function(e){return[{dataItem:e}]})}})}},_toggleDisabled:function(e,t){(e=this.element.find(e)).toggleClass("k-state-default",t).toggleClass(H,!t).attr(N,!t)},dataItem:function(e){var t=d(e).closest(y).attr(l.attr("uid")),i=this.dataSource;return i&&i.getByUid(t)},select:function(e,i){var n=this;return e===c?n.element.find(B).parent():((e=n.element.find(e)).length?e.each(function(){var e=d(this),t=e.children(w);if(e.hasClass(H))return n;n._updateSelected(t,i)}):this._updateSelected(e),n)},clearSelection:function(){this.select(d())},enable:function(e,t){return this._toggleDisabled(e,!1!==t),this},disable:function(e){return this._toggleDisabled(e,!1),this},append:function(e,t){t=this.element.find(t);var i=this._insert(e,t,t.length?t.find(O):null);return n(i.items,function(){i.group.append(this),$(this)}),this.updateArrow(t),$(i.group.find(".k-first, .k-last")),i.group.height("auto"),this},insertBefore:function(e,t){t=this.element.find(t);var i=this._insert(e,t,t.parent());return n(i.items,function(){t.before(this),$(this)}),$(t),i.group.height("auto"),this},insertAfter:function(e,t){t=this.element.find(t);var i=this._insert(e,t,t.parent());return n(i.items,function(){t.after(this),$(this)}),$(t),i.group.height("auto"),this},remove:function(e){var t=(e=this.element.find(e)).parentsUntil(this.element,y),i=e.parent("ul");return e.remove(),!i||i.hasClass("k-panelbar")||i.children(y).length||i.remove(),t.length&&(t=t.eq(0),this.updateArrow(t),$(t)),this},reload:function(e){var t=this;(e=t.element.find(e)).each(function(){var e=d(this);t._ajaxRequest(e,e.children("."+S),!e.is(j))})},_first:function(){return this.element.children(L).first()},_last:function(){var e=this.element.children(L).last(),t=e.children(k);return t[0]?t.children(L).last():e},_current:function(e){var t=this._focused,i=this._itemId;if(e===c)return t;this.element.removeAttr("aria-activedescendant"),t&&t.length&&(t[0].id===i&&t.removeAttr("id"),t.children(w).removeClass(M)),d(e).length&&(i=e[0].id||i,e.attr("id",i).children(w).addClass(M),this.element.attr("aria-activedescendant",i)),this._focused=e},_keydown:function(e){var t=this,i=e.keyCode,n=t._current();e.target==e.currentTarget&&(i==r.DOWN||i==r.RIGHT?(t._current(t._nextItem(n)),e.preventDefault()):i==r.UP||i==r.LEFT?(t._current(t._prevItem(n)),e.preventDefault()):i==r.ENTER||i==r.SPACEBAR?(t._click(n.children(w)),e.preventDefault()):i==r.HOME?(t._current(t._first()),e.preventDefault()):i==r.END&&(t._current(t._last()),e.preventDefault()))},_nextItem:function(e){if(!e)return this._first();var t=e.children(k),i=e.nextAll(":visible").first();return t[0]&&(i=t.children("."+x)),i[0]||(i=e.parent(k).parent(y).next()),i[0]||(i=this._first()),i.hasClass(H)&&(i=this._nextItem(i)),i},_prevItem:function(e){if(!e)return this._last();var t,i=e.prevAll(":visible").first();if(i[0])for(t=i;t[0];)(t=t.children(k).children("."+_))[0]&&(i=t);else(i=e.parent(k).parent(y))[0]||(i=this._last());return i.hasClass(H)&&(i=this._prevItem(i)),i},_insert:function(e,t,i){var n,s,r=this,a=d.isPlainObject(e),o=t&&t[0];if(o||(i=r.element),s={firstLevel:i.hasClass("k-panelbar"),expanded:d(t).hasClass(E),length:i.children().length},o&&!i.length&&(i=d(r.renderGroup({group:s,options:r.options})).appendTo(t)),a||d.isArray(e)||e instanceof f){if(e instanceof f&&(e=e.data()),n=d.map(a?[e]:e,function(e,t){return d("string"==typeof e?e:r.renderItem({group:s,item:h(e,{index:t})}))}),o){var l=r.dataItem(t);l?(l.hasChildren=!0,t.attr(W,l.expanded).not("."+E).children("ul").attr(U,!l.expanded)):t.attr(W,!1)}}else n="string"==typeof e&&"<"!=e.charAt(0)?r.element.find(e):d(e),r._updateItemsClasses(n);return e.length||(e=[e]),r._angularCompileElements(n,e),{items:n,group:i}},_toggleHover:function(e){var t=d(e.currentTarget);t.parents("li."+H).length||t.toggleClass("k-state-hover",e.type==D)},_updateClasses:function(){var e,t,i,n,s;n=(e=this.element.find("li > ul").not(function(){return d(this).parentsUntil(".k-panelbar","div").length}).addClass("k-group k-panel").attr("role","group")).parent(),i=(s=this.dataItem(n))&&s.expanded||!1,e.parent().attr(W,i).not("."+E).children("ul").attr(U,!i).hide(),t=this.element.add(e).children(),this._updateItemsClasses(t),this.updateArrow(t),$(t)},_updateItemsClasses:function(e){for(var t=e.length,i=0;i<t;i++)this._updateItemClasses(e[i],i)},_updateItemClasses:function(e,t){var i,n,s=this._selected,r=this.options.contentUrls,a=r&&r[t],o=this.element[0];e=d(e).addClass("k-item").attr("role","menuitem"),l.support.browser.msie&&e.css("list-style-position","inside").css("list-style-position",""),e.children("img").addClass("k-image"),(n=e.children("a").addClass(v))[0]&&(n.attr("href",a),n.children("img").addClass("k-image")),e.filter(":not([disabled]):not([class*=k-state])").addClass("k-state-default"),e.filter("li[disabled]").addClass("k-state-disabled").attr(N,!0).removeAttr("disabled"),e.children("div").addClass(S).attr("role","region").attr(U,!0).hide().parent().attr(W,!1),(n=e.children(z))[0]&&(s&&s.removeAttr(q).children(z).removeClass(P),n.addClass(P),this._selected=e.attr(q,!0)),e.children(w)[0]||(i="<span class='k-link'/>",r&&r[t]&&e[0].parentNode==o&&(i='<a class="k-link k-header" href="'+r[t]+'"/>'),e.contents().filter(function(){return!(this.nodeName.match(m)||3==this.nodeType&&!d.trim(this.nodeValue))}).wrapAll(i)),e.parent(".k-panelbar")[0]&&e.children(w).addClass("k-header")},_click:function(e){var t,i,n,s=this,r=s.element;if(!e.parents("li."+H).length&&e.closest(".k-widget")[0]==r[0]){var a=e.closest(w),o=a.closest(y);s._updateSelected(a);var l=o.children(".k-group,.k-content"),u=this.dataItem(o);if(!l.length&&(s.options.loadOnDemand&&u&&u.hasChildren||this._hasChildItems(o)||o.content||o.contentUrl)&&(l=s._addGroupElement(o)),i=o.find(O).add(o.find(A)),t=!((!(n=a.attr("href"))||"#"!=n.charAt(n.length-1)&&-1==n.indexOf("#"+s.element[0].id+"-"))&&!i.length),i.data("animating"))return t;if(s._triggerEvent("select",o)&&(t=!0),!1!==t){if("single"==s.options.expandMode&&s._collapseAllExpanded(o))return t;if(i.length){var c=i.is(j);s._triggerEvent(c?I:T,o)||(t=s._toggleItem(o,c))}return t}}},_hasChildItems:function(e){return e.items&&0<e.items.length||e.hasChildren},_toggleItem:function(e,t,i){var n,s,r=e.find(O),a=e.find(w).attr("href"),o=this.dataItem(e),l=!t,u=o&&o.loaded();return o&&!i&&o.expanded!==l?(o.set("expanded",l),n=o.hasChildren||!!o.content||!!o.contentUrl):(!o||i&&"true"!==i||u||o.content||o.contentUrl?r.length?(this._toggleGroup(r,t),n=!0):(s=e.children("."+S)).length&&(n=!0,s.is(":empty")&&a!==c?this._ajaxRequest(e,s,t):this._toggleGroup(s,t)):(this.options.loadOnDemand&&this._progress(e,!0),e.children(".k-group,.k-content").remove(),n=o.hasChildren,o.load()),n)},_toggleGroup:function(e,t){var i=this,n=i.options.animation,s=n.expand,r=n.collapse&&"effects"in n.collapse,a=h({},n.expand,n.collapse);r||(a=h(a,{reverse:!0})),e.is(j)==t?(e.attr(U,!!t),e.parent().attr(W,!t).toggleClass(E,!t).find("> .k-link > .k-panelbar-collapse,> .k-link > .k-panelbar-expand").toggleClass("k-i-arrow-60-up",!t).toggleClass("k-panelbar-collapse",!t).toggleClass("k-i-arrow-60-down",t).toggleClass("k-panelbar-expand",t),t?(s=h(a,{hide:!0})).complete=function(){i._animationCallback()}:s=h({complete:function(e){i._triggerEvent("activate",e.closest(y)),i._animationCallback()}},s),e.kendoStop(!0,!0).kendoAnimate(s)):i._animating=!1},_animationCallback:function(){this.trigger("complete"),this._animating=!1},_addGroupElement:function(e){var t=d('<ul role="group" aria-hidden="true" class="k-group k-panel" style="display:none"></ul>');return e.append(t),t},_collapseAllExpanded:function(e){var t,n=this,i=!1,s=e.find(O).add(e.find(A));return s.is(j)&&(i=!0),s.is(j)||0===s.length||((t=e.siblings()).find(O).add(t.find(A)).filter(function(){return d(this).is(j)}).each(function(e,t){t=d(t),(i=n._triggerEvent(I,t.closest(y)))||n._toggleGroup(t,!0)}),n.one("complete",function(){setTimeout(function(){t.each(function(e,t){var i=n.dataItem(t);i&&i.set("expanded",!1)})})})),i},_ajaxRequest:function(n,s,r){var a=this,i=n.find(".k-panelbar-collapse, .k-panelbar-expand"),e=n.find(w),t=setTimeout(function(){i.addClass("k-i-loading")},100),o=e.attr("href");d.ajax({type:"GET",cache:!1,url:o,dataType:"html",data:{},error:function(e,t){i.removeClass("k-i-loading"),a.trigger(b,{xhr:e,status:t})&&this.complete()},complete:function(){clearTimeout(t),i.removeClass("k-i-loading")},success:function(e){function t(){return{elements:s.get()}}try{a.angular("cleanup",t),s.html(e),a.angular("compile",t)}catch(e){var i=window.console;i&&i.error&&i.error(e.name+": "+e.message+" in "+o),this.error(this.xhr,"error")}a._toggleGroup(s,r),a.trigger(F,{item:n[0],contentElement:s[0]})}})},_triggerEvent:function(e,t){return this.trigger(e,{item:t[0]})},_updateSelected:function(e,t){var i=this.element,n=e.parent(y),s=this._selected,r=this.dataItem(n);s&&s.removeAttr(q),this._selected=n.attr(q,!0),i.find(B).removeClass(P),i.find("> ."+V+", .k-panel > ."+V).removeClass(V),e.addClass(P),e.parentsUntil(i,y).filter(":has(.k-header)").addClass(V),this._current(n[0]?n:null),r&&r.set("selected",!0),t||this.trigger(C)},_animations:function(e){e&&"animation"in e&&!e.animation&&(e.animation={expand:{effects:{}},collapse:{hide:!0,effects:{}}})},renderItem:function(e){e=h({panelBar:this,group:{}},e);var t=this.templates.empty,i=e.item;return this.templates.item(h(e,{itemWrapper:this.templates.itemWrapper,renderContent:this.renderContent,arrow:this._hasChildItems(i)||i.content||i.contentUrl?this.templates.arrow:t,subGroup:!e.loadOnDemand||i.expanded?this.renderGroup:t},Y))},renderGroup:function(e){return(this.templates||e.panelBar.templates).group(h({renderItems:function(e){for(var t="",i=0,n=e.items,s=n?n.length:0,r=h({length:s},e.group);i<s;i++)t+=e.panelBar.renderItem(h(e,{group:r,item:h({index:i},n[i])}));return t}},e,Y))},renderContent:function(e){return e.panelBar.templates.content(h(e,Y))}});l.ui.plugin(e)}(window.kendo.jQuery),window.kendo}),("function"==typeof define&&define.amd?define:function(e,t,i){(i||t)()})("kendo.window",["kendo.draganddrop","kendo.popup"],function(){return function(b,h){var c,y=window.kendo,f=y.ui.Widget,m=y.ui.Popup.TabKeyTrap,n=y.ui.Draggable,g=b.isPlainObject,s=y._activeElement,a=y._outerWidth,u=y._outerHeight,_=b.proxy,l=b.extend,t=b.each,o=y.template,d="body",v=".kendoWindow",p=".kendoWindowModal",w=".k-window",k=".k-window-title",x=k+"bar",C=".k-window-content",T=".k-resize-handle",S=".k-overlay",I="k-content-frame",e="k-i-loading",i="k-state-hover",r="k-state-focused",D="k-window-maximized",F=":visible",E="hidden",O="cursor",A="activate",M="deactivate",H="refresh",P="resizeStart",z="overflow",V="original-overflow-rule",L="zIndex",R=".k-window-actions .k-i-window-minimize,.k-window-actions .k-i-window-maximize",B=".k-i-unpin",N=".k-i-pin,"+B,W=".k-window-titlebar .k-window-action",U=".k-window-titlebar .k-i-refresh",q="WindowEventsHandled",j=/^0[a-z]*$/i,G=y.isLocalUrl,Y={small:"k-window-sm",medium:"k-window-md",large:"k-window-lg"};function $(e){return void 0!==e}function K(e,t){return parseInt(e.css(t),10)||0}function Q(e,t,i){return Math.max(Math.min(parseInt(e,10),i===1/0?i:parseInt(i,10)),t===-1/0?t:parseInt(t,10))}function J(){return!this.type||0<=this.type.toLowerCase().indexOf("script")}function X(e){for(var t={top:e.offsetTop,left:e.offsetLeft},i=e.offsetParent;i;){t.top+=i.offsetTop,t.left+=i.offsetLeft;var n=b(i).css("overflowX"),s=b(i).css("overflowY");"auto"!==s&&"scroll"!==s||(t.top-=i.scrollTop),"auto"!==n&&"scroll"!==n||(t.left-=i.scrollLeft),i=i.offsetParent}return t}var Z=f.extend({init:function(e,t){var i,n,s,r,a,o,l,u,c=this,d={},p=t&&t.actions&&!t.actions.length;f.fn.init.call(c,e,t),r=(t=c.options).position,e=c.element,a=t.content,l=b(window),p&&(t.actions=[]),c.appendTo=b(t.appendTo),c.containment=t.draggable.containment?b(t.draggable.containment).first():null,a&&!g(a)&&(a=t.content={url:a}),e.find("script").filter(J).remove(),e.parent().is(c.appendTo)||c.containment||r.top!==h&&r.left!==h||(e.is(F)?d=e.offset():(n=e.css("visibility"),s=e.css("display"),e.css({visibility:E,display:""}),d=e.offset(),e.css({visibility:n,display:s})),r.top===h&&(r.top=d.top),r.left===h&&(r.left=d.left)),$(t.visible)&&null!==t.visible||(t.visible=e.is(F)),i=c.wrapper=e.closest(w),e.is(".k-content")&&i[0]||(e.addClass("k-window-content k-content"),c._createWindow(e,t),i=c.wrapper=e.closest(w),c.title(c.options.title),c._dimensions()),c.minTop=c.minLeft=-1/0,c.maxTop=c.maxLeft=1/0,c._position(),a&&c.refresh(a),t.visible&&c.toFront(),o=i.children(C),c._tabindex(o),t.visible&&t.modal&&c._overlay(i.is(F)).css({opacity:.5}),i.on("mouseenter"+v,W,_(c._buttonEnter,c)).on("mouseleave"+v,W,_(c._buttonLeave,c)).on("click"+v,"> "+W,_(c._windowActionHandler,c)).on("keydown"+v,_(c._keydown,c)).on("focus"+v,_(c._focus,c)).on("blur"+v,_(c._blur,c)),o.on("keydown"+v,_(c._keydown,c)).on("focus"+v,_(c._focus,c)).on("blur"+v,_(c._blur,c)),o.find("."+I)[0]&&!l.data(q)&&(l.on("blur"+v,function(){var e=b(document.activeElement).parent(C);e.length&&y.widgetInstance(e)._focus()}),l.on("focus"+v,function(){b(C).not(".k-dialog-content").each(function(e,t){y.widgetInstance(b(t))._blur()})}),l.data(q,!0)),this._resizable(),this._draggable(),t.pinned&&this.wrapper.is(":visible")&&c.pin(),(u=e.attr("id"))&&(u+="_wnd_title",i.children(x).children(k).attr("id",u),o.attr({role:"dialog","aria-labelledby":u})),i.add(i.children(".k-resize-handle,"+x)).on("mousedown"+v,_(c.toFront,c)),c.touchScroller=y.touchScroller(e),c._resizeHandler=_(c._onDocumentResize,c),c._marker=y.guid().substring(0,8),b(window).on("resize"+v+c._marker,c._resizeHandler),t.visible&&(c.trigger("open"),c.trigger(A)),y.notify(c),this.options.modal&&(this._tabKeyTrap=new m(i),this._tabKeyTrap.trap(),this._tabKeyTrap.shouldTrap=function(){return o.data("isFront")})},_buttonEnter:function(e){b(e.currentTarget).addClass(i)},_buttonLeave:function(e){b(e.currentTarget).removeClass(i)},_focus:function(){this.wrapper.addClass(r)},_blur:function(){this.wrapper.removeClass(r)},_dimensions:function(){var e=this.wrapper,t=this.options,i=t.width,n=t.height,s=t.maxHeight,r=t.size,a=["minWidth","minHeight","maxWidth","maxHeight"],o="content-box"==e.css("box-sizing"),l=o?K(e,"border-left-width")+K(e,"border-right-width"):0,u=o?K(e,"border-top-width")+K(e,"border-bottom-width"):0,c=o?K(e,"padding-top"):0;this.containment&&!this._isPinned&&(this._updateBoundaries(),t.maxHeight=Math.min(this.containment.height-(u+c),s),t.maxWidth=Math.min(this.containment.width-l,t.maxWidth));for(var d=0;d<a.length;d++){var p=t[a[d]]||"";p!=1/0&&e.css(a[d],p)}s!=1/0&&this.element.css("maxHeight",s),i?isNaN(i)&&i.toString().indexOf("px")<0?e.width(i):e.width(Q(i,t.minWidth,t.maxWidth)):e.width(""),n?isNaN(n)&&n.toString().indexOf("px")<0?e.height(n):e.height(Q(n,t.minHeight,t.maxHeight)):e.height(""),t.visible||e.hide(),r&&Y[r]&&e.addClass(Y[r])},_position:function(){var e=this.wrapper,t=this.options.position;this._updateBoundaries(),this.containment&&(t.top=Math.min(this.minTop+(t.top||0),this.maxTop),t.left=Math.min(this.minLeft+(t.left||0),this.maxLeft)),0===t.top&&(t.top=t.top.toString()),0===t.left&&(t.left=t.left.toString()),e.css({top:t.top||"",left:t.left||""})},_updateBoundaries:function(){var e=this.containment;if(!e)return null;e.width=e.innerWidth(),e.height=e.innerHeight(),parseInt(e.width,10)>e[0].clientWidth&&(e.width-=y.support.scrollbar()),parseInt(e.height,10)>e[0].clientHeight&&(e.height-=y.support.scrollbar()),e.position=X(e[0]),this._isPinned?(this.minTop=this.minLeft=-1/0,this.maxTop=this.maxLeft=1/0):(this.minTop=e.scrollTop(),this.minLeft=e.scrollLeft(),this.maxLeft=this.minLeft+e.width-a(this.wrapper,!0),this.maxTop=this.minTop+e.height-u(this.wrapper,!0))},_animationOptions:function(e){var t=this.options.animation;return t&&t[e]||{open:{effects:{}},close:{hide:!0,effects:{}}}[e]},_resize:function(){y.resize(this.element.children())},_resizable:function(){var e=this.options.resizable,i=this.wrapper;this.resizing&&(i.off("dblclick"+v).children(T).remove(),this.resizing.destroy(),this.resizing=null),e&&(i.on("dblclick"+v,x,_(function(e){b(e.target).closest(".k-window-action").length||this.toggleMaximization()},this)),t("n e s w se sw ne nw".split(" "),function(e,t){i.append(c.resizeHandle(t))}),this.resizing=new ee(this)),i=null},_draggable:function(){var e=this.options.draggable;this.dragging&&(this.dragging.destroy(),this.dragging=null),e&&(this.dragging=new te(this,e.dragHandle||x))},_actions:function(){var e=this.options,t=e.actions,i=e.pinned,n=this.wrapper.children(x).find(".k-window-actions"),s=["maximize","minimize"];t=b.map(t,function(e){return e=i&&"pin"===e.toLowerCase()?"unpin":e,{name:-1<s.indexOf(e.toLowerCase())?"window-"+e:e}}),n.html(y.render(c.action,t))},setOptions:function(e){var t=this,i=t.options.size,n=JSON.parse(JSON.stringify(e));l(e.position,t.options.position),l(e.position,n.position),f.fn.setOptions.call(t,e);var s=!1!==t.options.scrollable;if(t.restore(),void 0!==e.title&&t.title(e.title),t.wrapper.removeClass(Y[i]),t._dimensions(),t._position(),t._resizable(),t._draggable(),t._actions(),void 0!==e.modal){var r=!1!==t.options.visible;t._enableDocumentScrolling(),t._overlay(e.modal&&r)}t.element.css(z,s?"":"hidden")},events:["open",A,M,"close","minimize","maximize",H,P,"resize","resizeEnd","dragstart","dragend","error"],options:{name:"Window",animation:{open:{effects:{zoom:{direction:"in"},fade:{direction:"in"}},duration:350},close:{effects:{zoom:{direction:"out",properties:{scale:.7}},fade:{direction:"out"}},duration:350,hide:!0}},title:"",actions:["Close"],autoFocus:!0,modal:!1,size:"auto",resizable:!0,draggable:!0,minWidth:90,minHeight:50,maxWidth:1/0,maxHeight:1/0,pinned:!1,scrollable:!0,position:{},content:null,visible:null,height:null,width:null,appendTo:"body",isMaximized:!1,isMinimized:!1},_closable:function(){return-1<b.inArray("close",b.map(this.options.actions,function(e){return e.toLowerCase()}))},_keydown:function(e){var t,i,n,s,r,a,o=this,l=o.options,u=y.keys,c=e.keyCode,d=o.wrapper,p=l.isMaximized,h=l.isMinimized;c==u.ESC&&o._closable()&&(e.stopPropagation(),o._close(!1)),e.target!=e.currentTarget||o._closing||(e.altKey&&82==c&&o.refresh(),e.altKey&&80==c&&(o.options.pinned?o.unpin():o.pin()),e.altKey&&c==u.UP?h?(o.restore(),o.element.focus()):p||(o.maximize(),o.element.focus()):e.altKey&&c==u.DOWN&&(h||p?p&&(o.restore(),o.element.focus()):(o.minimize(),o.wrapper.focus())),t=y.getOffset(d),o.containment&&!o._isPinned&&(t=o.options.position),!l.draggable||e.ctrlKey||e.altKey||p||(o._updateBoundaries(),c==u.UP?(t.top=Q(t.top-10,o.minTop,o.maxTop),i=d.css("top",t.top)):c==u.DOWN?(t.top=Q(t.top+10,o.minTop,o.maxTop),i=d.css("top",t.top)):c==u.LEFT?(t.left=Q(t.left-10,o.minLeft,o.maxLeft),i=d.css("left",t.left)):c==u.RIGHT&&(t.left=Q(t.left+10,o.minLeft,o.maxLeft),i=d.css("left",t.left))),l.resizable&&e.ctrlKey&&!p&&!h&&(c==u.UP?(i=!0,s=d.height()-10):c==u.DOWN&&(i=!0,s=o.containment&&!o._isPinned?Math.min(d.height()+10,o.containment.height-t.top-K(d,"padding-top")-K(d,"borderBottomWidth")-K(d,"borderTopWidth")):d.height()+10),c==u.LEFT?(i=!0,n=d.width()-10):c==u.RIGHT&&(i=!0,n=o.containment&&!o._isPinned?Math.min(d.width()+10,o.containment.width-t.left-K(d,"borderLeftWidth")-K(d,"borderRightWidth")):d.width()+10),i&&(r=Q(n,l.minWidth,l.maxWidth),a=Q(s,l.minHeight,l.maxHeight),isNaN(r)||(d.width(r),o.options.width=r+"px"),isNaN(a)||(d.height(a),o.options.height=a+"px"),o.resize())),i&&e.preventDefault())},_overlay:function(e){var t=this.containment?this.containment.children(S):this.appendTo.children(S),i=this.wrapper;return t.length||(t=b("<div class='k-overlay' />")),t.insertBefore(i[0]).toggle(e).css(L,parseInt(i.css(L),10)-1),this.options.modal.preventScroll&&!this.containment&&this._stopDocumentScrolling(),t},_actionForIcon:function(e){return{"k-i-close":"_close","k-i-window-maximize":"maximize","k-i-window-minimize":"minimize","k-i-window-restore":"restore","k-i-refresh":"refresh","k-i-pin":"pin","k-i-unpin":"unpin"}[/\bk-i(-\w+)+\b/.exec(e[0].className)[0]]},_windowActionHandler:function(e){if(!this._closing){var t=b(e.target).closest(".k-window-action").find(".k-icon"),i=this._actionForIcon(t);return i?(e.preventDefault(),this[i](),!1):void 0}},_modals:function(){var n=this,e=b(w).filter(function(){var e=b(this),t=n._object(e),i=t&&t.options;return i&&i.modal&&i.visible&&i.appendTo===n.options.appendTo&&e.is(F)}).sort(function(e,t){return+b(e).css("zIndex")-+b(t).css("zIndex")});return n=null,e},_object:function(e){var t=e.children(C),i=y.widgetInstance(t);return i||h},center:function(){var e,t,i=this,n=i.options.position,s=i.wrapper,r=b(window),a=0,o=0;return i.options.isMaximized||(i.options.pinned&&!i._isPinned&&i.pin(),i.options.pinned||(a=r.scrollTop(),o=r.scrollLeft()),this.containment&&!i.options.pinned?(e=this.minTop+(this.maxTop-this.minTop)/2,t=this.minLeft+(this.maxLeft-this.minLeft)/2):(t=o+Math.max(0,(r.width()-s.width())/2),e=a+Math.max(0,(r.height()-s.height()-K(s,"paddingTop"))/2)),s.css({left:t,top:e}),n.top=e,n.left=t),i},title:function(e){var t,i,n,s,r=!0,a=this.wrapper,o=a.children(x),l=o.children(k);return arguments.length?(b.isPlainObject(e)?(t=void 0!==e.text?e.text:"",r=!1!==e.encoded):t=e,!1===t?(a.addClass("k-window-titleless"),o.remove()):(o.length?l.html(r?y.htmlEncode(t):t):(a.prepend(c.titlebar({title:r?y.htmlEncode(t):t})),this._actions(),o=a.children(x)),s=a.css("visibility"),n=a.css("display"),s===E?(a.css({display:""}),i=parseInt(u(o),10),a.css({display:n})):(a.css({visibility:E,display:""}),i=parseInt(u(o),10),a.css({visibility:s,display:n})),a.css("padding-top",i),o.css("margin-top",-i)),this.options.title=t,this):l.html()},content:function(e,i){var n=this.wrapper.children(C),t=n.children(".km-scroll-container");return n=t[0]?t:n,$(e)?(this.angular("cleanup",function(){return{elements:n.children()}}),y.destroy(this.element.children()),n.empty().html(e),this.angular("compile",function(){for(var e=[],t=n.length;0<=--t;)e.push({dataItem:i});return{elements:n.children(),data:e}}),this):n.html()},open:function(){var e,t,i=this,n=i.wrapper,s=i.options,r=this._animationOptions("open"),a=n.children(C),o=this.containment&&!i._isPinned?this.containment:b(document);if(!i.trigger("open")){if(i._closing&&n.kendoStop(!0,!0),i._closing=!1,i.toFront(),s.autoFocus&&i.element.focus(),s.visible=!0,s.modal){if(t=!!i._modals().length,(e=i._overlay(t)).kendoStop(!0,!0),r.duration&&y.effects.Fade&&!t){var l=y.fx(e).fadeIn();l.duration(r.duration||0),l.endValue(.5),l.play()}else e.css("opacity",.5);e.show(),b(window).on("focus"+p,function(){a.data("isFront")&&!b(document.activeElement).closest(a).length&&i.element.focus()})}n.is(F)||(a.css(z,E),n.show().kendoStop().kendoAnimate({effects:r.effects,duration:r.duration,complete:_(this._activate,this)}))}return s.isMaximized&&(i._containerScrollTop=o.scrollTop(),i._containerScrollLeft=o.scrollLeft(),i._stopDocumentScrolling()),s.pinned&&!i._isPinned&&i.pin(),i},_activate:function(){var e=!1!==this.options.scrollable;this.options.autoFocus&&this.element.focus(),this.element.css(z,e?"":"hidden"),y.resize(this.element.children()),this.trigger(A)},_removeOverlay:function(e){var t=this._modals(),i=this.options,n=i.modal&&!t.length,s=i.modal?this._overlay(!0):b(h),r=this._animationOptions("close");if(n){if(!e&&r.duration&&y.effects.Fade){var a=y.fx(s).fadeOut();a.duration(r.duration||0),a.startValue(.5),a.play()}else this._overlay(!1).remove();i.modal.preventScroll&&this._enableDocumentScrolling()}else t.length&&(this._object(t.last())._overlay(!0),i.modal.preventScroll&&this._stopDocumentScrolling())},_close:function(e){var t,i=this,n=i.wrapper,s=i.options,r=this._animationOptions("open"),a=this._animationOptions("close"),o=this.containment&&!i._isPinned?this.containment:b(document);i._closing||(t=i.trigger("close",{userTriggered:!e}),i._closing=!t,n.is(F)&&!t&&(s.visible=!1,b(w).each(function(e,t){var i=b(t).children(C);t!=n&&0<i.find("> ."+I).length&&i.children(S).remove()}),this._removeOverlay(),n.kendoStop().kendoAnimate({effects:a.effects||r.effects,reverse:!0===a.reverse,duration:a.duration,complete:_(this._deactivate,this)}),b(window).off(p)),i.options.isMaximized&&(i._enableDocumentScrolling(),i._containerScrollTop&&0<i._containerScrollTop&&o.scrollTop(i._containerScrollTop),i._containerScrollLeft&&0<i._containerScrollLeft&&o.scrollLeft(i._containerScrollLeft)))},_deactivate:function(){if(this.wrapper.hide().css("opacity",""),this.trigger(M),this.options.modal){var e=this._object(this._modals().last());e&&e.toFront()}},close:function(){return this._close(!0),this},_actionable:function(e){return b(e).is(W+","+W+" .k-icon,:input,a")},_shouldFocus:function(e){var t=s(),i=this.element;return this.options.autoFocus&&!b(t).is(i)&&!this._actionable(e)&&(!i.find(t).length||!i.find(e).length)},toFront:function(e){var t=this,i=t.wrapper,r=i[0],n=t.containment&&!t._isPinned,a=+i.css(L),s=a,o=e&&e.target||null;if(b(w).each(function(e,t){var i=b(t),n=i.css(L),s=i.children(C);isNaN(n)||(a=Math.max(+n,a)),s.data("isFront",t==r),t!=r&&0<s.find("> ."+I).length&&s.append(c.overlay)}),(!i[0].style.zIndex||s<a)&&i.css(L,a+2),t.element.find("> .k-overlay").remove(),t._shouldFocus(o)){t.isMinimized()?t.wrapper.focus():b(o).is(S)?setTimeout(function(){t.element.focus()}):t.element.focus();var l=n?t.containment.scrollTop():b(window).scrollTop(),u=parseInt(i.position().top,10);!t.options.pinned&&0<u&&u<l&&(0<l?b(window).scrollTop(u):i.css("top",l))}return i=null,t},toggleMaximization:function(){return this._closing?this:this[this.options.isMaximized?"restore":"maximize"]()},restore:function(){var e=this,t=e.options,i=t.minHeight,n=e.restoreOptions,s=e.containment&&!e._isPinned?e.containment:b(document);return(t.isMaximized||t.isMinimized)&&(i&&i!=1/0&&e.wrapper.css("min-height",i),n&&!t.isMaximized&&(n.height=Q(n.height,e.options.minHeight,e.options.maxHeight),t.position.top+parseInt(n.height,10)>e.maxTop&&(t.position.top=Q(t.position.top,e.minTop,e.maxTop-parseInt(n.height,10)),l(n,{left:t.position.left,top:t.position.top}))),e.wrapper.css({position:t.pinned?"fixed":"absolute",left:n.left,top:n.top,width:n.width,height:n.height}).removeClass(D).find(".k-window-content,.k-resize-handle").show().end().find(".k-window-titlebar .k-i-window-restore").parent().remove().end().end().find(R).parent().show().end().end().find(N).parent().show(),t.isMaximized?e.wrapper.find(".k-i-window-maximize").parent().focus():t.isMinimized&&e.wrapper.find(".k-i-window-minimize").parent().focus(),e.options.width=n.width,e.options.height=n.height,e.options.modal.preventScroll||e._enableDocumentScrolling(),e._containerScrollTop&&0<e._containerScrollTop&&s.scrollTop(e._containerScrollTop),e._containerScrollLeft&&0<e._containerScrollLeft&&s.scrollLeft(e._containerScrollLeft),t.isMaximized=t.isMinimized=!1,e.wrapper.removeAttr("tabindex"),e.wrapper.removeAttr("aria-labelled-by"),e.resize()),e},_sizingAction:function(e,t){var i=this.wrapper,n=i[0].style,s=this.options;return s.isMaximized||s.isMinimized||(this.restoreOptions={width:n.width,height:n.height},i.children(T).hide().end().children(x).find(R).parent().hide().eq(0).before(c.action({name:"window-restore"})),t.call(this),this.wrapper.children(x).find(N).parent().toggle("maximize"!==e),this.trigger(e),i.find(".k-i-window-restore").parent().focus()),this},maximize:function(){return this._sizingAction("maximize",function(){var e=this.wrapper,t=this.containment&&!this._isPinned,i=e.position(),n=b(document);l(this.restoreOptions,{left:i.left+(t?this.containment.scrollLeft():0),top:i.top+(t?this.containment.scrollTop():0)}),this._containerScrollTop=t?this.containment.scrollTop():n.scrollTop(),this._containerScrollLeft=t?this.containment.scrollLeft():n.scrollLeft(),this._stopDocumentScrolling(),e.css({top:t?this.containment.scrollTop():0,left:t?this.containment.scrollLeft():0,position:t?"absolute":"fixed"}).addClass(D),this.options.isMaximized=!0,this._onDocumentResize()}),this},_stopDocumentScrolling:function(){var e=this.containment;if(e&&!this._isPinned)return this._storeOverflowRule(e),e.css(z,E),void this.wrapper.css({maxWidth:e.innerWidth(),maxHeight:e.innerHeight()});var t=b("body");this._storeOverflowRule(t),t.css(z,E);var i=b("html");this._storeOverflowRule(i),i.css(z,E)},_enableDocumentScrolling:function(){var e=this.containment;if(e&&!this._isPinned)return this._restoreOverflowRule(e),void this.wrapper.css({maxWidth:e.width,maxHeight:e.height});this._restoreOverflowRule(b(document.body)),this._restoreOverflowRule(b("html"))},_storeOverflowRule:function(e){if(!this._isOverflowStored(e)){var t=e.get(0).style.overflow;"string"==typeof t&&e.data(V,t)}},_isOverflowStored:function(e){return"string"==typeof e.data(V)},_restoreOverflowRule:function(e){var t=e.data(V);null!==t&&t!==h?(e.css(z,t),e.removeData(V)):e.css(z,"")},isMaximized:function(){return this.options.isMaximized},minimize:function(){return this._sizingAction("minimize",function(){this.wrapper.css({height:"",minHeight:""}),this.element.hide(),this.options.isMinimized=!0}),this.wrapper.attr("tabindex",0),this.wrapper.attr("aria-labelled-by",this.element.attr("aria-labelled-by")),this._updateBoundaries(),this},isMinimized:function(){return this.options.isMinimized},pin:function(){var e=b(window),t=this.wrapper,i=this.options,n=i.position,s=this.containment?X(t[0]).top+K(this.containment,"borderTopWidth"):K(t,"top"),r=this.containment?X(t[0]).left+K(this.containment,"borderLeftWidth"):K(t,"left");this.options.isMaximized||(n.top=s,n.left=r,this.containment&&"fixed"===this.containment.css("position")||(n.top-=e.scrollTop(),n.left-=e.scrollLeft()),t.css(l(n,{position:"fixed"})),t.children(x).find(".k-i-pin").addClass("k-i-unpin").removeClass("k-i-pin"),this._isPinned=!0,this.options.pinned=!0,this.containment&&(i.maxWidth=i.maxHeight=1/0,t.css({maxWidth:"",maxHeight:""})))},unpin:function(){var e=this,t=b(window),i=e.wrapper,n=e.options,s=e.options.position,r=e.containment,a=parseInt(i.css("top"),10)+t.scrollTop(),o=parseInt(i.css("left"),10)+t.scrollLeft();e.options.isMaximized||(e._isPinned=!1,e.options.pinned=!1,r&&(e._updateBoundaries(),n.maxWidth=Math.min(r.width,n.maxWidth),n.maxHeight=Math.min(r.height-K(i,"padding-top"),n.maxHeight),i.css({maxWidth:n.maxWidth,maxHeight:n.maxHeight}),a=a<r.position.top?e.minTop:a>r.position.top+r.height?e.maxTop:a+r.scrollTop()-(r.position.top+K(r,"border-top-width")),o=o<r.position.left?e.minLeft:o>r.position.left+r.width?e.maxLeft:o+r.scrollLeft()-(r.position.left+K(r,"border-left-width"))),s.top=Q(a,e.minTop,e.maxTop),s.left=Q(o,e.minLeft,e.maxLeft),i.css(l(s,{position:""})),i.children(x).find(B).addClass("k-i-pin").removeClass("k-i-unpin"))},_onDocumentResize:function(){var e,t,i=this.wrapper,n=b(window),s=y.support.zoomLevel(),r="content-box"==i.css("box-sizing");if(this.options.isMaximized){var a=r?K(i,"border-left-width")+K(i,"border-right-width"):0,o=r?K(i,"border-top-width")+K(i,"border-bottom-width"):0,l=r?K(i,"padding-top"):0;t=this.containment&&!this._isPinned?(e=this.containment.innerWidth()-a,this.containment.innerHeight()-(o+l)):(e=n.width()/s-a,n.height()/s-(o+l)),i.css({width:e,height:t}),this.options.width=e,this.options.height=t,this.resize()}},refresh:function(e){var t,i,n,s=this.options,r=b(this.element);return g(e)||(e={url:e}),e=l({},s.content,e),i=$(s.iframe)?s.iframe:e.iframe,(n=e.url)?($(i)||(i=!G(n)),i?((t=r.find("."+I)[0])?t.src=n||t.src:r.html(c.contentFrame(l({},s,{content:e}))),r.find("."+I).unbind("load"+v).on("load"+v,_(this._triggerRefresh,this))):this._ajaxRequest(e)):(e.template&&this.content(o(e.template)({})),this.trigger(H)),r.toggleClass("k-window-iframecontent",!!i),this},_triggerRefresh:function(){this.trigger(H)},_ajaxComplete:function(){clearTimeout(this._loadingIconTimeout),this.wrapper.find(U).removeClass(e)},_ajaxError:function(e,t){this.trigger("error",{status:t,xhr:e})},_ajaxSuccess:function(i){return function(e){var t=e;i&&(t=o(i)(e||{})),this.content(t,e),this.element.prop("scrollTop",0),this.trigger(H)}},_showLoading:function(){this.wrapper.find(U).addClass(e)},_ajaxRequest:function(e){this._loadingIconTimeout=setTimeout(_(this._showLoading,this),100),b.ajax(l({type:"GET",dataType:"html",cache:!1,error:_(this._ajaxError,this),complete:_(this._ajaxComplete,this),success:_(this._ajaxSuccess(e.template),this)},e))},_destroy:function(){this.resizing&&this.resizing.destroy(),this.dragging&&this.dragging.destroy(),this.wrapper.off(v).children(C).off(v).end().find(".k-resize-handle,.k-window-titlebar").off(v),b(window).off("resize"+v+this._marker),b(window).off(p),b(window).off(v),clearTimeout(this._loadingIconTimeout),f.fn.destroy.call(this),this.unbind(h),y.destroy(this.wrapper),this._removeOverlay(!0)},destroy:function(){this._destroy(),this.wrapper.empty().remove(),this.wrapper=this.appendTo=this.element=b()},_createWindow:function(){var t,e,i=this.element,n=this.options,s=y.support.isRtl(i);!1===n.scrollable&&i.css("overflow","hidden"),e=b(c.wrapper(n)),t=i.find("iframe:not(.k-content)").map(function(){var e=this.getAttribute("src");return this.src="",e}),e.toggleClass("k-rtl",s).append(i).find("iframe:not(.k-content)").each(function(e){this.src=t[e]}),this.containment?this.containment.prepend(e):this.appendTo&&e.appendTo(this.appendTo),e.find(".k-window-title").css(s?"left":"right",a(e.find(".k-window-actions"))+10),i.css("visibility","").show(),i.find("[data-role=editor]").each(function(){var e=b(this).data("kendoEditor");e&&e.refresh()}),e=i=null}});function ee(e){var t=this;t.owner=e,t._preventDragging=!1,t._draggable=new n(e.wrapper,{filter:">"+T,group:e.wrapper.id+"-resizing",dragstart:_(t.dragstart,t),drag:_(t.drag,t),dragend:_(t.dragend,t)}),t._draggable.userEvents.bind("press",_(t.addOverlay,t)),t._draggable.userEvents.bind("release",_(t.removeOverlay,t))}function te(e,t){var i=this;i.owner=e,i._preventDragging=!1,i._draggable=new n(e.wrapper,{filter:t,group:e.wrapper.id+"-moving",dragstart:_(i.dragstart,i),drag:_(i.drag,i),dragend:_(i.dragend,i),dragcancel:_(i.dragcancel,i)}),i._draggable.userEvents.stopPropagation=!1}c={wrapper:o("<div class='k-widget k-window' />"),action:o("<a role='button' href='\\#' class='k-button k-bare k-button-icon k-window-action' aria-label='#= name #'><span class='k-icon k-i-#= name.toLowerCase() #'></span></a>"),titlebar:o("<div class='k-window-titlebar k-header'><span class='k-window-title'>#= title #</span><div class='k-window-actions' /></div>"),overlay:"<div class='k-overlay' />",contentFrame:o("<iframe frameborder='0' title='#= title #' class='"+I+"' src='#= content.url #'>This page requires frames in order to show content</iframe>"),resizeHandle:o("<div class='k-resize-handle k-resize-#= data #'></div>")},ee.prototype={addOverlay:function(){this.owner.wrapper.append(c.overlay)},removeOverlay:function(){this.owner.wrapper.find(S).remove()},dragstart:function(e){var t=this,i=t.owner,n=i.wrapper;if(t._preventDragging=i.trigger(P),!t._preventDragging){t.elementPadding=parseInt(n.css("padding-top"),10),t.initialPosition=y.getOffset(n,"position"),t.resizeDirection=e.currentTarget.prop("className").replace("k-resize-handle k-resize-",""),t.initialSize={width:n.width(),height:n.height()},i._updateBoundaries(),t.containerOffset=i.containment?i.containment.position:y.getOffset(i.appendTo,"position");var s=n.offsetParent();if(s.is("html"))t.containerOffset.top=t.containerOffset.left=0;else{var r=s.css("margin-top"),a=s.css("margin-left");if(!j.test(r)||!j.test(a)){var o=X(n[0]),l=o.left-t.containerOffset.left-t.initialPosition.left,u=o.top-t.containerOffset.top-t.initialPosition.top;t._relativeElMarginLeft=1<l?l:0,t._relativeElMarginTop=1<u?u:0,t.initialPosition.left+=t._relativeElMarginLeft,t.initialPosition.top+=t._relativeElMarginTop}}n.children(T).not(e.currentTarget).hide(),b(d).css(O,e.currentTarget.css(O))}},drag:function(e){if(!this._preventDragging){var t,i,n,s,r=this.owner,a=r.wrapper,o=r.options,l=o.position,u=this.resizeDirection,c=this.containerOffset,d=this.initialPosition,p=this.initialSize,h=r.containment&&!r._isPinned,f=y.support.isRtl(r.containment),m=h&&f&&r.containment.innerWidth()>r.containment.width?y.support.scrollbar():0,g=h?{top:r.containment.scrollTop(),left:r.containment.scrollLeft()}:{top:0,left:0},_=Math.max(e.x.location,0),v=Math.max(e.y.location,0);0<=u.indexOf("e")?(t=r.containment&&_-p.width>=r.maxLeft-g.left+c.left+m?r.maxLeft+m-d.left+p.width-g.left:_-d.left-c.left,a.width(Q(t,o.minWidth,o.maxWidth))):0<=u.indexOf("w")&&(t=Q((s=d.left+p.width+c.left)-_,o.minWidth,o.maxWidth),l.left=s-t-c.left-m-(this._relativeElMarginLeft||0)+g.left,r.containment&&l.left<=r.minLeft&&(l.left=r.minLeft,t=Q(s-m-l.left-c.left+g.left,o.minWidth,o.maxWidth)),a.css({left:l.left,width:t}));var w=v;r.options.pinned&&(w-=b(window).scrollTop()),0<=u.indexOf("s")?(i=w-d.top-this.elementPadding-c.top,w-p.height-this.elementPadding>=r.maxTop+c.top-g.top&&(i=r.maxTop-d.top+p.height-g.top),a.height(Q(i,o.minHeight,o.maxHeight))):0<=u.indexOf("n")&&(i=Q((n=d.top+p.height+c.top)-w,o.minHeight,o.maxHeight),l.top=n-i-c.top-(this._relativeElMarginTop||0)+g.top,l.top<=r.minTop&&r.containment&&(l.top=r.minTop,i=Q(n-l.top-c.top+g.top,o.minHeight,o.maxHeight)),a.css({top:l.top,height:i})),t&&(r.options.width=t+"px"),i&&(r.options.height=i+"px"),r.resize()}},dragend:function(e){if(!this._preventDragging){var t=this.owner,i=t.wrapper;return i.children(T).not(e.currentTarget).show(),b(d).css(O,""),t.touchScroller&&t.touchScroller.reset(),27==e.keyCode&&i.css(this.initialPosition).css(this.initialSize),t.trigger("resizeEnd"),!1}},destroy:function(){this._draggable&&this._draggable.destroy(),this._draggable=this.owner=null}},te.prototype={dragstart:function(e){var t=this.owner,i=t.options.draggable,n=t.element,s=n.find(".k-window-actions"),r=y.getOffset(t.appendTo);this._preventDragging=t.trigger("dragstart")||!i,this._preventDragging||t.isMaximized()||(t.initialWindowPosition=y.getOffset(t.wrapper,"position"),t.initialPointerPosition={left:t.options.position.left,top:t.options.position.top},t.startPosition={left:e.x.client-t.initialWindowPosition.left,top:e.y.client-t.initialWindowPosition.top},t._updateBoundaries(),t.containment||(0<s.length?t.minLeft=a(s)+parseInt(s.css("right"),10)-a(n):t.minLeft=20-a(n),t.minLeft-=r.left,t.minTop=-r.top),t.wrapper.append(c.overlay).children(T).hide(),b(d).css(O,e.currentTarget.css(O)))},drag:function(e){var t,i,n=this.owner,s=n.options.position,r=n.options.draggable.axis;this._preventDragging||n.isMaximized()||(r&&"x"!==r.toLowerCase()||(t=e.x.client-n.startPosition.left,n.containment&&!n._isPinned&&(t+=n.containment.scrollLeft()),s.left=Q(t,n.minLeft,n.maxLeft)),r&&"y"!==r.toLowerCase()||(i=e.y.client-n.startPosition.top,n.containment&&!n._isPinned&&(i+=n.containment.scrollTop()),s.top=Q(i,n.minTop,n.maxTop)),y.support.transforms?b(n.wrapper).css("transform","translate("+(s.left-n.initialPointerPosition.left)+"px, "+(s.top-n.initialPointerPosition.top)+"px)"):b(n.wrapper).css(s))},_finishDrag:function(){var e=this.owner;e.wrapper.children(T).toggle(!e.options.isMinimized).end().find(S).remove(),b(d).css(O,"")},dragcancel:function(e){this._preventDragging||(this._finishDrag(),e.currentTarget.closest(w).css(this.owner.initialWindowPosition))},dragend:function(){var e=this.owner;if(!this._preventDragging&&!e.isMaximized())return b(e.wrapper).css(e.options.position).css("transform",""),this._finishDrag(),e.trigger("dragend"),!1},destroy:function(){this._draggable&&this._draggable.destroy(),this._draggable=this.owner=null}},y.ui.plugin(Z)}(window.kendo.jQuery),window.kendo});